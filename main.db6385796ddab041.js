var ZZ=Object.defineProperty,XZ=Object.defineProperties,QZ=Object.getOwnPropertyDescriptors,rp=Object.getOwnPropertySymbols,uO=Object.prototype.hasOwnProperty,hO=Object.prototype.propertyIsEnumerable,dO=(ie,Be,me)=>Be in ie?ZZ(ie,Be,{enumerable:!0,configurable:!0,writable:!0,value:me}):ie[Be]=me,N=(ie,Be)=>{for(var me in Be||(Be={}))uO.call(Be,me)&&dO(ie,me,Be[me]);if(rp)for(var me of rp(Be))hO.call(Be,me)&&dO(ie,me,Be[me]);return ie},he=(ie,Be)=>XZ(ie,QZ(Be)),Ru=(ie,Be)=>{var me={};for(var q in ie)uO.call(ie,q)&&Be.indexOf(q)<0&&(me[q]=ie[q]);if(null!=ie&&rp)for(var q of rp(ie))Be.indexOf(q)<0&&hO.call(ie,q)&&(me[q]=ie[q]);return me};(self.webpackChunkstar_compose=self.webpackChunkstar_compose||[]).push([[179],{441:(ie,Be,me)=>{"use strict";function q(n){return"function"==typeof n}function et(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ke=et(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Dt(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Me{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(q(i))try{i()}catch(r){e=r instanceof Ke?r.errors:[r]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const r of s)try{Lo(r)}catch(o){e=null!=e?e:[],o instanceof Ke?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ke(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Lo(e);else{if(e instanceof Me){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Dt(t,e)}remove(e){const{_teardowns:t}=this;t&&Dt(t,e),e instanceof Me&&e._removeParent(this)}}Me.EMPTY=(()=>{const n=new Me;return n.closed=!0,n})();const li=Me.EMPTY;function Ji(n){return n instanceof Me||n&&"closed"in n&&q(n.remove)&&q(n.add)&&q(n.unsubscribe)}function Lo(n){q(n)?n():n.unsubscribe()}const es={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vr={setTimeout(...n){const{delegate:e}=Vr;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Vr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Vo(n){Vr.setTimeout(()=>{const{onUnhandledError:e}=es;if(!e)throw n;e(n)})}function er(){}const Fu=ci("C",void 0,void 0);function ci(n,e,t){return{kind:n,value:e,error:t}}let xi=null;function Fn(n){if(es.useDeprecatedSynchronousErrorHandling){const e=!xi;if(e&&(xi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=xi;if(xi=null,t)throw i}}else n()}class jo extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ji(e)&&e.add(this)):this.destination=Pu}static create(e,t,i){return new Br(e,t,i)}next(e){this.isStopped?Ho(function Bo(n){return ci("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ho(function tr(n){return ci("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ho(Fu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Br extends jo{constructor(e,t,i){let s;if(super(),q(e))s=e;else if(e){let r;({next:s,error:t,complete:i}=e),this&&es.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe()):r=e,s=null==s?void 0:s.bind(r),t=null==t?void 0:t.bind(r),i=null==i?void 0:i.bind(r)}this.destination={next:s?jr(s):er,error:jr(null!=t?t:Mi),complete:i?jr(i):er}}}function jr(n,e){return(...t)=>{try{n(...t)}catch(i){es.useDeprecatedSynchronousErrorHandling?function bl(n){es.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=n)}(i):Vo(i)}}}function Mi(n){throw n}function Ho(n,e){const{onStoppedNotification:t}=es;t&&Vr.setTimeout(()=>t(n,e))}const Pu={closed:!0,next:er,error:Mi,complete:er},wl="function"==typeof Symbol&&Symbol.observable||"@@observable";function ts(n){return n}let Ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){const r=function ap(n){return n&&n instanceof jo||function op(n){return n&&q(n.next)&&q(n.error)&&q(n.complete)}(n)&&Ji(n)}(t)?t:new Br(t,i,s);return Fn(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Lu(i))((s,r)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){r(l),null==o||o.unsubscribe()}},r,s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[wl](){return this}pipe(...t){return function Nu(n){return 0===n.length?ts:1===n.length?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}(t)(this)}toPromise(t){return new(t=Lu(t))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=e=>new n(e),n})();function Lu(n){var e;return null!==(e=null!=n?n:es.Promise)&&void 0!==e?e:Promise}const lp=et(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Q(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new lp}next(t){Fn(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const s of i)s.next(t)}})}error(t){Fn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Fn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:s,observers:r}=this;return i||s?li:(r.push(t),new Me(()=>Dt(r,t)))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:s,isStopped:r}=this;i?t.error(s):r&&t.complete()}asObservable(){const t=new Ue;return t.source=this,t}}return n.create=(e,t)=>new Q(e,t),n})();class Q extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:li}}function _e(n){return q(null==n?void 0:n.lift)}function L(n){return e=>{if(_e(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class ee extends jo{constructor(e,t,i,s,r){super(e),this.onFinalize=r,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=s?function(o){try{s(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function V(n,e){return L((t,i)=>{let s=0;t.subscribe(new ee(i,r=>{i.next(n.call(e,r,s++))}))})}function zr(n){return this instanceof zr?(this.v=n,this):new zr(n)}function mO(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,e||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){i[d]&&(s[d]=function(f){return new Promise(function(p,g){r.push([d,f,p,g])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof zr?Promise.resolve(d.value.v).then(c,u):h(r[0][2],d)}(i[d](f))}catch(p){h(r[0][3],p)}}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),r.shift(),r.length&&a(r[0][0],r[0][1])}}function _O(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Z0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(o){return new Promise(function(a,l){!function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}(a,l,(o=n[r](o)).done,o.value)})}}}const cp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function X0(n){return q(null==n?void 0:n.then)}function Q0(n){return q(n[wl])}function K0(n){return Symbol.asyncIterator&&q(null==n?void 0:n[Symbol.asyncIterator])}function J0(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const e1=function vO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function t1(n){return q(null==n?void 0:n[e1])}function n1(n){return mO(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield zr(t.read());if(s)return yield zr(void 0);yield yield zr(i)}}finally{t.releaseLock()}})}function s1(n){return q(null==n?void 0:n.getReader)}function $n(n){if(n instanceof Ue)return n;if(null!=n){if(Q0(n))return function bO(n){return new Ue(e=>{const t=n[wl]();if(q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cp(n))return function wO(n){return new Ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(X0(n))return function CO(n){return new Ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Vo)})}(n);if(K0(n))return r1(n);if(t1(n))return function DO(n){return new Ue(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(s1(n))return function EO(n){return r1(n1(n))}(n)}throw J0(n)}function r1(n){return new Ue(e=>{(function SO(n,e){var t,i,s,r;return function As(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):function s(r){return r instanceof t?r:new t(function(o){o(r)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=_O(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ks(n,e,t,i=0,s=!1){const r=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function Bt(n,e,t=1/0){return q(e)?Bt((i,s)=>V((r,o)=>e(i,r,s,o))($n(n(i,s))),t):("number"==typeof e&&(t=e),L((i,s)=>function TO(n,e,t,i,s,r,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{r&&e.next(g),c++;let m=!1;$n(t(g,u++)).subscribe(new ee(e,_=>{null==s||s(_),r?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<i;){const _=l.shift();o?ks(e,o,()=>p(_)):p(_)}d()}catch(_){e.error(_)}}))};return n.subscribe(new ee(e,f,()=>{h=!0,d()})),()=>{null==a||a()}}(i,s,n,t)))}function Sl(n=1/0){return Bt(ts,n)}const Is=new Ue(n=>n.complete());function o1(n){return n&&q(n.schedule)}function up(n){return n[n.length-1]}function a1(n){return q(up(n))?n.pop():void 0}function Tl(n){return o1(up(n))?n.pop():void 0}function l1(n,e=0){return L((t,i)=>{t.subscribe(new ee(i,s=>ks(i,n,()=>i.next(s),e),()=>ks(i,n,()=>i.complete(),e),s=>ks(i,n,()=>i.error(s),e)))})}function c1(n,e=0){return L((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function u1(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ue(t=>{ks(t,e,()=>{const i=n[Symbol.asyncIterator]();ks(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function Kt(n,e){return e?function FO(n,e){if(null!=n){if(Q0(n))return function AO(n,e){return $n(n).pipe(c1(e),l1(e))}(n,e);if(cp(n))return function IO(n,e){return new Ue(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(X0(n))return function kO(n,e){return $n(n).pipe(c1(e),l1(e))}(n,e);if(K0(n))return u1(n,e);if(t1(n))return function OO(n,e){return new Ue(t=>{let i;return ks(t,e,()=>{i=n[e1](),ks(t,e,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void t.error(o)}r?t.complete():t.next(s)},0,!0)}),()=>q(null==i?void 0:i.return)&&i.return()})}(n,e);if(s1(n))return function RO(n,e){return u1(n1(n),e)}(n,e)}throw J0(n)}(n,e):$n(n)}function ns(...n){const e=Tl(n),t=function MO(n,e){return"number"==typeof up(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?$n(i[0]):Sl(t)(Kt(i,e)):Is}function Gn(n){return n<=0?()=>Is:L((e,t)=>{let i=0;e.subscribe(new ee(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function Uo(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o=null,a=null,l=null,c=0,u=!1,h=!1;const d=()=>{null==a||a.unsubscribe(),a=null},f=()=>{d(),o=l=null,u=h=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return L((g,m)=>{c++,!h&&!u&&d();const _=l=null!=l?l:e();m.add(()=>{c--,0===c&&!h&&!u&&(a=hp(p,s))}),_.subscribe(m),o||(o=new Br({next:y=>_.next(y),error:y=>{h=!0,d(),a=hp(f,t,y),_.error(y)},complete:()=>{u=!0,d(),a=hp(f,i),_.complete()}}),Kt(g).subscribe(o))})(r)}}function hp(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Gn(1)).subscribe(()=>n())}function dt(n){for(let e in n)if(n[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function dp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const PO=dt({__forward_ref__:dt});function st(n){return n.__forward_ref__=st,n.toString=function(){return tt(this())},n}function De(n){return h1(n)?n():n}function h1(n){return"function"==typeof n&&n.hasOwnProperty(PO)&&n.__forward_ref__===st}class qe extends Error{constructor(e,t){super(function pp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ye(n){return"string"==typeof n?n:null==n?"":String(n)}function vn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ye(n)}function Bu(n,e){const t=e?` in ${e}`:"";throw new qe(-201,`No provider for ${vn(n)} found${t}`)}function Yn(n,e){null==n&&function vt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function gp(n){return d1(n,ju)||d1(n,p1)}function d1(n,e){return n.hasOwnProperty(e)?n[e]:null}function f1(n){return n&&(n.hasOwnProperty(mp)||n.hasOwnProperty(zO))?n[mp]:null}const ju=dt({\u0275prov:dt}),mp=dt({\u0275inj:dt}),p1=dt({ngInjectableDef:dt}),zO=dt({ngInjectorDef:dt});var ve=(()=>((ve=ve||{})[ve.Default=0]="Default",ve[ve.Host=1]="Host",ve[ve.Self=2]="Self",ve[ve.SkipSelf=4]="SkipSelf",ve[ve.Optional=8]="Optional",ve))();let _p;function ir(n){const e=_p;return _p=n,e}function g1(n,e,t){const i=gp(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ve.Optional?null:void 0!==e?e:void Bu(tt(n),"Injector")}function sr(n){return{toString:n}.toString()}var ki=(()=>((ki=ki||{})[ki.OnPush=0]="OnPush",ki[ki.Default=1]="Default",ki))(),Ii=(()=>{return(n=Ii||(Ii={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ii;var n})();const qO="undefined"!=typeof globalThis&&globalThis,$O="undefined"!=typeof window&&window,GO="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rt=qO||"undefined"!=typeof global&&global||$O||GO,qo={},ft=[],Hu=dt({\u0275cmp:dt}),yp=dt({\u0275dir:dt}),vp=dt({\u0275pipe:dt}),m1=dt({\u0275mod:dt}),Rs=dt({\u0275fac:dt}),xl=dt({__NG_ELEMENT_ID__:dt});let WO=0;function rn(n){return sr(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ki.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ft,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ii.Emulated,id:"c",styles:n.styles||ft,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=WO++,i.inputs=b1(n.inputs,t),i.outputs=b1(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(_1):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(y1):null,i})}function _1(n){return cn(n)||function rr(n){return n[yp]||null}(n)}function y1(n){return function Ur(n){return n[vp]||null}(n)}const v1={};function ot(n){return sr(()=>{const e={type:n.type,bootstrap:n.bootstrap||ft,declarations:n.declarations||ft,imports:n.imports||ft,exports:n.exports||ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(v1[n.id]=n.type),e})}function b1(n,e){if(null==n)return qo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),t[s]=i,e&&(e[s]=r)}return t}const se=rn;function cn(n){return n[Hu]||null}function ui(n,e){const t=n[m1]||null;if(!t&&!0===e)throw new Error(`Type ${tt(n)} does not have '\u0275mod' property.`);return t}function is(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ri(n){return Array.isArray(n)&&!0===n[1]}function Cp(n){return 0!=(8&n.flags)}function $u(n){return 2==(2&n.flags)}function Gu(n){return 1==(1&n.flags)}function Fi(n){return null!==n.template}function JO(n){return 0!=(512&n[2])}function Wr(n,e){return n.hasOwnProperty(Rs)?n[Rs]:null}class nR{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ln(){return C1}function C1(n){return n.type.prototype.ngOnChanges&&(n.setInput=sR),iR}function iR(){const n=E1(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===qo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function sR(n,e,t,i){const s=E1(n)||function rR(n,e){return n[D1]=e}(n,{previous:qo,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[t],l=o[a];r[a]=new nR(l&&l.currentValue,e,o===qo),n[i]=e}Ln.ngInherit=!0;const D1="__ngSimpleChanges__";function E1(n){return n[D1]||null}const S1="http://www.w3.org/2000/svg";let Sp;function Mt(n){return!!n.listen}const x1={createRenderer:(n,e)=>function Tp(){return void 0!==Sp?Sp:"undefined"!=typeof document?document:void 0}()};function jt(n){for(;Array.isArray(n);)n=n[0];return n}function Wu(n,e){return jt(e[n])}function fi(n,e){return jt(e[n.index])}function xp(n,e){return n.data[e]}function Xn(n,e){const t=e[n];return is(t)?t:t[0]}function M1(n){return 4==(4&n[2])}function Mp(n){return 128==(128&n[2])}function or(n,e){return null==e?null:n[e]}function A1(n){n[18]=0}function Ap(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const fe={lFrame:L1(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function k1(){return fe.bindingsEnabled}function O(){return fe.lFrame.lView}function $e(){return fe.lFrame.tView}function Xo(n){return fe.lFrame.contextLView=n,n[8]}function $t(){let n=I1();for(;null!==n&&64===n.type;)n=n.parent;return n}function I1(){return fe.lFrame.currentTNode}function ss(n,e){const t=fe.lFrame;t.currentTNode=n,t.isParent=e}function kp(){return fe.lFrame.isParent}function Ip(){fe.lFrame.isParent=!1}function Yu(){return fe.isInCheckNoChangesMode}function Zu(n){fe.isInCheckNoChangesMode=n}function bn(){const n=fe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Qo(){return fe.lFrame.bindingIndex++}function vR(n,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Op(e)}function Op(n){fe.lFrame.currentDirectiveIndex=n}function Rp(n){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function F1(){return fe.lFrame.currentQueryIndex}function Fp(n){fe.lFrame.currentQueryIndex=n}function wR(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function P1(n,e,t){if(t&ve.SkipSelf){let s=e,r=n;for(;!(s=s.parent,null!==s||t&ve.Host||(s=wR(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;e=s,n=r}const i=fe.lFrame=N1();return i.currentTNode=e,i.lView=n,!0}function Xu(n){const e=N1(),t=n[1];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function N1(){const n=fe.lFrame,e=null===n?null:n.child;return null===e?L1(n):e}function L1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function V1(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const B1=V1;function Qu(){const n=V1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wn(){return fe.lFrame.selectedIndex}function ar(n){fe.lFrame.selectedIndex=n}function At(){const n=fe.lFrame;return xp(n.tView,n.selectedIndex)}function Pi(){fe.lFrame.currentNamespace=S1}function Ku(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Ju(n,e,t){j1(n,e,3,t)}function eh(n,e,t,i){(3&n[2])===t&&j1(n,e,t,i)}function Pp(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function j1(n,e,t,i){const r=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(AR(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function AR(n,e,t,i){const s=t[i]<0,r=t[i+1],a=n[s?-t[i]:t[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Ol{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function th(n,e,t){const i=Mt(n);let s=0;for(;s<t.length;){const r=t[s];if("number"==typeof r){if(0!==r)break;s++;const o=t[s++],a=t[s++],l=t[s++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=r,a=t[++s];Lp(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),s++}}return s}function H1(n){return 3===n||4===n||6===n}function Lp(n){return 64===n.charCodeAt(0)}function nh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?t=s:0===t||z1(n,t,s,null,-1===t||2===t?e[++i]:null)}}return n}function z1(n,e,t,i,s){let r=0,o=n.length;if(-1===e)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,e),r=o+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function U1(n){return-1!==n}function Ko(n){return 32767&n}function Jo(n,e){let t=function FR(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Vp=!0;function ih(n){const e=Vp;return Vp=n,e}let PR=0;function Fl(n,e){const t=jp(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Bp(i.data,n),Bp(e,null),Bp(i.blueprint,null));const s=sh(n,e),r=n.injectorIndex;if(U1(s)){const o=Ko(s),a=Jo(s,e),l=a[1].data;for(let c=0;c<8;c++)e[r+c]=a[o+c]|l[o+c]}return e[r+8]=s,r}function Bp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function jp(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function sh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(t++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function rh(n,e,t){!function NR(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(xl)&&(i=t[xl]),null==i&&(i=t[xl]=PR++);const s=255&i;e.data[n+(s>>5)]|=1<<s}(n,e,t)}function G1(n,e,t){if(t&ve.Optional)return n;Bu(e,"NodeInjector")}function W1(n,e,t,i){if(t&ve.Optional&&void 0===i&&(i=null),0==(t&(ve.Self|ve.Host))){const s=n[9],r=ir(void 0);try{return s?s.get(e,i,t&ve.Optional):g1(e,i,t&ve.Optional)}finally{ir(r)}}return G1(i,e,t)}function Y1(n,e,t,i=ve.Default,s){if(null!==n){const r=function jR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xl)?n[xl]:void 0;return"number"==typeof e?e>=0?255&e:VR:e}(t);if("function"==typeof r){if(!P1(e,n,i))return i&ve.Host?G1(s,t,i):W1(e,t,i,s);try{const o=r(i);if(null!=o||i&ve.Optional)return o;Bu(t)}finally{B1()}}else if("number"==typeof r){let o=null,a=jp(n,e),l=-1,c=i&ve.Host?e[16][6]:null;for((-1===a||i&ve.SkipSelf)&&(l=-1===a?sh(n,e):e[a+8],-1!==l&&Q1(i,!1)?(o=e[1],a=Ko(l),e=Jo(l,e)):a=-1);-1!==a;){const u=e[1];if(X1(r,a,u.data)){const h=BR(a,e,t,o,i,c);if(h!==Z1)return h}l=e[a+8],-1!==l&&Q1(i,e[1].data[a+8]===c)&&X1(r,a,e)?(o=u,a=Ko(l),e=Jo(l,e)):a=-1}}}return W1(e,t,i,s)}const Z1={};function VR(){return new ea($t(),O())}function BR(n,e,t,i,s,r){const o=e[1],a=o.data[n+8],u=oh(a,o,t,null==i?$u(a)&&Vp:i!=o&&0!=(3&a.type),s&ve.Host&&r===a);return null!==u?Pl(e,o,u,a):Z1}function oh(n,e,t,i,s){const r=n.providerIndexes,o=e.data,a=1048575&r,l=n.directiveStart,u=r>>20,d=s?a+u:n.directiveEnd;for(let f=i?a:a+u;f<d;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(s){const f=o[l];if(f&&Fi(f)&&f.type===t)return l}return null}function Pl(n,e,t,i){let s=n[t];const r=e.data;if(function kR(n){return n instanceof Ol}(s)){const o=s;o.resolving&&function NO(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new qe(-200,`Circular dependency in DI detected for ${n}${t}`)}(vn(r[t]));const a=ih(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?ir(o.injectImpl):null;P1(n,i,ve.Default);try{s=n[t]=o.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function MR(n,e,t){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(i){const o=C1(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,s),r&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,r),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,r))}(t,r[t],e)}finally{null!==l&&ir(l),ih(a),o.resolving=!1,B1()}}return s}function X1(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Q1(n,e){return!(n&ve.Self||n&ve.Host&&e)}class ea{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Y1(this._tNode,this._lView,e,i,t)}}function Cn(n){return sr(()=>{const e=n.prototype.constructor,t=e[Rs]||Hp(e),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Rs]||Hp(s);if(r&&r!==t)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Hp(n){return h1(n)?()=>{const e=Hp(De(n));return e&&e()}:Wr(n)}function cr(n){return function LR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let s=0;for(;s<i;){const r=t[s];if(H1(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof t[s];)s++;else{if(r===e)return t[s+1];s+=2}}}return null}($t(),n)}const na="__parameters__";function sa(n,e,t){return sr(()=>{const i=function zp(n){return function(...t){if(n){const i=n(...t);for(const s in i)this[s]=i[s]}}}(e);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(na)?l[na]:Object.defineProperty(l,na,{value:[]})[na];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class W{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zR=new W("AnalyzeForEntryComponents");function pi(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),pi(i,e)):e!==n&&e.push(i)}return e}function rs(n,e){n.forEach(t=>Array.isArray(t)?rs(t,e):e(t))}function J1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ah(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Vl(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Qn(n,e,t){let i=ra(n,e);return i>=0?n[1|i]=t:(i=~i,function $R(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(1===s)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;)n[s]=n[s-2],s--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function qp(n,e){const t=ra(n,e);if(t>=0)return n[1|t]}function ra(n,e){return function nb(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<t];if(e===o)return r<<t;o>e?s=r:i=r+1}return~(s<<t)}(n,e,1)}const Bl={},Gp="__NG_DI_FLAG__",ch="ngTempTokenPath",KR=/\n/gm,sb="__source",eF=dt({provide:String,useValue:dt});let jl;function rb(n){const e=jl;return jl=n,e}function tF(n,e=ve.Default){if(void 0===jl)throw new qe(203,"");return null===jl?g1(n,void 0,e):jl.get(n,e&ve.Optional?null:void 0,e)}function x(n,e=ve.Default){return(function UO(){return _p}()||tF)(De(n),e)}const Wp=x;function Yp(n){const e=[];for(let t=0;t<n.length;t++){const i=De(n[t]);if(Array.isArray(i)){if(0===i.length)throw new qe(900,"");let s,r=ve.Default;for(let o=0;o<i.length;o++){const a=i[o],l=nF(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}e.push(x(s,r))}else e.push(x(i))}return e}function Hl(n,e){return n[Gp]=e,n.prototype[Gp]=e,n}function nF(n){return n[Gp]}const zl=Hl(sa("Inject",n=>({token:n})),-1),Kn=Hl(sa("Optional"),8),Yr=Hl(sa("SkipSelf"),4);let hh;function aa(n){var e;return(null===(e=function Xp(){if(void 0===hh&&(hh=null,rt.trustedTypes))try{hh=rt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return hh}())||void 0===e?void 0:e.createHTML(n))||n}class Zr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gF extends Zr{getTypeName(){return"HTML"}}class mF extends Zr{getTypeName(){return"Style"}}class _F extends Zr{getTypeName(){return"Script"}}class yF extends Zr{getTypeName(){return"URL"}}class vF extends Zr{getTypeName(){return"ResourceURL"}}function Jn(n){return n instanceof Zr?n.changingThisBreaksApplicationSecurity:n}function os(n,e){const t=pb(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function pb(n){return n instanceof Zr&&n.getTypeName()||null}class SF{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(aa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class TF{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=aa(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=aa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const o=t.item(s).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const MF=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,AF=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ql(n){return(n=String(n)).match(MF)||n.match(AF)?n:"unsafe:"+n}function mb(n){return(n=String(n)).split(",").map(e=>ql(e.trim())).join(", ")}function as(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $l(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const _b=as("area,br,col,hr,img,wbr"),yb=as("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vb=as("rp,rt"),Kp=$l(_b,$l(yb,as("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$l(vb,as("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$l(vb,yb)),Jp=as("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eg=as("srcset"),bb=$l(Jp,eg,as("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),as("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kF=as("script,style,template");class IF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Kp.hasOwnProperty(t))return this.sanitizedSomething=!0,!kF.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!bb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;Jp[a]&&(l=ql(l)),eg[a]&&(l=mb(l)),this.buf.push(" ",o,'="',wb(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Kp.hasOwnProperty(t)&&!_b.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const OF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RF=/([^\#-~ |!])/g;function wb(n){return n.replace(/&/g,"&amp;").replace(OF,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(RF,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fh;function Cb(n,e){let t=null;try{fh=fh||function gb(n){const e=new TF(n);return function xF(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch(n){return!1}}()?new SF(e):e}(n);let i=e?String(e):"";t=fh.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=t.innerHTML,t=fh.getInertBodyElement(i)}while(i!==r);return aa((new IF).sanitizeChildren(tg(t)||t))}finally{if(t){const i=tg(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function tg(n){return"content"in n&&function FF(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ze=(()=>((Ze=Ze||{})[Ze.NONE=0]="NONE",Ze[Ze.HTML=1]="HTML",Ze[Ze.STYLE=2]="STYLE",Ze[Ze.SCRIPT=3]="SCRIPT",Ze[Ze.URL=4]="URL",Ze[Ze.RESOURCE_URL=5]="RESOURCE_URL",Ze))();const Sb="__ngContext__";function hn(n,e){n[Sb]=e}function sg(n){const e=function Wl(n){return n[Sb]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function og(n){return n.ngOriginalError}function QF(n,...e){n.error(...e)}class Ns{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function XF(n){return n&&n.ngErrorLogger||QF}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&og(e);for(;t&&og(t);)t=og(t);return t||null}}const kb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rt))();function Ib(n){return n.ownerDocument.defaultView}function ls(n){return n instanceof Function?n():n}var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();function lg(n,e){return undefined(n,e)}function Yl(n){const e=n[3];return Ri(e)?e[3]:e}function cg(n){return Nb(n[13])}function ug(n){return Nb(n[4])}function Nb(n){for(;null!==n&&!Ri(n);)n=n[4];return n}function ca(n,e,t,i,s){if(null!=i){let r,o=!1;Ri(i)?r=i:is(i)&&(o=!0,i=i[0]);const a=jt(i);0===n&&null!==t?null==s?zb(e,t,a):Xr(e,t,a,s||null,!0):1===n&&null!==t?Xr(e,t,a,s||null,!0):2===n?function Zb(n,e,t){const i=ph(n,e);i&&function vP(n,e,t,i){Mt(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=r&&function CP(n,e,t,i,s){const r=t[7];r!==jt(t)&&ca(e,n,i,r,s);for(let a=10;a<t.length;a++){const l=t[a];Zl(l[1],l,n,e,i,r)}}(e,n,r,t,s)}}function dg(n,e,t){return Mt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function Vb(n,e){const t=n[9],i=t.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,Ap(s,-1)),t.splice(i,1)}function fg(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const s=i[17];null!==s&&s!==n&&Vb(s,i),e>0&&(n[t-1][4]=i[4]);const r=ah(n,10+e);!function hP(n,e){Zl(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Bb(n,e){if(!(256&e[2])){const t=e[11];Mt(t)&&t.destroyNode&&Zl(n,e,t,3,null,null),function pP(n){let e=n[13];if(!e)return pg(n[1],n);for(;e;){let t=null;if(is(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)is(e)&&pg(e[1],e),e=e[3];null===e&&(e=n),is(e)&&pg(e[1],e),t=e&&e[4]}e=t}}(e)}}function pg(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function yP(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const s=e[t[i]];if(!(s instanceof Ol)){const r=t[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,e),function _P(n,e){const t=n.cleanup,i=e[7];let s=-1;if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+1],a="function"==typeof o?o(e):jt(e[o]),l=i[s=t[r+2]],c=t[r+3];"boolean"==typeof c?a.removeEventListener(t[r],l,c):c>=0?i[s=c]():i[s=-c].unsubscribe(),r+=2}else{const o=i[s=t[r+1]];t[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();e[7]=null}}(n,e),1===e[1].type&&Mt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Ri(e[3])){t!==e[3]&&Vb(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function jb(n,e,t){return function Hb(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Ii.None||s===Ii.Emulated)return null}return fi(i,t)}(n,e.parent,t)}function Xr(n,e,t,i,s){Mt(n)?n.insertBefore(e,t,i,s):e.insertBefore(t,i,s)}function zb(n,e,t){Mt(n)?n.appendChild(e,t):e.appendChild(t)}function Ub(n,e,t,i,s){null!==i?Xr(n,e,t,i,s):zb(n,e,t)}function ph(n,e){return Mt(n)?n.parentNode(e):e.parentNode}function qb(n,e,t){return Gb(n,e,t)}let Gb=function $b(n,e,t){return 40&n.type?fi(n,t):null};function gh(n,e,t,i){const s=jb(n,i,e),r=e[11],a=qb(i.parent||e[6],i,e);if(null!=s)if(Array.isArray(t))for(let l=0;l<t.length;l++)Ub(r,s,t[l],a,!1);else Ub(r,s,t,a,!1)}function mh(n,e){if(null!==e){const t=e.type;if(3&t)return fi(e,n);if(4&t)return mg(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return mh(n,i);{const s=n[e.index];return Ri(s)?mg(-1,s):jt(s)}}if(32&t)return lg(e,n)()||jt(n[e.index]);{const i=Yb(n,e);return null!==i?Array.isArray(i)?i[0]:mh(Yl(n[16]),i):mh(n,e.next)}}return null}function Yb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function mg(n,e){const t=10+n+1;if(t<e.length){const i=e[t],s=i[1].firstChild;if(null!==s)return mh(i,s)}return e[7]}function _g(n,e,t,i,s,r,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&hn(jt(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)_g(n,e,t.child,i,s,r,!1),ca(e,n,s,a,r);else if(32&l){const c=lg(t,i);let u;for(;u=c();)ca(e,n,s,u,r);ca(e,n,s,a,r)}else 16&l?Xb(n,e,i,t,s,r):ca(e,n,s,a,r);t=o?t.projectionNext:t.next}}function Zl(n,e,t,i,s,r){_g(t,i,n.firstChild,e,s,r,!1)}function Xb(n,e,t,i,s,r){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ca(e,n,s,l[c],r);else _g(n,e,l,o[3],s,r,!0)}function Qb(n,e,t){Mt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function yg(n,e,t){Mt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Kb(n,e,t){let i=n.length;for(;;){const s=n.indexOf(e,t);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=e.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}t=s+1}}const Jb="ng-template";function EP(n,e,t){let i=0;for(;i<n.length;){let s=n[i++];if(t&&"class"===s){if(s=n[i],-1!==Kb(s.toLowerCase(),e,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function ew(n){return 4===n.type&&n.value!==Jb}function SP(n,e,t){return e===(4!==n.type||t?n.value:Jb)}function TP(n,e,t){let i=4;const s=n.attrs||[],r=function AP(n){for(let e=0;e<n.length;e++)if(H1(n[e]))return e;return n.length}(s);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!SP(n,l,t)||""===l&&1===e.length){if(Ni(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!EP(n.attrs,c,t)){if(Ni(i))return!1;o=!0}continue}const h=xP(8&i?"class":l,s,ew(n),t);if(-1===h){if(Ni(i))return!1;o=!0;continue}if(""!==c){let d;d=h>r?"":s[h+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==Kb(f,c,0)||2&i&&c!==d){if(Ni(i))return!1;o=!0}}}}else{if(!o&&!Ni(i)&&!Ni(l))return!1;if(o&&Ni(l))continue;o=!1,i=l|1&i}}return Ni(i)||o}function Ni(n){return 0==(1&n)}function xP(n,e,t,i){if(null===e)return-1;let s=0;if(i||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function kP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function tw(n,e,t=!1){for(let i=0;i<e.length;i++)if(TP(n,e[i],t))return!0;return!1}function IP(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function nw(n,e){return n?":not("+e.trim()+")":e}function OP(n){let e=n[0],t=1,i=2,s="",r=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Ni(o)&&(e+=nw(r,s),s=""),i=o,r=r||!Ni(i);t++}return""!==s&&(e+=nw(r,s)),e}const be={};function Ae(n){iw($e(),O(),wn()+n,Yu())}function iw(n,e,t,i){if(!i)if(3==(3&e[2])){const r=n.preOrderCheckHooks;null!==r&&Ju(e,r,t)}else{const r=n.preOrderHooks;null!==r&&eh(e,r,0,t)}ar(t)}function _h(n,e){return n<<17|e<<2}function Li(n){return n>>17&32767}function vg(n){return 2|n}function Ls(n){return(131068&n)>>2}function bg(n,e){return-131069&n|e<<2}function wg(n){return 1|n}function pw(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i],r=t[i+1];if(-1!==r){const o=n.data[r];Fp(s),o.contentQueries(2,e[r],r)}}}function Xl(n,e,t,i,s,r,o,a,l,c){const u=e.blueprint.slice();return u[0]=s,u[2]=140|i,A1(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=r,u[16]=2==e.type?n[16]:u,u}function ua(n,e,t,i,s){let r=n.data[e];if(null===r)r=function kg(n,e,t,i,s){const r=I1(),o=kp(),l=n.data[e]=function XP(n,e,t,i,s,r){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,e,t,i,s),function yR(){return fe.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=t,r.value=i,r.attrs=s;const o=function Il(){const n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return ss(r,!0),r}function ha(n,e,t,i){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function Ql(n,e,t){Xu(e);try{const i=n.viewQuery;null!==i&&Bg(1,i,t);const s=n.template;null!==s&&gw(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pw(n,e),n.staticViewQueries&&Bg(2,n.viewQuery,t);const r=n.components;null!==r&&function WP(n,e){for(let t=0;t<e.length;t++)pN(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Qu()}}function da(n,e,t,i){const s=e[2];if(256==(256&s))return;Xu(e);const r=Yu();try{A1(e),function O1(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&gw(n,e,t,2,i);const o=3==(3&s);if(!r)if(o){const c=n.preOrderCheckHooks;null!==c&&Ju(e,c,null)}else{const c=n.preOrderHooks;null!==c&&eh(e,c,0,null),Pp(e,0)}if(function dN(n){for(let e=cg(n);null!==e;e=ug(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const s=t[i],r=s[3];0==(1024&s[2])&&Ap(r,1),s[2]|=1024}}}(e),function hN(n){for(let e=cg(n);null!==e;e=ug(e))for(let t=10;t<e.length;t++){const i=e[t],s=i[1];Mp(i)&&da(s,i,s.template,i[8])}}(e),null!==n.contentQueries&&pw(n,e),!r)if(o){const c=n.contentCheckHooks;null!==c&&Ju(e,c)}else{const c=n.contentHooks;null!==c&&eh(e,c,1),Pp(e,1)}!function $P(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)ar(~s);else{const r=s,o=t[++i],a=t[++i];vR(o,r),a(2,e[r])}}}finally{ar(-1)}}(n,e);const a=n.components;null!==a&&function GP(n,e){for(let t=0;t<e.length;t++)fN(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Bg(2,l,i),!r)if(o){const c=n.viewCheckHooks;null!==c&&Ju(e,c)}else{const c=n.viewHooks;null!==c&&eh(e,c,2),Pp(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ap(e[3],-1))}finally{Qu()}}function YP(n,e,t,i){const s=e[10],r=!Yu(),o=M1(e);try{r&&!o&&s.begin&&s.begin(),o&&Ql(n,e,i),da(n,e,t,i)}finally{r&&!o&&s.end&&s.end()}}function gw(n,e,t,i,s){const r=wn(),o=2&i;try{ar(-1),o&&e.length>20&&iw(n,e,20,Yu()),t(i,s)}finally{ar(r)}}function Ig(n,e,t){!k1()||(function iN(n,e,t,i){const s=t.directiveStart,r=t.directiveEnd;n.firstCreatePass||Fl(t,e),hn(i,e);const o=t.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],c=Fi(l);c&&lN(e,t,l);const u=Pl(e,n,a,t);hn(u,e),null!==o&&cN(0,a-s,u,l,0,o),c&&(Xn(t.index,e)[8]=u)}}(n,e,t,fi(t,e)),128==(128&t.flags)&&function sN(n,e,t){const i=t.directiveStart,s=t.directiveEnd,o=t.index,a=function bR(){return fe.lFrame.currentDirectiveIndex}();try{ar(o);for(let l=i;l<s;l++){const c=n.data[l],u=e[l];Op(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Ew(c,u)}}finally{ar(-1),Op(a)}}(n,e,t))}function Og(n,e,t=fi){const i=e.localNames;if(null!==i){let s=e.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?t(e,n):n[o];n[s++]=a}}}function _w(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=bh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function bh(n,e,t,i,s,r,o,a,l,c){const u=20+i,h=u+s,d=function ZP(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:be);return t}(u,h),f="function"==typeof c?c():c;return d[1]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function bw(n,e,t,i){const s=kw(e);null===t?s.push(i):(s.push(t),n.firstCreatePass&&Iw(n).push(i,s.length-1))}function ww(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,s):t[i]=[e,s]}return t}function ti(n,e,t,i,s,r,o,a){const l=fi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(Fw(n,t,u,i,s),$u(e)&&function JP(n,e){const t=Xn(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function KP(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,e.value||"",i):s,Mt(r)?r.setProperty(l,i,s):Lp(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Rg(n,e,t,i){let s=!1;if(k1()){const r=function rN(n,e,t){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];tw(t,o.selectors,!1)&&(s||(s=[]),rh(Fl(t,e),n,o.type),Fi(o)?(Sw(n,t),s.unshift(o)):s.push(o))}return s}(n,e,t),o=null===i?null:{"":-1};if(null!==r){s=!0,Tw(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const h=r[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=ha(n,e,r.length,null);for(let u=0;u<r.length;u++){const h=r[u];t.mergedAttrs=nh(t.mergedAttrs,h.hostAttrs),xw(n,t,e,c,h),aN(c,h,o),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function QP(n,e){const i=e.directiveEnd,s=n.data,r=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=s[c],h=u.inputs,d=null===r||ew(e)?null:uN(h,r);o.push(d),a=ww(h,c,a),l=ww(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function oN(n,e,t){if(e){const i=n.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new qe(-301,`Export of name '${e[s+1]}' not found!`);i.push(e[s],r)}}}(t,i,o)}return t.mergedAttrs=nh(t.mergedAttrs,t.attrs),s}function Dw(n,e,t,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function nN(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function Ew(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Sw(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function aN(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fi(e)&&(t[""]=n)}}function Tw(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xw(n,e,t,i,s){n.data[i]=s;const r=s.factory||(s.factory=Wr(s.type)),o=new Ol(r,Fi(s),null);n.blueprint[i]=o,t[i]=o,Dw(n,e,0,i,ha(n,t,s.hostVars,be),s)}function lN(n,e,t){const i=fi(e,n),s=_w(t),r=n[10],o=wh(n,Xl(n,s,null,t.onPush?64:16,i,e,r,r.createRenderer(i,t),null,null));n[e.index]=o}function cs(n,e,t,i,s,r){const o=fi(n,e);!function Fg(n,e,t,i,s,r,o){if(null==r)Mt(n)?n.removeAttribute(e,s,t):e.removeAttribute(s);else{const a=null==o?ye(r):o(r,i||"",s);Mt(n)?n.setAttribute(e,s,a,t):t?e.setAttributeNS(t,s,a):e.setAttribute(s,a)}}(e[11],o,r,n.value,t,i,s)}function cN(n,e,t,i,s,r){const o=r[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==a?i.setInput(t,h,c,u):t[u]=h}}}function uN(n,e){let t=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,n[s],e[i+1])),i+=2}else i+=2;else i+=4}return t}function Mw(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function fN(n,e){const t=Xn(e,n);if(Mp(t)){const i=t[1];80&t[2]?da(i,t,i.template,t[8]):t[5]>0&&Pg(t)}}function Pg(n){for(let i=cg(n);null!==i;i=ug(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];da(o,r,o.template,r[8])}else r[5]>0&&Pg(r)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const s=Xn(t[i],n);Mp(s)&&s[5]>0&&Pg(s)}}function pN(n,e){const t=Xn(e,n),i=t[1];(function gN(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Ql(i,t,t[8])}function wh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Ng(n){for(;n;){n[2]|=64;const e=Yl(n);if(JO(n)&&!e)return n;n=e}return null}function Vg(n,e,t){const i=e[10];i.begin&&i.begin();try{da(n,e,n.template,t)}catch(s){throw Rw(e,s),s}finally{i.end&&i.end()}}function Aw(n){!function Lg(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=sg(t),s=i[1];YP(s,i,s.template,t)}}(n[8])}function Bg(n,e,t){Fp(0),e(n,t)}const vN=(()=>Promise.resolve(null))();function kw(n){return n[7]||(n[7]=[])}function Iw(n){return n.cleanup||(n.cleanup=[])}function Ow(n,e,t){return(null===n||Fi(n))&&(t=function cR(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function Rw(n,e){const t=n[9],i=t?t.get(Ns,null):null;i&&i.handleError(e)}function Fw(n,e,t,i,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,s,i,a):l[a]=s}}function Vs(n,e,t){const i=Wu(e,n);!function Lb(n,e,t){Mt(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Ch(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=fp(s,a):2==r&&(i=fp(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}const jg=new W("INJECTOR",-1);class Pw{get(e,t=Bl){if(t===Bl){const i=new Error(`NullInjectorError: No provider for ${tt(e)}!`);throw i.name="NullInjectorError",i}return t}}const Hg=new W("Set Injector scope."),Kl={},CN={};let zg;function Nw(){return void 0===zg&&(zg=new Pw),zg}function Lw(n,e=null,t=null,i){const s=Vw(n,e,t,i);return s._resolveInjectorDefTypes(),s}function Vw(n,e=null,t=null,i){return new DN(n,t,e||Nw(),i)}class DN{constructor(e,t,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&rs(t,a=>this.processProvider(a,e,t)),rs([e],a=>this.processInjectorType(a,[],r)),this.records.set(jg,fa(void 0,this));const o=this.records.get(Hg);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof e?null:tt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Bl,i=ve.Default){this.assertNotDestroyed();const s=rb(this),r=ir(void 0);try{if(!(i&ve.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function IN(n){return"function"==typeof n||"object"==typeof n&&n instanceof W}(e)&&gp(e);a=l&&this.injectableDefInScope(l)?fa(Ug(e),Kl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ve.Self?Nw():this.parent).get(e,t=i&ve.Optional&&t===Bl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ch]=o[ch]||[]).unshift(tt(e)),s)throw o;return function iF(n,e,t,i){const s=n[ch];throw e[sb]&&s.unshift(e[sb]),n.message=function sF(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=tt(e);if(Array.isArray(e))s=e.map(tt).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}s=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(KR,"\n  ")}`}("\n"+n.message,s,t,i),n.ngTokenPath=s,n[ch]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ir(r),rb(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,s)=>e.push(tt(s))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,"")}processInjectorType(e,t,i){if(!(e=De(e)))return!1;let s=f1(e);const r=null==s&&e.ngModule||void 0,o=void 0===r?e:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=f1(r)),null==s)return!1;if(null!=s.imports&&!a){let u;i.push(o);try{rs(s.imports,h=>{this.processInjectorType(h,t,i)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:d,providers:f}=u[h];rs(f,p=>this.processProvider(p,d,f||ft))}}this.injectorDefTypes.add(o);const l=Wr(o)||(()=>new o);this.records.set(o,fa(l,Kl));const c=s.providers;if(null!=c&&!a){const u=e;rs(c,h=>this.processProvider(h,u,c))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,i){let s=pa(e=De(e))?e:De(e&&e.provide);const r=function SN(n,e,t){return jw(n)?fa(void 0,n.useValue):fa(Bw(n),Kl)}(e);if(pa(e)||!0!==e.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=fa(void 0,Kl,!0),o.factory=()=>Yp(o.multi),this.records.set(s,o)),s=e,o.multi.push(e)}this.records.set(s,r)}hydrate(e,t){return t.value===Kl&&(t.value=CN,t.value=t.factory()),"object"==typeof t.value&&t.value&&function kN(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=De(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ug(n){const e=gp(n),t=null!==e?e.factory:Wr(n);if(null!==t)return t;if(n instanceof W)throw new qe(204,"");if(n instanceof Function)return function EN(n){const e=n.length;if(e>0)throw Vl(e,"?"),new qe(204,"");const t=function jO(n){const e=n&&(n[ju]||n[p1]);if(e){const t=function HO(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new qe(204,"")}function Bw(n,e,t){let i;if(pa(n)){const s=De(n);return Wr(s)||Ug(s)}if(jw(n))i=()=>De(n.useValue);else if(function xN(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Yp(n.deps||[]));else if(function TN(n){return!(!n||!n.useExisting)}(n))i=()=>x(De(n.useExisting));else{const s=De(n&&(n.useClass||n.provide));if(!function AN(n){return!!n.deps}(n))return Wr(s)||Ug(s);i=()=>new s(...Yp(n.deps))}return i}function fa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jw(n){return null!==n&&"object"==typeof n&&eF in n}function pa(n){return"function"==typeof n}let kt=(()=>{class n{static create(t,i){var s;if(Array.isArray(t))return Lw({name:""},i,t,"");{const r=null!==(s=t.name)&&void 0!==s?s:"";return Lw({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Bl,n.NULL=new Pw,n.\u0275prov=te({token:n,providedIn:"any",factory:()=>x(jg)}),n.__NG_ELEMENT_ID__=-1,n})();function BN(n,e){Ku(sg(n)[1],$t())}function je(n){let e=function Kw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let s;if(Fi(n))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new qe(903,"");s=e.\u0275dir}if(s){if(t){i.push(s);const o=n;o.inputs=Gg(n.inputs),o.declaredInputs=Gg(n.declaredInputs),o.outputs=Gg(n.outputs);const a=s.hostBindings;a&&UN(n,a);const l=s.viewQuery,c=s.contentQueries;if(l&&HN(n,l),c&&zN(n,c),dp(n.inputs,s.inputs),dp(n.declaredInputs,s.declaredInputs),dp(n.outputs,s.outputs),Fi(s)&&s.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===je&&(t=!1)}}e=Object.getPrototypeOf(e)}!function jN(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=e+=s.hostVars,s.hostAttrs=nh(s.hostAttrs,t=nh(t,s.hostAttrs))}}(i)}function Gg(n){return n===qo?{}:n===ft?[]:n}function HN(n,e){const t=n.viewQuery;n.viewQuery=t?(i,s)=>{e(i,s),t(i,s)}:e}function zN(n,e){const t=n.contentQueries;n.contentQueries=t?(i,s,r)=>{e(i,s,r),t(i,s,r)}:e}function UN(n,e){const t=n.hostBindings;n.hostBindings=t?(i,s)=>{e(i,s),t(i,s)}:e}let Dh=null;function ga(){if(!Dh){const n=rt.Symbol;if(n&&n.iterator)Dh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Dh=i)}}}return Dh}function Jl(n){return!!Wg(n)&&(Array.isArray(n)||!(n instanceof Map)&&ga()in n)}function Wg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function us(n,e,t){return n[e]=t}function dn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function at(n,e,t,i){const s=O();return dn(s,Qo(),e)&&($e(),cs(At(),s,n,e,t,i)),at}function En(n,e,t,i,s,r,o,a){const l=O(),c=$e(),u=n+20,h=c.firstCreatePass?function XN(n,e,t,i,s,r,o,a,l){const c=e.consts,u=ua(e,n,4,o||null,or(c,a));Rg(e,t,u,or(c,l)),Ku(e,u);const h=u.tViews=bh(2,u,i,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,s,r,o):c.data[u];ss(h,!1);const d=l[11].createComment("");gh(c,l,d,h),hn(d,l),wh(l,l[u]=Mw(d,l,d,h)),Gu(h)&&Ig(c,l,h),null!=o&&Og(l,h,a)}function Sa(n){return function Zo(n,e){return n[e]}(function _R(){return fe.lFrame.contextLView}(),20+n)}function C(n,e=ve.Default){const t=O();return null===t?x(n,e):Y1($t(),t,De(n),e)}function Th(){throw new Error("invalid")}function xe(n,e,t){const i=O();return dn(i,Qo(),e)&&ti($e(),At(),i,n,e,i[11],t,!1),xe}function Kg(n,e,t,i,s){const o=s?"class":"style";Fw(n,t,e.inputs[o],o,i)}function K(n,e,t,i){const s=O(),r=$e(),o=20+n,a=s[11],l=s[o]=dg(a,e,function xR(){return fe.lFrame.currentNamespace}()),c=r.firstCreatePass?function y2(n,e,t,i,s,r,o){const a=e.consts,c=ua(e,n,2,s,or(a,r));return Rg(e,t,c,or(a,o)),null!==c.attrs&&Ch(c,c.attrs,!1),null!==c.mergedAttrs&&Ch(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,r,s,0,e,t,i):r.data[o];ss(c,!0);const u=c.mergedAttrs;null!==u&&th(a,l,u);const h=c.classes;null!==h&&yg(a,l,h);const d=c.styles;null!==d&&Qb(a,l,d),64!=(64&c.flags)&&gh(r,s,l,c),0===function dR(){return fe.lFrame.elementDepthCount}()&&hn(l,s),function fR(){fe.lFrame.elementDepthCount++}(),Gu(c)&&(Ig(r,s,c),function mw(n,e,t){if(Cp(e)){const s=e.directiveEnd;for(let r=e.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,t[r],r)}}}(r,c,s)),null!==i&&Og(s,c)}function J(){let n=$t();kp()?Ip():(n=n.parent,ss(n,!1));const e=n;!function pR(){fe.lFrame.elementDepthCount--}();const t=$e();t.firstCreatePass&&(Ku(t,n),Cp(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function OR(n){return 0!=(16&n.flags)}(e)&&Kg(t,e,O(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function RR(n){return 0!=(32&n.flags)}(e)&&Kg(t,e,O(),e.stylesWithoutHost,!1)}function He(n,e,t,i){K(n,e,t,i),J()}function tc(){return O()}function nc(n){return!!n&&"function"==typeof n.then}const Jg=function bC(n){return!!n&&"function"==typeof n.subscribe};function We(n,e,t,i){const s=O(),r=$e(),o=$t();return wC(r,s,s[11],o,n,e,!!t,i),We}function em(n,e){const t=$t(),i=O(),s=$e();return wC(s,i,Ow(Rp(s.data),t,i),t,n,e,!1),em}function wC(n,e,t,i,s,r,o,a){const l=Gu(i),u=n.firstCreatePass&&Iw(n),h=e[8],d=kw(e);let f=!0;if(3&i.type||a){const m=fi(i,e),_=a?a(m):m,y=d.length,b=a?E=>a(jt(E[i.index])):i.index;if(Mt(t)){let E=null;if(!a&&l&&(E=function w2(n,e,t,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===t&&s[r+1]===i){const a=e[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,e,s,i.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=r,E.__ngLastListenerFn__=r,f=!1;else{r=tm(i,e,h,r,!1);const w=t.listen(_,s,r);d.push(r,w),u&&u.push(s,b,y,y+1)}}else r=tm(i,e,h,r,!0),_.addEventListener(s,r,o),d.push(r),u&&u.push(s,b,y,o)}else r=tm(i,e,h,r,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[s])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const S=e[g[_]][g[_+1]].subscribe(r),v=d.length;d.push(r,S),u&&u.push(s,i.index,v,-(v+1))}}}function CC(n,e,t,i){try{return!1!==t(i)}catch(s){return Rw(n,s),!1}}function tm(n,e,t,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?Xn(n.index,e):e;0==(32&e[2])&&Ng(a);let l=CC(e,0,i,o),c=r.__ngNextListenerFn__;for(;c;)l=CC(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function dr(n=1){return function CR(n){return(fe.lFrame.contextLView=function DR(n,e){for(;n>0;)e=e[15],n--;return e}(n,fe.lFrame.contextLView))[8]}(n)}function C2(n,e){let t=null;const i=function MP(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===i?tw(n,r,!0):IP(i,r))return s}else t=s}return t}function xa(n){const e=O()[16][6];if(!e.projection){const i=e.projection=Vl(n?n.length:1,null),s=i.slice();let r=e.child;for(;null!==r;){const o=n?C2(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}function fr(n,e=0,t){const i=O(),s=$e(),r=ua(s,20+n,16,null,t||null);null===r.projection&&(r.projection=e),Ip(),64!=(64&r.flags)&&function wP(n,e,t){Xb(e[11],0,e,t,jb(n,t,e),qb(t.parent||e[6],t,e))}(s,i,r)}function OC(n,e,t,i,s){const r=n[t+1],o=null===e;let a=i?Li(r):Ls(r),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];S2(n[a],e)&&(l=!0,n[a+1]=i?wg(u):vg(u)),a=i?Li(u):Ls(u)}l&&(n[t+1]=i?vg(r):wg(r))}function S2(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ra(n,e)>=0}function Sn(n,e){return function Bi(n,e,t,i){const s=O(),r=$e(),o=function Ps(n){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);r.firstUpdatePass&&function HC(n,e,t,i){const s=n.data;if(null===s[t+1]){const r=s[wn()],o=function jC(n,e){return e>=n.expandoStartIndex}(n,t);(function $C(n,e){return 0!=(n.flags&(e?16:32))})(r,i)&&null===e&&!o&&(e=!1),e=function F2(n,e,t,i){const s=Rp(n);let r=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(t=ic(t=im(null,n,e,t,i),e.attrs,i),r=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==s)if(t=im(s,n,e,t,i),null===r){let l=function P2(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ls(i))return n[Li(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=im(null,n,e,l[1],i),l=ic(l,e.attrs,i),function N2(n,e,t,i){n[Li(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else r=function L2(n,e,t){let i;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)i=ic(i,n[r].hostAttrs,t);return ic(i,e.attrs,t)}(n,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),t}(s,r,e,i),function D2(n,e,t,i,s,r){let o=r?e.classBindings:e.styleBindings,a=Li(o),l=Ls(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const h=t;u=h[1],(null===u||ra(h,u)>0)&&(c=!0)}else u=t;if(s)if(0!==l){const d=Li(n[a+1]);n[i+1]=_h(d,a),0!==d&&(n[d+1]=bg(n[d+1],i)),n[a+1]=function PP(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=_h(a,0),0!==a&&(n[a+1]=bg(n[a+1],i)),a=i;else n[i+1]=_h(l,0),0===a?a=i:n[l+1]=bg(n[l+1],i),l=i;c&&(n[i+1]=vg(n[i+1])),OC(n,u,i,!0),OC(n,u,i,!1),function E2(n,e,t,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof e&&ra(r,e)>=0&&(t[i+1]=wg(t[i+1]))}(e,u,n,i,r),o=_h(a,l),r?e.classBindings=o:e.styleBindings=o}(s,r,e,t,o,i)}}(r,n,o,i),e!==be&&dn(s,o,e)&&function UC(n,e,t,i,s,r,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];xh(function ow(n){return 1==(1&n)}(c)?qC(l,e,t,s,Ls(c),o):void 0)||(xh(r)||function rw(n){return 2==(2&n)}(c)&&(r=qC(l,null,t,s,a,o)),function DP(n,e,t,i,s){const r=Mt(n);if(e)s?r?n.addClass(t,i):t.classList.add(i):r?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:ei.DashCase;if(null==s)r?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=ei.Important),r?n.setStyle(t,i,s,o):t.style.setProperty(i,s,a?"important":"")}}}(i,o,Wu(wn(),t),s,r))}(r,r.data[wn()],s,s[11],n,s[o+1]=function j2(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=tt(Jn(n)))),n}(e,t),i,o)}(n,e,null,!0),Sn}function im(n,e,t,i,s){let r=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(r=e[a],i=ic(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function ic(n,e,t){const i=t?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qn(n,o,!!t||e[++r]))}return void 0===n?null:n}function qC(n,e,t,i,s,r){const o=null===e;let a;for(;s>0;){const l=n[s],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[s+1];d===be&&(d=h?ft:void 0);let f=h?qp(d,i):u===i?d:void 0;if(c&&!xh(f)&&(f=qp(l,i)),xh(f)&&(a=f,o))return a;const p=n[s+1];s=o?Li(p):Ls(p)}if(null!==e){let l=r?e.residualClasses:e.residualStyles;null!=l&&(a=qp(l,i))}return a}function xh(n){return void 0!==n}function Et(n,e=""){const t=O(),i=$e(),s=n+20,r=i.firstCreatePass?ua(i,s,1,e,null):i.data[s],o=t[s]=function hg(n,e){return Mt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);gh(i,t,o,r),ss(r,!1)}function Kr(n){return Mh("",n,""),Kr}function Mh(n,e,t){const i=O(),s=function _a(n,e,t,i){return dn(n,Qo(),t)?e+ye(t)+i:be}(i,n,e,t);return s!==be&&Vs(i,wn(),s),Mh}function Ah(n,e,t){const i=O();return dn(i,Qo(),e)&&ti($e(),At(),i,n,e,i[11],t,!0),Ah}function sm(n,e,t){const i=O();if(dn(i,Qo(),e)){const r=$e(),o=At();ti(r,o,i,n,e,Ow(Rp(r.data),o,i),t,!0)}return sm}const Jr=void 0;var oL=["en",[["a","p"],["AM","PM"],Jr],[["AM","PM"],Jr,Jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jr,"{1} 'at' {0}",Jr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rL(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Aa={};function uD(n){return n in Aa||(Aa[n]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[n]),Aa[n]}var Y=(()=>((Y=Y||{})[Y.LocaleId=0]="LocaleId",Y[Y.DayPeriodsFormat=1]="DayPeriodsFormat",Y[Y.DayPeriodsStandalone=2]="DayPeriodsStandalone",Y[Y.DaysFormat=3]="DaysFormat",Y[Y.DaysStandalone=4]="DaysStandalone",Y[Y.MonthsFormat=5]="MonthsFormat",Y[Y.MonthsStandalone=6]="MonthsStandalone",Y[Y.Eras=7]="Eras",Y[Y.FirstDayOfWeek=8]="FirstDayOfWeek",Y[Y.WeekendRange=9]="WeekendRange",Y[Y.DateFormat=10]="DateFormat",Y[Y.TimeFormat=11]="TimeFormat",Y[Y.DateTimeFormat=12]="DateTimeFormat",Y[Y.NumberSymbols=13]="NumberSymbols",Y[Y.NumberFormats=14]="NumberFormats",Y[Y.CurrencyCode=15]="CurrencyCode",Y[Y.CurrencySymbol=16]="CurrencySymbol",Y[Y.CurrencyName=17]="CurrencyName",Y[Y.Currencies=18]="Currencies",Y[Y.Directionality=19]="Directionality",Y[Y.PluralCase=20]="PluralCase",Y[Y.ExtraData=21]="ExtraData",Y))();const kh="en-US";let hD=kh;function am(n,e,t,i,s){if(n=De(n),Array.isArray(n))for(let r=0;r<n.length;r++)am(n[r],e,t,i,s);else{const r=$e(),o=O();let a=pa(n)?n:De(n.provide),l=Bw(n);const c=$t(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(pa(n)||!n.multi){const f=new Ol(l,s,C),p=cm(a,e,s?u:u+d,h);-1===p?(rh(Fl(c,o),r,a),lm(r,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=cm(a,e,u+d,h),p=cm(a,e,u,u+d),g=f>=0&&t[f],m=p>=0&&t[p];if(s&&!m||!s&&!g){rh(Fl(c,o),r,a);const _=function o5(n,e,t,i,s){const r=new Ol(n,t,C);return r.multi=[],r.index=e,r.componentProviders=0,PD(r,s,i&&!t),r}(s?r5:s5,t.length,s,i,l);!s&&m&&(t[p].providerFactory=_),lm(r,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(_),o.push(_)}else lm(r,n,f>-1?f:p,PD(t[s?p:f],l,!s&&i));!s&&i&&m&&t[p].componentProviders++}}}function lm(n,e,t,i){const s=pa(e),r=function MN(n){return!!n.useClass}(e);if(s||r){const l=(r?De(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!s&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function PD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cm(n,e,t,i){for(let s=t;s<i;s++)if(e[s]===n)return s;return-1}function s5(n,e,t,i){return um(this.multi,[])}function r5(n,e,t,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Pl(t,t[1],this.providerFactory.index,i);r=a.slice(0,o),um(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],um(s,r);return r}function um(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function lt(n,e=[]){return t=>{t.providersResolver=(i,s)=>function n5(n,e,t){const i=$e();if(i.firstCreatePass){const s=Fi(n);am(t,i.data,i.blueprint,s,!0),am(e,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,e)}}class ND{}class c5{resolveComponentFactory(e){throw function l5(n){const e=Error(`No component factory found for ${tt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let pr=(()=>{class n{}return n.NULL=new c5,n})();function u5(){return Ia($t(),O())}function Ia(n,e){return new ct(fi(n,e))}let ct=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=u5,n})();function h5(n){return n instanceof ct?n.nativeElement:n}class lc{}let Hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function f5(){const n=O(),t=Xn($t().index,n);return function d5(n){return n[11]}(is(t)?t:n)}(),n})(),p5=(()=>{class n{}return n.\u0275prov=te({token:n,providedIn:"root",factory:()=>null}),n})();class eo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const g5=new eo("13.1.3"),hm={};function Ph(n,e,t,i,s=!1){for(;null!==t;){const r=e[t.index];if(null!==r&&i.push(jt(r)),Ri(r))for(let a=10;a<r.length;a++){const l=r[a],c=l[1].firstChild;null!==c&&Ph(l[1],l,c,i)}const o=t.type;if(8&o)Ph(n,e,t.child,i);else if(32&o){const a=lg(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Yb(e,t);if(Array.isArray(a))i.push(...a);else{const l=Yl(e[16]);Ph(l[1],l,a,i,!0)}}t=s?t.projectionNext:t.next}return i}class cc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ph(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ri(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(fg(e,i),ah(t,i))}this._attachedToViewContainer=!1}Bb(this._lView[1],this._lView)}onDestroy(e){bw(this._lView[1],this._lView,null,e)}markForCheck(){Ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _N(n,e,t){Zu(!0);try{Vg(n,e,t)}finally{Zu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fP(n,e){Zl(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new qe(902,"");this._appRef=e}}class m5 extends cc{constructor(e){super(e),this._view=e}detectChanges(){Aw(this._view)}checkNoChanges(){!function yN(n){Zu(!0);try{Aw(n)}finally{Zu(!1)}}(this._view)}get context(){return null}}class VD extends pr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=cn(e);return new dm(t,this.ngModule)}}function BD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const y5=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kb});class dm extends ND{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function RP(n){return n.map(OP).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return BD(this.componentDef.inputs)}get outputs(){return BD(this.componentDef.outputs)}create(e,t,i,s){const r=(s=s||this.ngModule)?function v5(n,e){return{get:(t,i,s)=>{const r=n.get(t,hm,s);return r!==hm||i===hm?r:e.get(t,i,s)}}}(e,s.injector):e,o=r.get(lc,x1),a=r.get(p5,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function vw(n,e,t){if(Mt(n))return n.selectRootElement(e,t===Ii.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):dg(o.createRenderer(null,this.componentDef),c,function _5(n){const e=n.toLowerCase();return"svg"===e?S1:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,d=function Qw(n,e){return{components:[],scheduler:n||kb,clean:vN,playerHandler:e||null,flags:0}}(),f=bh(0,null,null,1,0,null,null,null,null,null),p=Xl(null,f,d,h,null,null,o,l,a,r);let g,m;Xu(p);try{const _=function Zw(n,e,t,i,s,r){const o=t[1];t[20]=n;const l=ua(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Ch(l,c,!0),null!==n&&(th(s,n,c),null!==l.classes&&yg(s,n,l.classes),null!==l.styles&&Qb(s,n,l.styles)));const u=i.createRenderer(n,e),h=Xl(t,_w(e),null,e.onPush?64:16,t[20],l,i,u,r||null,null);return o.firstCreatePass&&(rh(Fl(l,t),o,e.type),Sw(o,l),Tw(l,t.length,1)),wh(t,h),t[20]=h}(u,this.componentDef,p,o,l);if(u)if(i)th(l,u,["ng-version",g5.full]);else{const{attrs:y,classes:b}=function FP(n){const e=[],t=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&e.push(r,n[++i]):8===s&&t.push(r);else{if(!Ni(s))break;s=r}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&th(l,u,y),b&&b.length>0&&yg(l,u,b.join(" "))}if(m=xp(f,20),void 0!==t){const y=m.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const E=t[b];y.push(null!=E?Array.from(E):null)}}g=function Xw(n,e,t,i,s){const r=t[1],o=function tN(n,e,t){const i=$t();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),xw(n,i,e,ha(n,e,1,null),t));const s=Pl(e,n,i.directiveStart,i);hn(s,e);const r=fi(i,e);return r&&hn(r,e),s}(r,t,e);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,e)),e.contentQueries){const l=$t();e.contentQueries(1,o,l.directiveStart)}const a=$t();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ar(a.index),Dw(t[1],a,0,a.directiveStart,a.directiveEnd,e),Ew(e,o)),o}(_,this.componentDef,p,d,[BN]),Ql(f,p,null)}finally{Qu()}return new w5(this.componentType,g,Ia(m,p),p,m)}}class w5 extends class a5{}{constructor(e,t,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new m5(s),this.componentType=e}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Bs{}class jD{}const Oa=new Map;class UD extends Bs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new VD(this);const i=ui(e);this._bootstrapComponents=ls(i.bootstrap),this._r3Injector=Vw(e,t,[{provide:Bs,useValue:this},{provide:pr,useValue:this.componentFactoryResolver}],tt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=kt.THROW_IF_NOT_FOUND,i=ve.Default){return e===kt||e===Bs||e===jg?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fm extends jD{constructor(e){super(),this.moduleType=e,null!==ui(e)&&function D5(n){const e=new Set;!function t(i){const s=ui(i,!0),r=s.id;null!==r&&(function HD(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${tt(e)} vs ${tt(e.name)}`)}(r,Oa.get(r),i),Oa.set(r,i));const o=ls(s.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new UD(this.moduleType,e)}}function to(n,e,t){const i=bn()+n,s=O();return s[i]===be?us(s,i,t?e.call(t):e()):function ec(n,e){return n[e]}(s,i)}function pm(n,e,t,i){return function $D(n,e,t,i,s,r){const o=e+t;return dn(n,o,s)?us(n,o+1,r?i.call(r,s):i(s)):uc(n,o+1)}(O(),bn(),n,e,t,i)}function qD(n,e,t,i,s){return function GD(n,e,t,i,s,r,o){const a=e+t;return function Qr(n,e,t,i){const s=dn(n,e,t);return dn(n,e+1,i)||s}(n,a,s,r)?us(n,a+2,o?i.call(o,s,r):i(s,r)):uc(n,a+2)}(O(),bn(),n,e,t,i,s)}function uc(n,e){const t=n[e];return t===be?void 0:t}function gm(n){return e=>{setTimeout(n,void 0,e)}}const pe=class V5 extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var s,r,o;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const h=e;a=null===(s=h.next)||void 0===s?void 0:s.bind(h),l=null===(r=h.error)||void 0===r?void 0:r.bind(h),c=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(l=gm(l),a&&(a=gm(a)),c&&(c=gm(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof Me&&e.add(u),u}};function B5(){return this._results[ga()]()}class mm{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ga(),i=mm.prototype;i[t]||(i[t]=B5)}get changes(){return this._changes||(this._changes=new pe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const s=pi(e);(this._changesDetected=!function UR(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=e[i];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(i._results,s,t))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fs=(()=>{class n{}return n.__NG_ELEMENT_ID__=z5,n})();const j5=fs,H5=class extends j5{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Xl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(t)),Ql(t,i,e),new cc(i)}};function z5(){return Nh($t(),O())}function Nh(n,e){return 4&n.type?new H5(e,n,Ia(n,e)):null}let ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=U5,n})();function U5(){return KD($t(),O())}const q5=ni,XD=class extends q5{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const e=sh(this._hostTNode,this._hostLView);if(U1(e)){const t=Jo(e,this._hostLView),i=Ko(e);return new ea(t[1].data[i+8],t)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=QD(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const s=e.createEmbeddedView(t||{});return this.insert(s,i),s}createComponent(e,t,i,s,r){const o=e&&!function Ll(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const h=t||{};a=h.index,i=h.injector,s=h.projectableNodes,r=h.ngModuleRef}const l=o?e:new dm(cn(e)),c=i||this.parentInjector;if(!r&&null==l.ngModule&&c){const h=c.get(Bs,null);h&&(r=h)}const u=l.create(c,s,void 0,r);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,s=i[1];if(function hR(n){return Ri(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=i[3],d=new XD(h,h[6],h[3]);d.detach(d.indexOf(e))}}const r=this._adjustIndex(t),o=this._lContainer;!function gP(n,e,t,i){const s=10+i,r=t.length;i>0&&(t[s-1][4]=e),i<r-10?(e[4]=t[s],J1(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function mP(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(s,i,o,r);const a=mg(r,o),l=i[11],c=ph(l,o[7]);return null!==c&&function dP(n,e,t,i,s,r){i[0]=s,i[6]=e,Zl(n,i,t,1,s,r)}(s,o[6],l,i,c,a),e.attachToViewContainerRef(),J1(_m(o),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=QD(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=fg(this._lContainer,t);i&&(ah(_m(this._lContainer),t),Bb(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=fg(this._lContainer,t);return i&&null!=ah(_m(this._lContainer),t)?new cc(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function QD(n){return n[8]}function _m(n){return n[8]||(n[8]=[])}function KD(n,e){let t;const i=e[n.index];if(Ri(i))t=i;else{let s;if(8&n.type)s=jt(i);else{const r=e[11];s=r.createComment("");const o=fi(n,e);Xr(r,ph(r,o),s,function bP(n,e){return Mt(n)?n.nextSibling(e):e.nextSibling}(r,o),!1)}e[n.index]=t=Mw(i,e,s,n),wh(e,t)}return new XD(t,n,e)}class ym{constructor(e){this.queryList=e,this.matches=null}clone(){return new ym(this.queryList)}setDirty(){this.queryList.setDirty()}}class vm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<i;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new vm(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==iE(e,t).matches&&this.queries[t].setDirty()}}class JD{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class bm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const s=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,s);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new bm(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class wm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new wm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(e,t,W5(t,r)),this.matchTNodeWithReadOption(e,t,oh(t,e,r,!1,!1))}else i===fs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,oh(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===ct||s===ni||s===fs&&4&t.type)this.addMatch(t.index,-2);else{const r=oh(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function W5(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Z5(n,e,t,i){return-1===t?function Y5(n,e){return 11&n.type?Ia(n,e):4&n.type?Nh(n,e):null}(e,n):-2===t?function X5(n,e,t){return t===ct?Ia(e,n):t===fs?Nh(e,n):t===ni?KD(e,n):void 0}(n,e,i):Pl(n,n[1],t,e)}function eE(n,e,t,i){const s=e[19].queries[i];if(null===s.matches){const r=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Z5(e,r[c],o[l+1],t.metadata.read))}s.matches=a}return s.matches}function Cm(n,e,t,i){const s=n.queries.getByIndex(t),r=s.matches;if(null!==r){const o=eE(n,e,s,t);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const c=r[a+1],u=e[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&Cm(d[1],d,c,i)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const f=h[d];Cm(f[1],f,c,i)}}}}}return i}function xn(n){const e=O(),t=$e(),i=F1();Fp(i+1);const s=iE(t,i);if(n.dirty&&M1(e)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Cm(t,e,i,[]):eE(t,e,s,i);n.reset(r,h5),n.notifyOnChanges()}return!0}return!1}function gr(n,e,t){const i=$e();i.firstCreatePass&&(nE(i,new JD(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),tE(i,O(),e)}function mr(n,e,t,i){const s=$e();if(s.firstCreatePass){const r=$t();nE(s,new JD(e,t,i),r.index),function K5(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(s,n),2==(2&t)&&(s.staticContentQueries=!0)}tE(s,O(),t)}function Mn(){return function Q5(n,e){return n[19].queries[e].queryList}(O(),F1())}function tE(n,e,t){const i=new mm(4==(4&t));bw(n,e,i,i.destroy),null===e[19]&&(e[19]=new vm),e[19].queries.push(new ym(i))}function nE(n,e,t){null===n.queries&&(n.queries=new bm),n.queries.track(new wm(e,t))}function iE(n,e){return n.queries.getByIndex(e)}function Bh(...n){}const jh=new W("Application Initializer");let Fa=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Bh,this.reject=Bh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(nc(r))t.push(r);else if(Jg(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(x(jh,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const fc=new W("AppId"),_V={provide:fc,useFactory:function mV(){return`${Mm()}${Mm()}${Mm()}`},deps:[]};function Mm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bE=new W("Platform Initializer"),pc=new W("Platform ID"),wE=new W("appBootstrapListener");let CE=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const js=new W("LocaleId"),DE=new W("DefaultCurrencyCode");class yV{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Hh=(()=>{class n{compileModuleSync(t){return new fm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),r=ls(ui(t).declarations).reduce((o,a)=>{const l=cn(a);return l&&o.push(new dm(l)),o},[]);return new yV(i,r)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const bV=(()=>Promise.resolve(0))();function Am(n){"undefined"==typeof Zone?bV.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&t,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function wV(){let n=rt.requestAnimationFrame,e=rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function EV(n){const e=()=>{!function DV(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Im(n),n.isCheckStableRunning=!0,km(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Im(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,s,r,o,a)=>{try{return EE(n),t.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&e(),SE(n)}},onInvoke:(t,i,s,r,o,a,l)=>{try{return EE(n),t.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),SE(n)}},onHasTask:(t,i,s,r)=>{t.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Im(n),km(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,s,r)=>(t.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,CV,Bh,Bh);try{return r.runTask(o,t,i)}finally{r.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const CV={};function km(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Im(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SE(n){n._nesting--,km(n)}class SV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pe,this.onMicrotaskEmpty=new pe,this.onStable=new pe,this.onError=new pe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}let Om=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),Am(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Am(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,s){return[]}}return n.\u0275fac=function(t){return new(t||n)(x(Re))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),TE=(()=>{class n{constructor(){this._applications=new Map,Rm.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Rm.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class TV{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let zi,Rm=new TV;const xE=new W("AllowMultipleToken");class ME{constructor(e,t){this.name=e,this.token=t}}function AE(n,e,t=[]){const i=`Platform: ${e}`,s=new W(i);return(r=[])=>{let o=kE();if(!o||o.injector.get(xE,!1))if(n)n(t.concat(r).concat({provide:s,useValue:!0}));else{const a=t.concat(r).concat({provide:s,useValue:!0},{provide:Hg,useValue:"platform"});!function kV(n){if(zi&&!zi.destroyed&&!zi.injector.get(xE,!1))throw new qe(400,"");zi=n.get(IE);const e=n.get(bE,null);e&&e.forEach(t=>t())}(kt.create({providers:a,name:i}))}return function IV(n){const e=kE();if(!e)throw new qe(401,"");return e}()}}function kE(){return zi&&!zi.destroyed?zi:null}let IE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function OV(n,e){let t;return t="noop"===n?new SV:("zone.js"===n?void 0:n)||new Re({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Re,useValue:a}];return a.run(()=>{const c=kt.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),h=u.injector.get(Ns,null);if(!h)throw new qe(402,"");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:f=>{h.handleError(f)}});u.onDestroy(()=>{Fm(this._modules,u),d.unsubscribe()})}),function RV(n,e,t){try{const i=t();return nc(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(h,a,()=>{const d=u.injector.get(Fa);return d.runInitializers(),d.donePromise.then(()=>(function hL(n){Yn(n,"Expected localeId to be defined"),"string"==typeof n&&(hD=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(js,kh)||kh),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const s=OE({},i);return function MV(n,e,t){const i=new fm(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(t){const i=t.injector.get(Pa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new qe(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(x(kt))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function OE(n,e){return Array.isArray(e)?e.reduce(OE,n):Object.assign(Object.assign({},n),e)}let Pa=(()=>{class n{constructor(t,i,s,r,o){this._zone=t,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ue(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Ue(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),Am(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=ns(a,l.pipe(Uo()))}bootstrap(t,i){if(!this._initStatus.done)throw new qe(405,"");let s;s=t instanceof ND?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(s.componentType);const r=function AV(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Bs),a=s.create(kt.NULL,[],i||s.selector,r),l=a.location.nativeElement,c=a.injector.get(Om,null),u=c&&a.injector.get(TE);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Fm(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new qe(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Fm(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wE,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x(kt),x(Ns),x(pr),x(Fa))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function Fm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let FE=!0,_r=(()=>{class n{}return n.__NG_ELEMENT_ID__=NV,n})();function NV(n){return function LV(n,e,t){if($u(n)&&!t){const i=Xn(n.index,e);return new cc(i,i)}return 47&n.type?new cc(e[16],e):null}($t(),O(),16==(16&n))}class HE{constructor(){}supports(e){return Jl(e)}create(e){return new UV(e)}}const zV=(n,e)=>e;class UV{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zV}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,r=null;for(;t||i;){const o=!i||t&&t.currentIndex<UE(i,s,r)?t:i,a=UE(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const c=a-s,u=l-s;if(c!=u){for(let d=0;d<c;d++){const f=d<r.length?r[d]:r[d]=0,p=f+d;u<=p&&p<c&&(r[d]=f+1)}r[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Jl(e))throw new qe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),i=!0),t=t._next}else s=0,function ZN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ga()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new qV(t,i),r,s),e}_verifyReinsertion(e,t,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zE),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qV{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $V{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class zE{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new $V,this.map.set(t,i)),i.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(n,e,t){const i=n.previousIndex;if(null===i)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}class qE{constructor(){}supports(e){return e instanceof Map||Wg(e)}create(){return new GV}}class GV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Wg(e)))throw new qe(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(s,i);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new WV(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class WV{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $E(){return new gc([new HE])}let gc=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||$E()),deps:[[n,new Yr,new Kn]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(null!=i)return i;throw new qe(901,"")}}return n.\u0275prov=te({token:n,providedIn:"root",factory:$E}),n})();function GE(){return new Na([new qE])}let Na=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||GE()),deps:[[n,new Yr,new Kn]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new qe(901,"")}}return n.\u0275prov=te({token:n,providedIn:"root",factory:GE}),n})();const YV=[new qE],XV=new gc([new HE]),QV=new Na(YV),KV=AE(null,"core",[{provide:pc,useValue:"unknown"},{provide:IE,deps:[kt]},{provide:TE,deps:[]},{provide:CE,deps:[]}]),s3=[{provide:Pa,useClass:Pa,deps:[Re,kt,Ns,pr,Fa]},{provide:y5,deps:[Re],useFactory:function r3(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Fa,useClass:Fa,deps:[[new Kn,jh]]},{provide:Hh,useClass:Hh,deps:[]},_V,{provide:gc,useFactory:function JV(){return XV},deps:[]},{provide:Na,useFactory:function e3(){return QV},deps:[]},{provide:js,useFactory:function t3(n){return n||function n3(){return"undefined"!=typeof $localize&&$localize.locale||kh}()},deps:[[new zl(js),new Kn,new Yr]]},{provide:DE,useValue:"USD"}];let o3=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(x(Pa))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:s3}),n})(),Uh=null;function ps(){return Uh}const Se=new W("DocumentToken");let io=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:function(){return function u3(){return x(WE)}()},providedIn:"platform"}),n})();const h3=new W("Location Initialized");let WE=(()=>{class n extends io{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ps().getBaseHref(this._doc)}onPopState(t){const i=ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,s){YE()?this._history.pushState(t,i,s):this.location.hash=s}replaceState(t,i,s){YE()?this._history.replaceState(t,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(x(Se))},n.\u0275prov=te({token:n,factory:function(){return function d3(){return new WE(x(Se))}()},providedIn:"platform"}),n})();function YE(){return!!window.history.pushState}function Bm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ZE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Hs(n){return n&&"?"!==n[0]?"?"+n:n}let La=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:function(){return function f3(n){const e=x(Se).location;return new XE(x(io),e&&e.origin||"")}()},providedIn:"root"}),n})();const jm=new W("appBaseHref");let XE=(()=>{class n extends La{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bm(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Hs(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,r){const o=this.prepareExternalUrl(s+Hs(r));this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){const o=this.prepareExternalUrl(s+Hs(r));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(x(io),x(jm,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),p3=(()=>{class n extends La{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Bm(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,r){let o=this.prepareExternalUrl(s+Hs(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){let o=this.prepareExternalUrl(s+Hs(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(x(io),x(jm,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),mc=(()=>{class n{constructor(t,i){this._subject=new pe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ZE(QE(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Hs(i))}normalize(t){return n.stripTrailingSlash(function m3(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,QE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._platformStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hs(i)),s)}replaceState(t,i="",s=null){this._platformStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hs(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}}return n.normalizeQueryParams=Hs,n.joinWithSlash=Bm,n.stripTrailingSlash=ZE,n.\u0275fac=function(t){return new(t||n)(x(La),x(io))},n.\u0275prov=te({token:n,factory:function(){return function g3(){return new mc(x(La),x(io))}()},providedIn:"root"}),n})();function QE(n){return n.replace(/\/index.html$/,"")}var Ht=(()=>((Ht=Ht||{})[Ht.Zero=0]="Zero",Ht[Ht.One=1]="One",Ht[Ht.Two=2]="Two",Ht[Ht.Few=3]="Few",Ht[Ht.Many=4]="Many",Ht[Ht.Other=5]="Other",Ht))();const D3=function cD(n){return function Tn(n){const e=function aL(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=uD(e);if(t)return t;const i=e.split("-")[0];if(t=uD(i),t)return t;if("en"===i)return oL;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Y.PluralCase]};class Jh{}let K3=(()=>{class n extends Jh{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(D3(i||this.locale)(t)){case Ht.Zero:return"zero";case Ht.One:return"one";case Ht.Two:return"two";case Ht.Few:return"few";case Ht.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(x(js))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class nB{constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ed=(()=>{class n{constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new nB(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),oS(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{oS(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ni),C(fs),C(gc))},n.\u0275dir=se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function oS(n,e){n.context.$implicit=e.item}let Zm=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new iB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(ni),C(fs))},n.\u0275dir=se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class iB{constructor(){this.$implicit=null,this.ngIf=null}}function aS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tt(e)}'.`)}let Km=(()=>{class n{constructor(t,i,s){this._ngEl=t,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[s,r]=t.split(".");null!=(i=null!=i&&r?`${i}${r}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(Na),C(Hi))},n.\u0275dir=se({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),t_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[{provide:Jh,useClass:K3}]}),n})();const uS="browser";function hS(n){return n===uS}let OB=(()=>{class n{}return n.\u0275prov=te({token:n,providedIn:"root",factory:()=>new RB(x(Se),window)}),n})();class RB{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function FB(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=dS(this.window.history)||dS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function dS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class n_ extends class NB extends class c3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function l3(n){Uh||(Uh=n)}(new n_)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function LB(){return vc=vc||document.querySelector("base"),vc?vc.getAttribute("href"):null}();return null==t?null:function VB(n){td=td||document.createElement("a"),td.setAttribute("href",n);const e=td.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function J3(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,e)}}let td,vc=null;const fS=new W("TRANSITION_ID"),jB=[{provide:jh,useFactory:function BB(n,e,t){return()=>{t.get(Fa).donePromise.then(()=>{const i=ps(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[fS,Se,kt],multi:!0}];class i_{static init(){!function xV(n){Rm=n}(new i_)}addToWindow(e){rt.getAngularTestability=(i,s=!0)=>{const r=e.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),rt.getAllAngularRootElements=()=>e.getAllRootElements(),rt.frameworkStabilizers||(rt.frameworkStabilizers=[]),rt.frameworkStabilizers.push(i=>{const s=rt.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:i?ps().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let HB=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const nd=new W("EventManagerPlugins");let id=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}addGlobalEventListener(t,i,s){return this._findPluginFor(i).addGlobalEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(x(nd),x(Re))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class pS{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=ps().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}let gS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),bc=(()=>{class n extends gS{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,s){t.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(mS),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(t,s,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(mS))}}return n.\u0275fac=function(t){return new(t||n)(x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function mS(n){ps().remove(n)}const s_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},r_=/%COMP%/g;function sd(n,e,t){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?sd(n,s,t):(s=s.replace(r_,n),t.push(s))}return t}function vS(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let rd=(()=>{class n{constructor(t,i,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new o_(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Ii.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new WB(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(t),s}case 1:case Ii.ShadowDom:return new YB(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const s=sd(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(x(id),x(bc),x(fc))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class o_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(s_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const r=s_[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=s_[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(ei.DashCase|ei.Important)?e.style.setProperty(t,i,s&ei.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ei.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vS(i)):this.eventManager.addEventListener(e,t,vS(i))}}class WB extends o_{constructor(e,t,i,s){super(e),this.component=i;const r=sd(s+"-"+i.id,i.styles,[]);t.addStyles(r),this.contentAttr=function qB(n){return"_ngcontent-%COMP%".replace(r_,n)}(s+"-"+i.id),this.hostAttr=function $B(n){return"_nghost-%COMP%".replace(r_,n)}(s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class YB extends o_{constructor(e,t,i,s){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=sd(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ZB=(()=>{class n extends pS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}}return n.\u0275fac=function(t){return new(t||n)(x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const wS=["alt","control","meta","shift"],QB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},KB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let JB=(()=>{class n extends pS{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ps().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(wS.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(t){let i="",s=function e8(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&CS.hasOwnProperty(e)&&(e=CS[e]))}return QB[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),wS.forEach(r=>{r!=s&&KB[r](t)&&(i+=r+".")}),i+=s,i}static eventCallback(t,i,s){return r=>{n.getEventFullKey(r)===t&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const s8=AE(KV,"browser",[{provide:pc,useValue:uS},{provide:bE,useValue:function t8(){n_.makeCurrent(),i_.init()},multi:!0},{provide:Se,useFactory:function i8(){return function aR(n){Sp=n}(document),document},deps:[]}]),r8=[{provide:Hg,useValue:"root"},{provide:Ns,useFactory:function n8(){return new Ns},deps:[]},{provide:nd,useClass:ZB,multi:!0,deps:[Se,Re,pc]},{provide:nd,useClass:JB,multi:!0,deps:[Se]},{provide:rd,useClass:rd,deps:[id,bc,fc]},{provide:lc,useExisting:rd},{provide:gS,useExisting:bc},{provide:bc,useClass:bc,deps:[Se]},{provide:Om,useClass:Om,deps:[Re]},{provide:id,useClass:id,deps:[nd,Re]},{provide:class PB{},useClass:HB,deps:[]}];let DS=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:fc,useValue:t.appId},{provide:fS,useExisting:fc},jB]}}}return n.\u0275fac=function(t){return new(t||n)(x(n,12))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:r8,imports:[t_,o3]}),n})();"undefined"!=typeof window&&window;let l_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:function(t){let i=null;return i=t?new(t||n):x(TS),i},providedIn:"root"}),n})(),TS=(()=>{class n extends l_{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ze.NONE:return i;case Ze.HTML:return os(i,"HTML")?Jn(i):Cb(this._doc,String(i)).toString();case Ze.STYLE:return os(i,"Style")?Jn(i):i;case Ze.SCRIPT:if(os(i,"Script"))return Jn(i);throw new Error("unsafe value used in a script context");case Ze.URL:return pb(i),os(i,"URL")?Jn(i):ql(String(i));case Ze.RESOURCE_URL:if(os(i,"ResourceURL"))return Jn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function bF(n){return new gF(n)}(t)}bypassSecurityTrustStyle(t){return function wF(n){return new mF(n)}(t)}bypassSecurityTrustScript(t){return function CF(n){return new _F(n)}(t)}bypassSecurityTrustUrl(t){return function DF(n){return new yF(n)}(t)}bypassSecurityTrustResourceUrl(t){return function EF(n){return new vF(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(x(Se))},n.\u0275prov=te({token:n,factory:function(t){let i=null;return i=t?new t:function g8(n){return new TS(n.get(Se))}(x(kt)),i},providedIn:"root"}),n})();function ce(...n){return Kt(n,Tl(n))}class yi extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:m8}=Array,{getPrototypeOf:_8,prototype:y8,keys:v8}=Object;function xS(n){if(1===n.length){const e=n[0];if(m8(e))return{args:e,keys:null};if(function b8(n){return n&&"object"==typeof n&&_8(n)===y8}(e)){const t=v8(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:w8}=Array;function c_(n){return V(e=>function C8(n,e){return w8(e)?n(...e):n(e)}(n,e))}function MS(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}function AS(n,e,t){n?ks(t,n,e):e()}const od=et(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function u_(...n){return function S8(){return Sl(1)}()(Kt(n,Tl(n)))}function h_(n){return new Ue(e=>{$n(n()).subscribe(e)})}function kS(){return L((n,e)=>{let t=null;n._refCount++;const i=new ee(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,r=t;t=null,s&&(!r||s===r)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class T8 extends Ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_e(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;const t=this.getSubject();e.add(this.source.subscribe(new ee(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return kS()(this)}}function vr(n,e){return L((t,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();t.subscribe(new ee(i,l=>{null==s||s.unsubscribe();let c=0;const u=r++;$n(n(l,u)).subscribe(s=new ee(i,h=>i.next(e?e(l,h,u,c++):h),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function ad(...n){const e=Tl(n);return L((t,i)=>{(e?u_(n,t,e):u_(n,t)).subscribe(i)})}function x8(n,e,t,i,s){return(r,o)=>{let a=t,l=e,c=0;r.subscribe(new ee(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}function IS(n,e){return L(x8(n,e,arguments.length>=2,!0))}function en(n,e){return L((t,i)=>{let s=0;t.subscribe(new ee(i,r=>n.call(e,r,s++)&&i.next(r)))})}function Us(n){return L((e,t)=>{let r,i=null,s=!1;i=e.subscribe(new ee(t,void 0,void 0,o=>{r=$n(n(o,Us(n)(e))),i?(i.unsubscribe(),i=null,r.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(t))})}function Va(n,e){return q(e)?Bt(n,e,1):Bt(n,1)}function d_(n){return n<=0?()=>Is:L((e,t)=>{let i=[];e.subscribe(new ee(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function OS(n=M8){return L((e,t)=>{let i=!1;e.subscribe(new ee(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function M8(){return new od}function RS(n){return L((e,t)=>{let i=!1;e.subscribe(new ee(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function Ba(n,e){const t=arguments.length>=2;return i=>i.pipe(n?en((s,r)=>n(s,r,i)):ts,Gn(1),t?RS(e):OS(()=>new od))}function tn(n,e,t){const i=q(n)||e||t?{next:n,error:e,complete:t}:n;return i?L((s,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;s.subscribe(new ee(r,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),r.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),r.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),r.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ts}function FS(n){return L((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class qs{constructor(e,t){this.id=e,this.url=t}}class f_ extends qs{constructor(e,t,i="imperative",s=null){super(e,t),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wc extends qs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class PS extends qs{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class k8 extends qs{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I8 extends qs{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O8 extends qs{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R8 extends qs{constructor(e,t,i,s,r){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class F8 extends qs{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P8 extends qs{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NS{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LS{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B8{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VS{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fe="primary";class j8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ja(n){return new j8(n)}const BS="ngNavigationCancelingError";function p_(n){const e=Error("NavigationCancelingError: "+n);return e[BS]=!0,e}function z8(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function gs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!jS(n[s],e[s]))return!1;return!0}function jS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((s,r)=>i[r]===s)}return n===e}function HS(n){return Array.prototype.concat.apply([],n)}function zS(n){return n.length>0?n[n.length-1]:null}function on(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ms(n){return Jg(n)?n:nc(n)?Kt(Promise.resolve(n)):ce(n)}const $8={exact:function $S(n,e,t){if(!ro(n.segments,e.segments)||!ld(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!$S(n.children[i],e.children[i],t))return!1;return!0},subset:GS},US={exact:function G8(n,e){return gs(n,e)},subset:function W8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jS(n[t],e[t]))},ignored:()=>!0};function qS(n,e,t){return $8[t.paths](n.root,e.root,t.matrixParams)&&US[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function GS(n,e,t){return WS(n,e,e.segments,t)}function WS(n,e,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!ro(s,t)||e.hasChildren()||!ld(s,t,i))}if(n.segments.length===t.length){if(!ro(n.segments,t)||!ld(n.segments,t,i))return!1;for(const s in e.children)if(!n.children[s]||!GS(n.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!!(ro(n.segments,s)&&ld(n.segments,s,i)&&n.children[Fe])&&WS(n.children[Fe],e,r,i)}}function ld(n,e,t){return e.every((i,s)=>US[t](n[s].parameters,i.parameters))}class so{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ja(this.queryParams)),this._queryParamMap}toString(){return X8.serialize(this)}}class Le{constructor(e,t){this.segments=e,this.children=t,this.parent=null,on(t,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cd(this)}}class Cc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ja(this.parameters)),this._parameterMap}toString(){return KS(this)}}function ro(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class YS{}class ZS{parse(e){const t=new o4(e);return new so(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dc(e.root,!0)}`,i=function J8(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(s=>`${ud(t)}=${ud(s)}`).join("&"):`${ud(t)}=${ud(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Q8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const X8=new ZS;function cd(n){return n.segments.map(e=>KS(e)).join("/")}function Dc(n,e){if(!n.hasChildren())return cd(n);if(e){const t=n.children[Fe]?Dc(n.children[Fe],!1):"",i=[];return on(n.children,(s,r)=>{r!==Fe&&i.push(`${r}:${Dc(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Z8(n,e){let t=[];return on(n.children,(i,s)=>{s===Fe&&(t=t.concat(e(i,s)))}),on(n.children,(i,s)=>{s!==Fe&&(t=t.concat(e(i,s)))}),t}(n,(i,s)=>s===Fe?[Dc(n.children[Fe],!1)]:[`${s}:${Dc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fe]?`${cd(n)}/${t[0]}`:`${cd(n)}/(${t.join("//")})`}}function XS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ud(n){return XS(n).replace(/%3B/gi,";")}function g_(n){return XS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hd(n){return decodeURIComponent(n)}function QS(n){return hd(n.replace(/\+/g,"%20"))}function KS(n){return`${g_(n.path)}${function K8(n){return Object.keys(n).map(e=>`;${g_(e)}=${g_(n[e])}`).join("")}(n.parameters)}`}const e4=/^[^\/()?;=#]+/;function dd(n){const e=n.match(e4);return e?e[0]:""}const t4=/^[^=?&#]+/,s4=/^[^&#]+/;class o4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Fe]=new Le(e,t)),i}parseSegment(){const e=dd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Cc(hd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=dd(this.remaining);s&&(i=s,this.capture(i))}e[hd(t)]=hd(i)}parseQueryParam(e){const t=function n4(n){const e=n.match(t4);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function r4(n){const e=n.match(s4);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=QS(t),r=QS(i);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dd(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Fe);const o=this.parseChildren();t[r]=1===Object.keys(o).length?o[Fe]:new Le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class JS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=m_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=m_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=__(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return __(e,this._root).map(t=>t.value)}}function m_(n,e){if(n===e.value)return e;for(const t of e.children){const i=m_(n,t);if(i)return i}return null}function __(n,e){if(n===e.value)return[e];for(const t of e.children){const i=__(n,t);if(i.length)return i.unshift(e),i}return[]}class $s{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ha(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eT extends JS{constructor(e,t){super(e),this.snapshot=t,y_(this,e)}toString(){return this.snapshot.toString()}}function tT(n,e){const t=function a4(n,e){const o=new fd([],{},{},"",{},Fe,e,null,n.root,-1,{});return new iT("",new $s(o,[]))}(n,e),i=new yi([new Cc("",{})]),s=new yi({}),r=new yi({}),o=new yi({}),a=new yi(""),l=new za(i,s,o,a,r,Fe,e,t.root);return l.snapshot=t.root,new eT(new $s(l,[]),t)}class za{constructor(e,t,i,s,r,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(V(e=>ja(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V(e=>ja(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nT(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const s=t[i],r=t[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function l4(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class fd{constructor(e,t,i,s,r,o,a,l,c,u,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iT extends JS{constructor(e,t){super(t),this.url=e,y_(this,t)}toString(){return sT(this._root)}}function y_(n,e){e.value._routerState=n,e.children.forEach(t=>y_(n,t))}function sT(n){const e=n.children.length>0?` { ${n.children.map(sT).join(", ")} } `:"";return`${n.value}${e}`}function v_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function U8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function b_(n,e){const t=gs(n.params,e.params)&&function Y8(n,e){return ro(n,e)&&n.every((t,i)=>gs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||b_(n.parent,e.parent))}function Ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function u4(n,e,t){return e.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Ec(n,i,s);return Ec(n,i)})}(n,e,t);return new $s(i,s)}{if(n.shouldAttach(e.value)){const r=n.retrieve(e.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ec(n,a)),o}}const i=function h4(n){return new za(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(r=>Ec(n,r));return new $s(i,s)}}function pd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sc(n){return"object"==typeof n&&null!=n&&n.outlets}function w_(n,e,t,i,s){let r={};return i&&on(i,(o,a)=>{r[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new so(t.root===n?e:rT(t.root,n,e),r,s)}function rT(n,e,t){const i={};return on(n.children,(s,r)=>{i[r]=s===e?t:rT(s,e,t)}),new Le(n.segments,i)}class oT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&pd(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Sc);if(s&&s!==zS(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C_{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function aT(n,e,t){if(n||(n=new Le([],{})),0===n.segments.length&&n.hasChildren())return gd(n,e,t);const i=function _4(n,e,t){let i=0,s=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return r;const o=n.segments[s],a=t[i];if(Sc(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!cT(l,c,o))return r;i+=2}else{if(!cT(l,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Le(n.segments.slice(0,i.pathIndex),{});return r.children[Fe]=new Le(n.segments.slice(i.pathIndex),n.children),gd(r,0,s)}return i.match&&0===s.length?new Le(n.segments,{}):i.match&&!n.hasChildren()?D_(n,e,t):i.match?gd(n,0,s):D_(n,e,t)}function gd(n,e,t){if(0===t.length)return new Le(n.segments,{});{const i=function m4(n){return Sc(n[0])?n[0].outlets:{[Fe]:n}}(t),s={};return on(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=aT(n.children[o],e,r))}),on(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new Le(n.segments,s)}}function D_(n,e,t){const i=n.segments.slice(0,e);let s=0;for(;s<t.length;){const r=t[s];if(Sc(r)){const l=y4(r.outlets);return new Le(i,l)}if(0===s&&pd(t[0])){i.push(new Cc(n.segments[e].path,lT(t[0]))),s++;continue}const o=Sc(r)?r.outlets[Fe]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&pd(a)?(i.push(new Cc(o,lT(a))),s+=2):(i.push(new Cc(o,{})),s++)}return new Le(i,{})}function y4(n){const e={};return on(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=D_(new Le([],{}),0,t))}),e}function lT(n){const e={};return on(n,(t,i)=>e[i]=`${t}`),e}function cT(n,e,t){return n==t.path&&gs(e,t.parameters)}class b4{constructor(e,t,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),v_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=Ha(t);e.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),on(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=Ha(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=Ha(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const s=Ha(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new B8(r.value.snapshot))}),e.children.length&&this.forwardEvent(new L8(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(v_(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),v_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function w4(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=s,o.resolver=l,o.outlet&&o.outlet.activateWith(s,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class E_{constructor(e,t){this.routes=e,this.module=t}}function br(n){return"function"==typeof n}function oo(n){return n instanceof so}const Tc=Symbol("INITIAL_VALUE");function xc(){return vr(n=>function D8(...n){const e=Tl(n),t=a1(n),{args:i,keys:s}=xS(n);if(0===i.length)return Kt([],e);const r=new Ue(function E8(n,e,t=ts){return i=>{AS(e,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let l=0;l<s;l++)AS(e,()=>{const c=Kt(n[l],e);let u=!1;c.subscribe(new ee(i,h=>{r[l]=h,u||(u=!0,a--),a||i.next(t(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,s?o=>MS(s,o):ts));return t?r.pipe(c_(t)):r}(n.map(e=>e.pipe(Gn(1),ad(Tc)))).pipe(IS((e,t)=>{let i=!1;return t.reduce((s,r,o)=>s!==Tc?s:(r===Tc&&(i=!0),i||!1!==r&&o!==t.length-1&&!oo(r)?s:r),e)},Tc),en(e=>e!==Tc),V(e=>oo(e)?e:!0===e),Gn(1)))}class x4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mc,this.attachRef=null}}class Mc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new x4,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let S_=(()=>{class n{constructor(t,i,s,r,o){this.parentContexts=t,this.location=i,this.resolver=s,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.name=r||Fe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new M4(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(C(Mc),C(ni),C(pr),cr("name"),C(_r))},n.\u0275dir=se({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class M4{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===za?this.route:e===Mc?this.childContexts:this.parent.get(e,t)}}let uT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&He(0,"router-outlet")},directives:[S_],encapsulation:2}),n})();function hT(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];A4(i,k4(e,i))}}function A4(n,e){n.children&&hT(n.children,e)}function k4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function T_(n){const e=n.children&&n.children.map(T_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Fe&&(t.component=uT),t}function vi(n){return n.outlet||Fe}function dT(n,e){const t=n.filter(i=>vi(i)===e);return t.push(...n.filter(i=>vi(i)!==e)),t}const fT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function md(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},fT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||z8)(t,n,e);if(!r)return Object.assign({},fT);const o={};on(r.posParams,(l,c)=>{o[c]=l.path});const a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function _d(n,e,t,i,s="corrected"){if(t.length>0&&function R4(n,e,t){return t.some(i=>yd(n,e,i)&&vi(i)!==Fe)}(n,t,i)){const o=new Le(e,function O4(n,e,t,i){const s={};s[Fe]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const r of t)if(""===r.path&&vi(r)!==Fe){const o=new Le([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,s[vi(r)]=o}return s}(n,e,i,new Le(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function F4(n,e,t){return t.some(i=>yd(n,e,i))}(n,t,i)){const o=new Le(n.segments,function I4(n,e,t,i,s,r){const o={};for(const a of i)if(yd(n,t,a)&&!s[vi(a)]){const l=new Le([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===r?n.segments.length:e.length,o[vi(a)]=l}return Object.assign(Object.assign({},s),o)}(n,e,t,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new Le(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function yd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function pT(n,e,t,i){return!!(vi(n)===i||i!==Fe&&yd(e,t,n))&&("**"===n.path||md(e,n,t).matched)}function gT(n,e,t){return 0===e.length&&!n.children[t]}class Ac{constructor(e){this.segmentGroup=e||null}}class mT{constructor(e){this.urlTree=e}}function vd(n){return new Ue(e=>e.error(new Ac(n)))}function _T(n){return new Ue(e=>e.error(new mT(n)))}function P4(n){return new Ue(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class V4{constructor(e,t,i,s,r){this.configLoader=t,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(Bs)}apply(){const e=_d(this.urlTree.root,[],[],this.config).segmentGroup,t=new Le(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Fe).pipe(V(r=>this.createUrlTree(x_(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Us(r=>{if(r instanceof mT)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Ac?this.noMatchError(r):r}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Fe).pipe(V(s=>this.createUrlTree(x_(s),e.queryParams,e.fragment))).pipe(Us(s=>{throw s instanceof Ac?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const s=e.segments.length>0?new Le([],{[Fe]:e}):e;return new so(s,t,i)}expandSegmentGroup(e,t,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(V(r=>new Le([],r))):this.expandSegment(e,i,t,i.segments,s,!0)}expandChildren(e,t,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return Kt(s).pipe(Va(r=>{const o=i.children[r],a=dT(t,r);return this.expandSegmentGroup(e,a,o,r).pipe(V(l=>({segment:l,outlet:r})))}),IS((r,o)=>(r[o.outlet]=o.segment,r),{}),function A8(n,e){const t=arguments.length>=2;return i=>i.pipe(n?en((s,r)=>n(s,r,i)):ts,d_(1),t?RS(e):OS(()=>new od))}())}expandSegment(e,t,i,s,r,o){return Kt(i).pipe(Va(a=>this.expandSegmentAgainstRoute(e,t,i,a,s,r,o).pipe(Us(c=>{if(c instanceof Ac)return ce(null);throw c}))),Ba(a=>!!a),Us((a,l)=>{if(a instanceof od||"EmptyError"===a.name){if(gT(t,s,r))return ce(new Le([],{}));throw new Ac(t)}throw a}))}expandSegmentAgainstRoute(e,t,i,s,r,o,a){return pT(s,t,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o):vd(t):vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_T(r):this.lineralizeSegments(i,r).pipe(Bt(o=>{const a=new Le(o,{});return this.expandSegment(e,a,t,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=md(t,s,r);if(!a)return vd(t);const h=this.applyRedirectCommands(l,s.redirectTo,u);return s.redirectTo.startsWith("/")?_T(h):this.lineralizeSegments(s,h).pipe(Bt(d=>this.expandSegment(e,t,i,d.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,i,s,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ce(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(V(d=>(i._loadedConfig=d,new Le(s,{})))):ce(new Le(s,{}));const{matched:o,consumedSegments:a,lastChild:l}=md(t,i,s);if(!o)return vd(t);const c=s.slice(l);return this.getChildConfig(e,i,s).pipe(Bt(h=>{const d=h.module,f=h.routes,{segmentGroup:p,slicedSegments:g}=_d(t,a,c,f),m=new Le(p.segments,p.children);if(0===g.length&&m.hasChildren())return this.expandChildren(d,f,m).pipe(V(E=>new Le(a,E)));if(0===f.length&&0===g.length)return ce(new Le(a,{}));const _=vi(i)===r;return this.expandSegment(d,m,f,g,_?Fe:r,!0).pipe(V(b=>new Le(a.concat(b.segments),b.children)))}))}getChildConfig(e,t,i){return t.children?ce(new E_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ce(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(Bt(s=>s?this.configLoader.load(e.injector,t).pipe(V(r=>(t._loadedConfig=r,r))):function N4(n){return new Ue(e=>e.error(p_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ce(new E_([],e))}runCanLoadGuards(e,t,i){const s=t.canLoad;return s&&0!==s.length?ce(s.map(o=>{const a=e.get(o);let l;if(function D4(n){return n&&br(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!br(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return ms(l)})).pipe(xc(),tn(o=>{if(!oo(o))return;const a=p_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),V(o=>!0===o)):ce(!0)}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return ce(i);if(s.numberOfChildren>1||!s.children[Fe])return P4(e.redirectTo);s=s.children[Fe]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,s){const r=this.createSegmentGroup(e,t.root,i,s);return new so(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return on(e,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,s){const r=this.createSegments(e,t.segments,i,s);let o={};return on(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,s)}),new Le(r,o)}createSegments(e,t,i,s){return t.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,s):this.findOrReturn(r,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}function x_(n){const e={};for(const i of Object.keys(n.children)){const r=x_(n.children[i]);(r.segments.length>0||r.hasChildren())&&(e[i]=r)}return function B4(n){if(1===n.numberOfChildren&&n.children[Fe]){const e=n.children[Fe];return new Le(n.segments.concat(e.segments),e.children)}return n}(new Le(n.segments,e))}class yT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bd{constructor(e,t){this.component=e,this.route=t}}function H4(n,e,t){const i=n._root;return kc(i,e?e._root:null,t,[i.value])}function wd(n,e,t){const i=function U4(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function kc(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Ha(e);return n.children.forEach(o=>{(function q4(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function $4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ro(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!b_(n,e)||!gs(n.queryParams,e.queryParams);default:return!b_(n,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new yT(i)):(r.data=o.data,r._resolvedData=o._resolvedData),kc(n,e,r.component?a?a.children:null:t,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new bd(a.outlet.component,o))}else o&&Ic(e,a,s),s.canActivateChecks.push(new yT(i)),kc(n,null,r.component?a?a.children:null:t,i,s)})(o,r[o.value.outlet],t,i.concat([o.value]),s),delete r[o.value.outlet]}),on(r,(o,a)=>Ic(o,t.getContext(a),s)),s}function Ic(n,e,t){const i=Ha(n),s=n.value;on(i,(r,o)=>{Ic(r,s.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new bd(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class ej{}function vT(n){return new Ue(e=>e.error(n))}class nj{constructor(e,t,i,s,r,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const e=_d(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Fe);if(null===t)return null;const i=new fd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new $s(i,t),r=new iT(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(e){const t=e.value,i=nT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const r of Object.keys(t.children)){const o=t.children[r],a=dT(e,r),l=this.processSegmentGroup(a,o,r);if(null===l)return null;i.push(...l)}const s=bT(i);return function ij(n){n.sort((e,t)=>e.value.outlet===Fe?-1:t.value.outlet===Fe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,i,s){for(const r of e){const o=this.processSegmentAgainstRoute(r,t,i,s);if(null!==o)return o}return gT(t,i,s)?[]:null}processSegmentAgainstRoute(e,t,i,s){if(e.redirectTo||!pT(e,t,i,s))return null;let r,o=[],a=[];if("**"===e.path){const f=i.length>0?zS(i).parameters:{};r=new fd(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DT(e),vi(e),e.component,e,wT(t),CT(t)+i.length,ET(e))}else{const f=md(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=i.slice(f.lastChild),r=new fd(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DT(e),vi(e),e.component,e,wT(t),CT(t)+o.length,ET(e))}const l=function sj(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=_d(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new $s(r,f)]}if(0===l.length&&0===u.length)return[new $s(r,[])];const h=vi(e)===s,d=this.processSegment(l,c,u,h?Fe:s);return null===d?null:[new $s(r,d)]}}function rj(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bT(n){const e=[],t=new Set;for(const i of n){if(!rj(i)){e.push(i);continue}const s=e.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=bT(i.children);e.push(new $s(i.value,s))}return e.filter(i=>!t.has(i))}function wT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CT(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function DT(n){return n.data||{}}function ET(n){return n.resolve||{}}function M_(n){return vr(e=>{const t=n(e);return t?Kt(t).pipe(V(()=>e)):ce(e)})}class fj extends class dj{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const A_=new W("ROUTES");class ST{constructor(e,t,i,s){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe(V(r=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=r.create(e);return new E_(HS(o.injector.get(A_,void 0,ve.Self|ve.Optional)).map(T_),o)}),Us(r=>{throw t._loader$=void 0,r}));return t._loader$=new T8(s,()=>new j).pipe(kS()),t._loader$}loadModuleFactory(e){return ms(e()).pipe(Bt(t=>t instanceof jD?ce(t):Kt(this.compiler.compileModuleAsync(t))))}}class gj{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mj(n){throw n}function _j(n,e,t){return e.parse("/")}function TT(n,e){return ce(null)}const yj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class n{constructor(t,i,s,r,o,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=mj,this.malformedUriErrorHandler=_j,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TT,afterPreactivation:TT},this.urlHandlingStrategy=new gj,this.routeReuseStrategy=new fj,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Bs),this.console=o.get(CE);const h=o.get(Re);this.isNgZoneEnabled=h instanceof Re&&Re.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function q8(){return new so(new Le([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ST(o,a,d=>this.triggerEvent(new NS(d)),d=>this.triggerEvent(new LS(d))),this.routerState=tT(this.currentUrlTree,this.rootComponentType),this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(en(s=>0!==s.id),V(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vr(s=>{let r=!1,o=!1;return ce(s).pipe(tn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Cd(a.source)&&(this.browserUrlTree=a.extractedUrl),ce(a).pipe(vr(h=>{const d=this.transitions.getValue();return i.next(new f_(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions.getValue()?Is:Promise.resolve(h)}),function j4(n,e,t,i){return vr(s=>function L4(n,e,t,i,s){return new V4(n,e,t,i,s).apply()}(n,e,t,s.extractedUrl,i).pipe(V(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tn(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function oj(n,e,t,i,s){return Bt(r=>function tj(n,e,t,i,s="emptyOnly",r="legacy"){try{const o=new nj(n,e,t,i,s,r).recognize();return null===o?vT(new ej):ce(o)}catch(o){return vT(o)}}(n,e,r.urlAfterRedirects,t(r.urlAfterRedirects),i,s).pipe(V(o=>Object.assign(Object.assign({},r),{targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),tn(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(f,h)}this.browserUrlTree=h.urlAfterRedirects}const d=new I8(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(d)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:m}=a,_=new f_(d,this.serializeUrl(f),p,g);i.next(_);const y=tT(f,this.rootComponentType).snapshot;return ce(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Is}),M_(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),tn(a=>{const l=new O8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),V(a=>Object.assign(Object.assign({},a),{guards:H4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function G4(n,e){return Bt(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return 0===o.length&&0===r.length?ce(Object.assign(Object.assign({},t),{guardsResult:!0})):function W4(n,e,t,i){return Kt(n).pipe(Bt(s=>function J4(n,e,t,i,s){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?ce(r.map(a=>{const l=wd(a,e,s);let c;if(function T4(n){return n&&br(n.canDeactivate)}(l))c=ms(l.canDeactivate(n,e,t,i));else{if(!br(l))throw new Error("Invalid CanDeactivate guard");c=ms(l(n,e,t,i))}return c.pipe(Ba())})).pipe(xc()):ce(!0)}(s.component,s.route,t,e,i)),Ba(s=>!0!==s,!0))}(o,i,s,n).pipe(Bt(a=>a&&function C4(n){return"boolean"==typeof n}(a)?function Y4(n,e,t,i){return Kt(e).pipe(Va(s=>u_(function X4(n,e){return null!==n&&e&&e(new N8(n)),ce(!0)}(s.route.parent,i),function Z4(n,e){return null!==n&&e&&e(new V8(n)),ce(!0)}(s.route,i),function K4(n,e,t){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>function z4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>h_(()=>ce(o.guards.map(l=>{const c=wd(l,o.node,t);let u;if(function S4(n){return n&&br(n.canActivateChild)}(c))u=ms(c.canActivateChild(i,n));else{if(!br(c))throw new Error("Invalid CanActivateChild guard");u=ms(c(i,n))}return u.pipe(Ba())})).pipe(xc())));return ce(r).pipe(xc())}(n,s.path,t),function Q4(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ce(!0);const s=i.map(r=>h_(()=>{const o=wd(r,e,t);let a;if(function E4(n){return n&&br(n.canActivate)}(o))a=ms(o.canActivate(e,n));else{if(!br(o))throw new Error("Invalid CanActivate guard");a=ms(o(e,n))}return a.pipe(Ba())}));return ce(s).pipe(xc())}(n,s.route,t))),Ba(s=>!0!==s,!0))}(i,r,n,e):ce(a)),V(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),tn(a=>{if(oo(a.guardsResult)){const c=p_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new R8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),en(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),M_(a=>{if(a.guards.canActivateChecks.length)return ce(a).pipe(tn(l=>{const c=new F8(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),vr(l=>{let c=!1;return ce(l).pipe(function aj(n,e){return Bt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return ce(t);let r=0;return Kt(s).pipe(Va(o=>function lj(n,e,t,i){return function cj(n,e,t,i){const s=Object.keys(n);if(0===s.length)return ce({});const r={};return Kt(s).pipe(Bt(o=>function uj(n,e,t,i){const s=wd(n,e,i);return ms(s.resolve?s.resolve(e,t):s(e,t))}(n[o],e,t,i).pipe(tn(a=>{r[o]=a}))),d_(1),Bt(()=>Object.keys(r).length===s.length?ce(r):Is))}(n._resolve,n,e,i).pipe(V(r=>(n._resolvedData=r,n.data=Object.assign(Object.assign({},n.data),nT(n,t).resolve),null)))}(o.route,i,n,e)),tn(()=>r++),d_(1),Bt(o=>r===s.length?ce(t):Is))})}(this.paramsInheritanceStrategy,this.ngModule.injector),tn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),tn(l=>{const c=new P8(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),M_(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),V(a=>{const l=function c4(n,e,t){const i=Ec(n,e._root,t?t._root:void 0);return new eT(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),tn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>V(i=>(new b4(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),tn({next(){r=!0},complete(){r=!0}}),FS(()=>{var a;r||o||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===s.id&&(this.currentNavigation=null)}),Us(a=>{if(o=!0,function H8(n){return n&&n[BS]}(a)){const l=oo(a.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const c=new PS(s.id,this.serializeUrl(s.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cd(s.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new k8(s.id,this.serializeUrl(s.extractedUrl),a);i.next(l);try{s.resolve(this.errorHandler(a))}catch(c){s.reject(c)}}return Is}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var s;const r={replaceUrl:!0},o=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hT(t),this.config=t.map(T_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=s||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}return null!==h&&(h=this.removeEmptyProps(h)),function d4(n,e,t,i,s){if(0===t.length)return w_(e.root,e.root,e,i,s);const r=function f4(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oT(!0,0,n);let e=0,t=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return on(r.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new oT(t,e,i)}(t);if(r.toRoot())return w_(e.root,new Le([],{}),e,i,s);const o=function p4(n,e,t){if(n.isAbsolute)return new C_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const r=t.snapshot._urlSegment;return new C_(r,r===e.root,0)}const i=pd(n.commands[0])?0:1;return function g4(n,e,t){let i=n,s=e,r=t;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new C_(i,!1,s-r)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(r,e,n),a=o.processChildren?gd(o.segmentGroup,o.index,r.commands):aT(o.segmentGroup,o.index,r.commands);return w_(o.segmentGroup,a,e,i,s)}(c,this.currentUrlTree,t,h,null!=u?u:null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=oo(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function bj(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return i}isActive(t,i){let s;if(s=!0===i?Object.assign({},yj):!1===i?Object.assign({},vj):i,oo(t))return qS(this.currentUrlTree,t,s);const r=this.parseUrl(t);return qS(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.keys(t).reduce((i,s)=>{const r=t[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,s,r,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,h=Cd(i)&&u&&!Cd(u.source),d=u.rawUrl.toString()===t.toString(),f=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(h&&d&&f)return Promise.resolve(!0);let g,m,_;o?(g=o.resolve,m=o.reject,_=o.promise):_=new Promise((E,w)=>{g=E,m=w});const y=++this.navigationId;let b;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),b=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):b=0,this.setTransition({id:y,targetPageId:b,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:g,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(E=>Promise.reject(E))}setBrowserUrl(t,i){const s=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(t,i=!1){var s,r;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===o?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const s=new PS(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){Th()},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function Cd(n){return"imperative"!==n}class xT{}class MT{preload(e,t){return ce(null)}}let AT=(()=>{class n{constructor(t,i,s,r){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=new ST(s,i,l=>t.triggerEvent(new NS(l)),l=>t.triggerEvent(new LS(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(en(t=>t instanceof wc),Va(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Bs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const o=r._loadedConfig;s.push(this.processRoutes(o.module,o.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(t,r)):r.children&&s.push(this.processRoutes(t,r.children));return Kt(s).pipe(Sl(),V(r=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ce(i._loadedConfig):this.loader.load(t.injector,i)).pipe(Bt(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(x(ii),x(Hh),x(kt),x(xT))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),O_=(()=>{class n{constructor(t,i,s={}){this.router=t,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof f_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof VS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new VS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Th()},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const ao=new W("ROUTER_CONFIGURATION"),kT=new W("ROUTER_FORROOT_GUARD"),Ej=[mc,{provide:YS,useClass:ZS},{provide:ii,useFactory:function Aj(n,e,t,i,s,r,o={},a,l){const c=new ii(null,n,e,t,i,s,HS(r));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function kj(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var h,d;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(d=console.groupEnd)||void 0===d||d.call(console)}),c},deps:[YS,Mc,mc,kt,Hh,A_,ao,[class pj{},new Kn],[class hj{},new Kn]]},Mc,{provide:za,useFactory:function Ij(n){return n.routerState.root},deps:[ii]},AT,MT,class Dj{preload(e,t){return t().pipe(Us(()=>ce(null)))}},{provide:ao,useValue:{enableTracing:!1}}];function Sj(){return new ME("Router",ii)}let IT=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Ej,OT(t),{provide:kT,useFactory:Mj,deps:[[ii,new Kn,new Yr]]},{provide:ao,useValue:i||{}},{provide:La,useFactory:xj,deps:[io,[new zl(jm),new Kn],ao]},{provide:O_,useFactory:Tj,deps:[ii,OB,ao]},{provide:xT,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:MT},{provide:ME,multi:!0,useFactory:Sj},[R_,{provide:jh,multi:!0,useFactory:Oj,deps:[R_]},{provide:RT,useFactory:Rj,deps:[R_]},{provide:wE,multi:!0,useExisting:RT}]]}}static forChild(t){return{ngModule:n,providers:[OT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(x(kT,8),x(ii,8))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();function Tj(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new O_(n,e,t)}function xj(n,e,t={}){return t.useHash?new p3(n,e):new XE(n,e)}function Mj(n){return"guarded"}function OT(n){return[{provide:zR,multi:!0,useValue:n},{provide:A_,multi:!0,useValue:n}]}let R_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new j}appInitializer(){return this.injector.get(h3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(a=>i=a),r=this.injector.get(ii),o=this.injector.get(ao);return"disabled"===o.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?ce(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),s})}bootstrapListener(t){const i=this.injector.get(ao),s=this.injector.get(AT),r=this.injector.get(O_),o=this.injector.get(ii),a=this.injector.get(Pa);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),s.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(x(kt))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();function Oj(n){return n.appInitializer.bind(n)}function Rj(n){return n.bootstrapListener.bind(n)}const RT=new W("Router Initializer");class FT{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}}class PT{constructor(e,t,i,s){this.x1=e,this.y1=t,this.x2=i,this.y2=s}}let F_;try{F_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){F_=!1}let Oc,co,P_,$i=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?hS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!F_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(x(pc))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lo(n){return function Pj(){if(null==Oc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oc=!0}))}finally{Oc=Oc||!1}return Oc}()?n:!!n.capture}function Nj(){if(null==co){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return co=!1,co;if("scrollBehavior"in document.documentElement.style)co=!0;else{const n=Element.prototype.scrollTo;co=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return co}function N_(n){if(function Lj(){if(null==P_){const n="undefined"!=typeof document?document.head:null;P_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return P_}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function L_(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Gi(n){return n.composedPath?n.composedPath()[0]:n.target}function V_(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Bn(n){return null!=n&&"false"!=`${n}`}function uo(n,e=0){return function Vj(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function LT(n){return Array.isArray(n)?n:[n]}function Ut(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Zt(n){return n instanceof ct?n.nativeElement:n}function VT(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function t6(n,e){return n===e}function _s(n){return L((e,t)=>{$n(n).subscribe(new ee(t,()=>t.complete(),er)),!t.closed&&e.subscribe(t)})}let HT=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function r6(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function s6(n){try{return n.frameElement}catch(e){return null}}(function f6(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===UT(i)||!this.isVisible(i)))return!1;let s=t.nodeName.toLowerCase(),r=UT(t);return t.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function h6(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function d6(n){return!function a6(n){return function c6(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function o6(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function l6(n){return function u6(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||zT(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(x($i))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zT(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function UT(n){if(!zT(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class p6{constructor(e,t,i,s,r=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const s=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const s=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(s)return s}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Gn(1)).subscribe(e)}}let g6=(()=>{class n{constructor(t,i,s){this._checker=t,this._ngZone=i,this._document=s}create(t,i=!1){return new p6(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(x(HT),x(Re),x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function j_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const m6=new W("cdk-input-modality-detector-options"),_6={ignoreKeys:[18,17,224,91,16]},$a=lo({passive:!0,capture:!0});let y6=(()=>{class n{constructor(t,i,s,r){this._platform=t,this._mostRecentTarget=null,this._modality=new yi(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Gi(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(B_(o)?"keyboard":"mouse"),this._mostRecentTarget=Gi(o))},this._onTouchstart=o=>{j_(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Gi(o))},this._options=Object.assign(Object.assign({},_6),r),this.modalityDetected=this._modality.pipe(function Jj(n){return en((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function e6(n,e=ts){return n=null!=n?n:t6,L((t,i)=>{let s,r=!0;t.subscribe(new ee(i,o=>{const a=e(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,$a),s.addEventListener("mousedown",this._onMousedown,$a),s.addEventListener("touchstart",this._onTouchstart,$a)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$a),document.removeEventListener("mousedown",this._onMousedown,$a),document.removeEventListener("touchstart",this._onTouchstart,$a))}}return n.\u0275fac=function(t){return new(t||n)(x($i),x(Re),x(Se),x(m6,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b6=new W("cdk-focus-monitor-default-options"),Ed=lo({passive:!0,capture:!0});let Sd=(()=>{class n{constructor(t,i,s,r,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j,this._rootNodeFocusAndBlurListener=a=>{const l=Gi(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=r,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,i=!1){const s=Zt(t);if(!this._platform.isBrowser||1!==s.nodeType)return ce(null);const r=N_(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new j,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Zt(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){const r=Zt(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const s=this._elementInfo.get(i),r=Gi(t);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(t,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ed)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_s(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ed),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((s,r)=>{(r===t||s.checkChildren&&r.contains(t))&&i.push([r,s])}),i}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x($i),x(y6),x(Se,8),x(b6,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $T="cdk-high-contrast-black-on-white",GT="cdk-high-contrast-white-on-black",H_="cdk-high-contrast-active";let w6=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(H_),t.remove($T),t.remove(GT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(H_),t.add($T)):2===i&&(t.add(H_),t.add(GT))}}}return n.\u0275fac=function(t){return new(t||n)(x($i),x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class C6 extends Me{constructor(e,t){super()}schedule(e,t=0){return this}}const Td={setInterval(...n){const{delegate:e}=Td;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Td;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class z_ extends C6{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Td.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;Td.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Dt(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const WT={now:()=>(WT.delegate||Date).now(),delegate:void 0};class Rc{constructor(e,t=Rc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Rc.now=WT.now;class U_ extends Rc{constructor(e,t=Rc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const YT=new U_(z_),ZT=YT;function XT(n=0,e,t=ZT){let i=-1;return null!=e&&(o1(e)?t=e:i=e),new Ue(s=>{let r=function D6(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;r<0&&(r=0);let o=0;return t.schedule(function(){s.closed||(s.next(o++),0<=i?this.schedule(void 0,i):s.complete())},r)})}const Fc={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Fc;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=e(r=>{t=void 0,n(r)});return new Me(()=>null==t?void 0:t(s))},requestAnimationFrame(...n){const{delegate:e}=Fc;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Fc;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},QT=new class T6 extends U_{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,s=-1;e=e||t.shift();const r=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++s<r&&(e=t.shift()));if(this._active=!1,i){for(;++s<r&&(e=t.shift());)e.unsubscribe();throw i}}}(class S6 extends z_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Fc.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Fc.cancelAnimationFrame(t),e._scheduled=void 0)}}),x6=["addListener","removeListener"],M6=["addEventListener","removeEventListener"],A6=["on","off"];function xd(n,e,t,i){if(q(t)&&(i=t,t=void 0),i)return xd(n,e,t).pipe(c_(i));const[s,r]=function O6(n){return q(n.addEventListener)&&q(n.removeEventListener)}(n)?M6.map(o=>a=>n[o](e,a,t)):function k6(n){return q(n.addListener)&&q(n.removeListener)}(n)?x6.map(KT(n,e)):function I6(n){return q(n.on)&&q(n.off)}(n)?A6.map(KT(n,e)):[];if(!s&&cp(n))return Bt(o=>xd(o,e,t))($n(n));if(!s)throw new TypeError("Invalid event target");return new Ue(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return s(a),()=>r(a)})}function KT(n,e){return t=>i=>n[t](e,i)}let q_,R6=1;const Md={};function JT(n){return n in Md&&(delete Md[n],!0)}const F6={setImmediate(n){const e=R6++;return Md[e]=!0,q_||(q_=Promise.resolve()),q_.then(()=>JT(e)&&n()),e},clearImmediate(n){JT(n)}},{setImmediate:P6,clearImmediate:N6}=F6,Ad={setImmediate(...n){const{delegate:e}=Ad;return((null==e?void 0:e.setImmediate)||P6)(...n)},clearImmediate(n){const{delegate:e}=Ad;return((null==e?void 0:e.clearImmediate)||N6)(n)},delegate:void 0};new class V6 extends U_{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,s=-1;e=e||t.shift();const r=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++s<r&&(e=t.shift()));if(this._active=!1,i){for(;++s<r&&(e=t.shift());)e.unsubscribe();throw i}}}(class L6 extends z_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ad.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Ad.clearImmediate(t),e._scheduled=void 0)}});function ex(n,e=ZT){return function j6(n){return L((e,t)=>{let i=!1,s=null,r=null,o=!1;const a=()=>{if(null==r||r.unsubscribe(),r=null,i){i=!1;const c=s;s=null,t.next(c)}o&&t.complete()},l=()=>{r=null,o&&t.complete()};e.subscribe(new ee(t,c=>{i=!0,s=c,r||$n(n(c)).subscribe(r=new ee(t,a,l))},()=>{o=!0,(!i||!r||r.closed)&&t.complete()}))})}(()=>XT(n,e))}const H6=new W("cdk-dir-doc",{providedIn:"root",factory:function z6(){return Wp(Se)}}),U6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new pe,t){const s=t.documentElement?t.documentElement.dir:null;this.value=function q6(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?U6.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(x(H6,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})(),G6=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ue(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(ex(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ce()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(en(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=Zt(i),r=t.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x($i),x(Se,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$_=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new j,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,r=s.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ex(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(x($i),x(Re),x(Se,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})(),tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Nc,Lc],Nc,Lc]}),n})();function G_(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const s=e[i];s?n.setProperty(i,s,(null==t?void 0:t.has(i))?"important":""):n.removeProperty(i)}return n}function Ga(n,e){const t=e?"":"none";G_(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function nx(n,e,t){G_(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function kd(n,e){return e&&"none"!=e?n+" "+e:n}function ix(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function W_(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function Y_(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Z_(n,e,t){const{top:i,bottom:s,left:r,right:o}=n;return t>=i&&t<=s&&e>=r&&e<=o}function Vc(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function sx(n,e,t,i){const{top:s,right:r,bottom:o,left:a,width:l,height:c}=n,u=l*e,h=c*e;return i>s-h&&i<o+h&&t>a-u&&t<r+u}class rx{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Y_(t)})})}handleScroll(e){const t=Gi(e),i=this.positions.get(t);if(!i)return null;const s=i.scrollPosition;let r,o;if(t===this._document){const c=this.getViewportScrollPosition();r=c.top,o=c.left}else r=t.scrollTop,o=t.scrollLeft;const a=s.top-r,l=s.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&Vc(c.clientRect,a,l)}),s.top=r,s.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ox(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return"canvas"===i?cx(n,e):("input"===i||"select"===i||"textarea"===i)&&lx(n,e),ax("canvas",n,e,cx),ax("input, textarea, select",n,e,lx),e}function ax(n,e,t,i){const s=e.querySelectorAll(n);if(s.length){const r=t.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let Z6=0;function lx(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Z6++}`)}function cx(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}const ux=lo({passive:!0}),Id=lo({passive:!1}),X_=new Set(["position"]);class Q6{constructor(e,t,i,s,r,o){this._config=t,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new j,this._pointerMoveSubscription=Me.EMPTY,this._pointerUpSubscription=Me.EMPTY,this._scrollSubscription=Me.EMPTY,this._resizeSubscription=Me.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new j,this.started=new j,this.released=new j,this.ended=new j,this.entered=new j,this.exited=new j,this.dropped=new j,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this._activeTransform;u.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,u.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new rx(i),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Bn(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ga(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Zt(i)),this._handles.forEach(i=>Ga(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Zt(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Id),t.addEventListener("touchstart",this._pointerDown,ux),t.addEventListener("dragstart",this._nativeDragStart,Id)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Zt(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ga(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ga(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Bc(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),nx(i,!1,X_),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),s=Bc(t),r=!s&&0!==t.button,o=this._rootElement,a=Gi(t),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=s?j_(t):B_(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||r||l||c)return;if(this._handles.length){const d=o.style;this._rootElementTapHighlight=d.webkitTapHighlightColor||"",d.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(d=>this._updateOnScroll(d)),this._boundaryElement&&(this._boundaryRect=Y_(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){nx(this._rootElement,!0,X_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),s=this._getPointerPositionOnPage(e),r=this._getDragDistance(s),o=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),t.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,e,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let s;if(i&&e){const r=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(i,e.context);o.detectChanges(),s=dx(o,this._document),this._previewRef=o,e.matchSize?fx(s,r):s.style.transform=Od(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=ox(r),fx(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return G_(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},X_),Ga(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(r=>s.classList.add(r)):s.classList.add(t)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function Y6(n){const e=getComputedStyle(n),t=W_(e,"transition-property"),i=t.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=t.indexOf(i),r=W_(e,"transition-duration"),o=W_(e,"transition-delay");return ix(r[s])+ix(o[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||Gi(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*t);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=dx(this._placeholderRef,this._document)):i=ox(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),s=e===this._rootElement?null:e,r=s?s.getBoundingClientRect():i,o=Bc(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=Bc(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,s=i.pageX-t.left,r=i.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,h=a.bottom-(c-o);i=hx(i,a.left+r,a.right-(l-r)),s=hx(s,u,h)}return{x:i,y:s}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=t>r.x?1:-1,r.x=t),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ga(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Id),e.removeEventListener("touchstart",this._pointerDown,ux),e.removeEventListener("dragstart",this._nativeDragStart,Id)}_applyRootElementTransform(e,t){const i=Od(e,t),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=kd(i,this._initialTransform)}_applyPreviewTransform(e,t){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=Od(e,t);this._preview.style.transform=kd(r,s)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(e+=r),o>0&&(e-=o)):e=0,i.height>s.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Bc(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=Gi(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Vc(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=N_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Zt(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Od(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function hx(n,e,t){return Math.max(e,Math.min(t,n))}function Bc(n){return"t"===n.type[0]}function dx(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(s=>i.appendChild(s)),i}function fx(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Od(e.left,e.top)}function jc(n,e){return Math.max(0,Math.min(e,n))}class J6{constructor(e,t,i,s,r){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new j,this.entered=new j,this.exited=new j,this.dropped=new j,this.sorted=new j,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Me.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new j,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function E6(n=0,e=YT){return n<0&&(n=0),XT(n,n,e)}(0,QT).pipe(_s(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=Zt(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new rx(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(e,t,i))):r=s;const o=this._activeDraggables,a=o.indexOf(e),l=e.getPlaceholderElement();let c=o[r];if(c===e&&(c=o[r+1]),!c&&(null==r||-1===r||r<o.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(r,0,e)}else Zt(this.element).appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,s,r,o,a){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>-1===e.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Zt(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,s){if(this.sortingDisabled||!this._clientRect||!sx(this._clientRect,.05,t,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,l=r.findIndex(m=>m.drag===e),c=r[o],h=c.clientRect,d=l>o?1:-1,f=this._getItemOffsetPx(r[l].clientRect,h,d),p=this._getSiblingOffsetPx(l,r,d),g=r.slice();(function K6(n,e,t){const i=jc(e,n.length-1),s=jc(t,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r})(r,l,o),this.sorted.next({previousIndex:l,currentIndex:o,container:this,item:e}),r.forEach((m,_)=>{if(g[_]===m)return;const y=m.drag===e,b=y?f:p,E=y?e.getPlaceholderElement():m.drag.getRootElement();m.offset+=b,a?(E.style.transform=kd(`translate3d(${Math.round(m.offset)}px, 0, 0)`,m.initialTransform),Vc(m.clientRect,0,b)):(E.style.transform=kd(`translate3d(0, ${Math.round(m.offset)}px, 0)`,m.initialTransform),Vc(m.clientRect,b,0))}),this._previousSwap.overlaps=Z_(h,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||sx(o.clientRect,.05,e,t)&&([s,r]=function e9(n,e,t,i){const s=mx(e,i),r=_x(e,t);let o=0,a=0;if(s){const l=n.scrollTop;1===s?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,e,t),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=mx(l,t),r=_x(l,e),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Zt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Zt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Y_(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=Zt(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var i;const s=t.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===t))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const s="horizontal"===this._orientation,r=t[e].clientRect,o=t[e+-1*i];let a=r[s?"width":"height"]*i;if(o){const l=s?"left":"top",c=s?"right":"bottom";-1===i?a-=o.clientRect[l]-r[c]:a+=r[l]-o.clientRect[c]}return a}_getItemOffsetPx(e,t,i){const s="horizontal"===this._orientation;let r=s?t.left-e.left:t.top-e.top;return-1===i&&(r+=s?t.width-e.width:t.height-e.height),r}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?e>=o.right:t>=o.bottom}{const o=i[0].clientRect;return s?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,i,s){const r="horizontal"===this._orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(s){const c=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==o&&this.sortPredicate(o,e,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&Z_(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(s=>s._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!Z_(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const s=this._getShadowRoot().elementFromPoint(t,i);if(!s)return!1;const r=Zt(this.element);return s===r||r.contains(s)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:i})=>{Vc(i,t.top,t.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=N_(Zt(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function mx(n,e){const{top:t,bottom:i,height:s}=n,r=.05*s;return e>=t-r&&e<=t+r?1:e>=i-r&&e<=i+r?2:0}function _x(n,e){const{left:t,right:i,width:s}=n,r=.05*s;return e>=t-r&&e<=t+r?1:e>=i-r&&e<=i+r?2:0}const Rd=lo({passive:!1,capture:!0});let t9=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new j,this.pointerUp=new j,this.scroll=new j,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Rd)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Rd)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Rd}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Rd}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new Ue(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),ns(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(x(Re),x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n9={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let yx=(()=>{class n{constructor(t,i,s,r){this._document=t,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(t,i=n9){return new Q6(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new J6(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(x(Se),x(Re),x($_),x(t9))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q_=new W("CDK_DRAG_PARENT"),i9=new W("CDK_DRAG_CONFIG"),s9=new W("CdkDropList"),K_=new W("CdkDragHandle");let r9=(()=>{class n{constructor(t,i){this.element=t,this._stateChanges=new j,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(t){this._disabled=Bn(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(Q_,12))},n.\u0275dir=se({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[lt([{provide:K_,useExisting:n}])]}),n})();const o9=new W("CdkDragPlaceholder"),a9=new W("CdkDragPreview");let c9=(()=>{class n{constructor(t,i,s,r,o,a,l,c,u,h,d){this.element=t,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=u,this._selfHandle=h,this._parentDrag=d,this._destroyed=new j,this.started=new pe,this.released=new pe,this.ended=new pe,this.entered=new pe,this.exited=new pe,this.dropped=new pe,this.moved=new Ue(f=>{const p=this._dragRef.moved.pipe(V(g=>({source:this,pointerPosition:g.pointerPosition,event:g.event,delta:g.delta,distance:g.distance}))).subscribe(f);return()=>{p.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Bn(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gn(1),_s(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,s=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const i=this.element.nativeElement;let s=i;this.rootElementSelector&&(s=void 0!==i.closest?i.closest(this.rootElementSelector):null===(t=i.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(s||i)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Zt(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:uo(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Gn(1)).subscribe(()=>{var i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let s=this.element.nativeElement.parentElement;for(;s;){if(s.classList.contains("cdk-drag")){t.withParent((null===(i=n._dragInstances.find(r=>r.element.nativeElement===s))||void 0===i?void 0:i._dragRef)||null);break}s=s.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=t;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),o&&(this.previewClass=o),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe(ad(this._handles),tn(t=>{const i=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),vr(t=>ns(...t.map(i=>i._stateChanges.pipe(ad(i))))),_s(this._destroyed)).subscribe(t=>{const i=this._dragRef,s=t.element.nativeElement;t.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(C(ct),C(s9,12),C(Se),C(Re),C(ni),C(i9,8),C(Pc,8),C(yx),C(_r),C(K_,10),C(Q_,12))},n.\u0275dir=se({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,s){if(1&t&&(mr(s,a9,5),mr(s,o9,5),mr(s,K_,5)),2&t){let r;xn(r=Mn())&&(i._previewTemplate=r.first),xn(r=Mn())&&(i._placeholderTemplate=r.first),xn(r=Mn())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&Sn("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[lt([{provide:Q_,useExisting:n}]),Ln]}),n})(),u9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[yx],imports:[Lc]}),n})();const ho="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function vx(n,e,t,i){const s=e.querySelectorAll(n);if(s.length){const r=t.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let f9=0;function bx(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${f9++}`)}function wx(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(i){}}function Cx(n,e,t,i){const s={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return e.top&&(s.top+=i),e.bottom&&(s.bottom+=i),e.left&&(s.left+=t),e.right&&(s.right+=t),s.height=s.bottom-s.top,s.width=s.right-s.left,s}const Dx=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Ex(n,e){return n.left&&n.top?e.topLeft:n.right&&n.top?e.topRight:n.left&&n.bottom?e.bottomLeft:n.right&&n.bottom?e.bottomRight:n.left||n.right?e.leftOrRight:n.top||n.bottom?e.topOrBottom:""}function Fd({edges:n,initialRectangle:e,newRectangle:t}){const i={};return Object.keys(n).forEach(s=>{i[s]=(t[s]||0)-(e[s]||0)}),i}const Sx="resize-active";let J_=(()=>{class n{constructor(t,i,s,r){this.platformId=t,this.renderer=i,this.elm=s,this.zone=r,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Dx,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new pe,this.resizing=new pe,this.resizeEnd=new pe,this.mouseup=new j,this.mousedown=new j,this.mousemove=new j,this.destroy$=new j,this.pointerEventListeners=Wa.getInstance(i,r)}ngOnInit(){const t=ns(this.pointerEventListeners.pointerDown,this.mousedown),i=ns(this.pointerEventListeners.pointerMove,this.mousemove).pipe(tn(({event:c})=>{if(r)try{c.preventDefault()}catch(u){}}),Uo()),s=ns(this.pointerEventListeners.pointerUp,this.mouseup);let r;const o=()=>{r&&r.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(r.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>Object.assign(Object.assign({},Dx),this.resizeCursors);t.pipe(Bt(c=>{function u(f){return{clientX:f.clientX-c.clientX,clientY:f.clientY-c.clientY}}const h=()=>{const f={x:1,y:1};return r&&(this.resizeSnapGrid.left&&r.edges.left?f.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&r.edges.right&&(f.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&r.edges.top?f.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&r.edges.bottom&&(f.y=+this.resizeSnapGrid.bottom)),f};function d(f,p){return{x:Math.ceil(f.clientX/p.x),y:Math.ceil(f.clientY/p.y)}}return ns(i.pipe(Gn(1)).pipe(V(f=>[,f])),i.pipe(function h9(){return L((n,e)=>{let t,i=!1;n.subscribe(new ee(e,s=>{const r=t;t=s,i&&e.next([r,s]),i=!0}))})}())).pipe(V(([f,p])=>[f&&u(f),u(p)])).pipe(en(([f,p])=>{if(!f)return!0;const g=h(),m=d(f,g),_=d(p,g);return m.x!==_.x||m.y!==_.y})).pipe(V(([,f])=>{const p=h();return{clientX:Math.round(f.clientX/p.x)*p.x,clientY:Math.round(f.clientY/p.y)*p.y}})).pipe(_s(ns(s,t)))})).pipe(en(()=>!!r)).pipe(V(({clientX:c,clientY:u})=>Cx(r.startingRect,r.edges,c,u))).pipe(en(c=>this.allowNegativeResizes||!!(c.height&&c.width&&c.height>0&&c.width>0))).pipe(en(c=>!this.validateResize||this.validateResize({rectangle:c,edges:Fd({edges:r.edges,initialRectangle:r.startingRect,newRectangle:c})})),_s(this.destroy$)).subscribe(c=>{r&&r.clonedNode&&(this.renderer.setStyle(r.clonedNode,"height",`${c.height}px`),this.renderer.setStyle(r.clonedNode,"width",`${c.width}px`),this.renderer.setStyle(r.clonedNode,"top",`${c.top}px`),this.renderer.setStyle(r.clonedNode,"left",`${c.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Fd({edges:r.edges,initialRectangle:r.startingRect,newRectangle:c}),rectangle:c})}),r.currentRect=c}),t.pipe(V(({edges:c})=>c||{}),en(c=>Object.keys(c).length>0),_s(this.destroy$)).subscribe(c=>{r&&o();const u=function p9(n,e){let t=0,i=0;const s=n.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(a=>s[a]).find(a=>!!a);if(o&&o.includes("translate")&&(t=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===e)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const a=n.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-i,bottom:a.bottom-i,left:a.left-t,right:a.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);r={edges:c,startingRect:u,currentRect:u};const h=a(),d=Ex(r.edges,h);this.renderer.setStyle(document.body,"cursor",d),this.setElementClass(this.elm,Sx,!0),this.enableGhostResize&&(r.clonedNode=function d9(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return e.removeAttribute("id"),t.forEach(s=>{s.removeAttribute("id")}),"canvas"===i?wx(n,e):("input"===i||"select"===i||"textarea"===i)&&bx(n,e),vx("canvas",n,e,wx),vx("input, textarea, select",n,e,bx),e}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(r.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(r.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(r.clonedNode,"left",`${r.startingRect.left}px`),this.renderer.setStyle(r.clonedNode,"top",`${r.startingRect.top}px`),this.renderer.setStyle(r.clonedNode,"height",`${r.startingRect.height}px`),this.renderer.setStyle(r.clonedNode,"width",`${r.startingRect.width}px`),this.renderer.setStyle(r.clonedNode,"cursor",Ex(r.edges,h)),this.renderer.addClass(r.clonedNode,"resize-ghost-element"),r.clonedNode.scrollTop=r.startingRect.scrollTop,r.clonedNode.scrollLeft=r.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Fd({edges:c,initialRectangle:u,newRectangle:u}),rectangle:Cx(u,{},0,0)})})}),s.pipe(_s(this.destroy$)).subscribe(()=>{r&&(this.renderer.removeClass(this.elm.nativeElement,Sx),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Fd({edges:r.edges,initialRectangle:r.startingRect,newRectangle:r.currentRect}),rectangle:r.currentRect})}),o(),r=null)})}ngOnDestroy(){hS(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,i,s){s?this.renderer.addClass(t.nativeElement,i):this.renderer.removeClass(t.nativeElement,i)}}return n.\u0275fac=function(t){return new(t||n)(C(pc),C(Hi),C(ct),C(Re))},n.\u0275dir=se({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class Wa{constructor(e,t){this.pointerDown=new Ue(i=>{let s,r;return t.runOutsideAngular(()=>{s=e.listen("document","mousedown",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),ho&&(r=e.listen("document","touchstart",o=>{i.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{s(),ho&&r()}}).pipe(Uo()),this.pointerMove=new Ue(i=>{let s,r;return t.runOutsideAngular(()=>{s=e.listen("document","mousemove",o=>{i.next({clientX:o.clientX,clientY:o.clientY,event:o})}),ho&&(r=e.listen("document","touchmove",o=>{i.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{s(),ho&&r()}}).pipe(Uo()),this.pointerUp=new Ue(i=>{let s,r,o;return t.runOutsideAngular(()=>{s=e.listen("document","mouseup",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),ho&&(r=e.listen("document","touchend",a=>{i.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}),o=e.listen("document","touchcancel",a=>{i.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}))}),()=>{s(),ho&&(r(),o())}}).pipe(Uo())}static getInstance(e,t){return Wa.instance||(Wa.instance=new Wa(e,t)),Wa.instance}}let _9=(()=>{class n{constructor(t,i,s,r){this.renderer=t,this.element=i,this.zone=s,this.resizableDirective=r,this.resizeEdges={},this.eventListeners={},this.destroy$=new j}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),ho&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),ns(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,i,s){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",r=>{this.onMousemove(r,r.targetTouches[0].clientX,r.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",r=>{this.onMousemove(r,r.clientX,r.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:s,edges:this.resizeEdges})}onMouseup(t,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,i,s){this.resizable.mousemove.next({clientX:i,clientY:s,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return xd(this.element.nativeElement,t).pipe(_s(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(C(Hi),C(ct),C(Re),C(J_,8))},n.\u0275dir=se({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),y9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();class xx{}const Gs="*";function ey(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hc(n,e=null){return{type:4,styles:e,timings:n}}function Mx(n,e=null){return{type:3,steps:n,options:e}}function Ax(n,e=null){return{type:2,steps:n,options:e}}function ys(n){return{type:6,styles:n,offset:null}}function Ya(n,e,t){return{type:0,name:n,styles:e,options:t}}function zc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function kx(n=null){return{type:9,options:n}}function Ix(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Ox(n){Promise.resolve(null).then(n)}class Za{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ox(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Rx{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,s=0;const r=this.players.length;0==r?Ox(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(s)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Fx(){return"undefined"!=typeof window&&void 0!==window.document}function ny(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wr(n){switch(n.length){case 0:return new Za;case 1:return n[0];default:return new Rx(n)}}function Px(n,e,t,i,s={},r={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.offset,d=h==l,f=d&&c||{};Object.keys(u).forEach(p=>{let g=p,m=u[p];if("offset"!==p)switch(g=e.normalizePropertyName(g,o),m){case"!":m=s[p];break;case Gs:m=r[p];break;default:m=e.normalizeStyleValue(p,g,m,o)}f[g]=m}),d||a.push(f),c=f,l=h}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function iy(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&sy(t,"start",n)));break;case"done":n.onDone(()=>i(t&&sy(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&sy(t,"destroy",n)))}}function sy(n,e,t){const i=t.totalTime,r=ry(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(r._data=o),r}function ry(n,e,t,i,s="",r=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function si(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Nx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let oy=(n,e)=>!1,Lx=(n,e,t)=>[];(ny()||"undefined"!=typeof Element)&&(oy=Fx()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Lx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let fo=null,Vx=!1;function ay(n){fo||(fo=function w9(){return"undefined"!=typeof document?document.body:null}()||{},Vx=!!fo.style&&"WebkitAppearance"in fo.style);let e=!0;return fo.style&&!function b9(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in fo.style,!e&&Vx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fo.style)),e}const ly=oy,cy=Lx;function Bx(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let jx=(()=>{class n{validateStyleProperty(t){return ay(t)}matchesElement(t,i){return!1}containsElement(t,i){return ly(t,i)}query(t,i,s){return cy(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,r,o,a=[],l){return new Za(s,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),uy=(()=>{class n{}return n.NOOP=new jx,n})();const hy="ng-enter",Pd="ng-leave",Nd="ng-trigger",Ld=".ng-trigger",zx="ng-animating",dy=".ng-animating";function po(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fy(parseFloat(e[1]),e[2])}function fy(n,e){return"s"===e?1e3*n:n}function Vd(n,e,t){return n.hasOwnProperty("duration")?n:function E9(n,e,t){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=fy(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=fy(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else s=n;if(!t){let a=!1,l=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,e,t)}function Xa(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Cr(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Xa(n,t);return t}function qx(n,e,t){return t?e+":"+t+";":""}function $x(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=qx(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=qx(0,x9(t),n.style[t]));n.setAttribute("style",e)}function vs(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const s=gy(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[s]),n.style[s]=e[i]}),ny()&&$x(n))}function go(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=gy(t);n.style[i]=""}),ny()&&$x(n))}function Uc(n){return Array.isArray(n)?1==n.length?n[0]:Ax(n):n}const py=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gx(n){let e=[];if("string"==typeof n){let t;for(;t=py.exec(n);)e.push(t[1]);py.lastIndex=0}return e}function Bd(n,e,t){const i=n.toString(),s=i.replace(py,(r,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function jd(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const T9=/-+([a-z0-9])/g;function gy(n){return n.replace(T9,(...e)=>e[1].toUpperCase())}function x9(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wx(n,e){return 0===n||0===e}function Yx(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let r=e[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=t[a]}),o.length)for(var s=1;s<e.length;s++){let a=e[s];o.forEach(function(l){a[l]=my(n,l)})}}return e}function ri(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function my(n,e){return window.getComputedStyle(n)[e]}function M9(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function A9(n,e,t){if(":"==n[0]){const l=function k9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const s=i[1],r=i[2],o=i[3];e.push(Zx(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&e.push(Zx(o,s))}(i,t,e)):t.push(n),t}const zd=new Set(["true","1"]),Ud=new Set(["false","0"]);function Zx(n,e){const t=zd.has(n)||Ud.has(n),i=zd.has(e)||Ud.has(e);return(s,r)=>{let o="*"==n||n==s,a="*"==e||e==r;return!o&&t&&"boolean"==typeof s&&(o=s?zd.has(n):Ud.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?zd.has(e):Ud.has(e)),o&&a}}const I9=new RegExp("s*:selfs*,?","g");function _y(n,e,t){return new O9(n).build(e,t)}class O9{constructor(e){this._driver=e}build(e,t){const i=new P9(t);return this._resetContextStyleTimingState(i),ri(this,Uc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,s+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(qd(a)){const l=a;Object.keys(l).forEach(c=>{Gx(l[c]).forEach(u=>{o.hasOwnProperty(u)||r.add(u)})})}}),r.size){const a=jd(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ri(this,Uc(e.animation),t);return{type:1,matchers:M9(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:mo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ri(this,i,t)),options:mo(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const r=e.steps.map(o=>{t.currentTime=i;const a=ri(this,o,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:r,options:mo(e.options)}}visitAnimate(e,t){const i=function L9(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return yy(Vd(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=yy(0,0,"");return r.dynamic=!0,r.strValue=i,r}return t=t||Vd(i,e),yy(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let s,r=e.styles?e.styles:ys({});if(5==r.type)s=this.visitKeyframes(r,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=ys(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,s=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Gs?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let s=!1,r=null;return i.forEach(o=>{if(qd(o)){const a=o,l=a.easing;if(l&&(r=l,delete a.easing),!s)for(let c in a)if(a[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(r!=s&&r>=c.startTime&&s<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),u=!1),r=c.startTime),u&&(l[a]={startTime:r,endTime:s}),t.options&&function S9(n,e,t){const i=e.params||{},s=Gx(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||t.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(_=>{const y=this._makeStyleAst(_,t);let b=null!=y.offset?y.offset:function N9(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(qd(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(qd(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),E=0;return null!=b&&(r++,E=y.offset=b),l=l||E<0||E>1,a=a||E<c,c=E,o.push(E),y});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const h=e.steps.length;let d=0;r>0&&r<h?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(d=1/(h-1));const f=h-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return u.forEach((_,y)=>{const b=d>0?y==f?1:d*y:o[y],E=b*m;t.currentTime=p+g.delay+E,g.duration=E,this._validateStyleAst(_,t),_.offset=b,i.styles.push(_)}),i}visitReference(e,t){return{type:8,animation:ri(this,Uc(e.animation),t),options:mo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:mo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:mo(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function R9(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(I9,"")),n=n.replace(/@\*/g,Ld).replace(/@\w+/g,t=>Ld+"-"+t.substr(1)).replace(/:animating/g,dy),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,si(t.collectedStyles,t.currentQuerySelector,{});const a=ri(this,Uc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:mo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Vd(e.timings,t.errors,!0);return{type:12,animation:ri(this,Uc(e.animation),t),timings:i,options:null}}}class P9{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qd(n){return!Array.isArray(n)&&"object"==typeof n}function mo(n){return n?(n=Xa(n)).params&&(n.params=function F9(n){return n?Xa(n):null}(n.params)):n={},n}function yy(n,e,t){return{duration:n,delay:e,easing:t}}function vy(n,e,t,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class $d{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const j9=new RegExp(":enter","g"),z9=new RegExp(":leave","g");function by(n,e,t,i,s,r={},o={},a,l,c=[]){return(new U9).buildKeyframes(n,e,t,i,s,r,o,a,l,c)}class U9{buildKeyframes(e,t,i,s,r,o,a,l,c,u=[]){c=c||new $d;const h=new wy(e,t,c,s,r,u,[]);h.options=l,h.currentTimeline.setStyles([o],null,h.errors,l),ri(this,i,h);const d=h.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=d.length-1;p>=0;p--){const g=d[p];if(g.element===t){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,h.errors,l)}return d.length?d.map(f=>f.buildKeyframes()):[vy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const o=null!=i.duration?po(i.duration):null,a=null!=i.delay?po(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),ri(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&(s=t.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Gd);const o=po(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ri(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?po(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),ri(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Vd(t.params?Bd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,r=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?po(s.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gd);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);r&&h.delayNextStep(r),c===t.element&&(l=h.currentTimeline),ri(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;ri(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-h+(s.startTime-i.currentTimeline.startTime)}}const Gd={};class wy{constructor(e,t,i,s,r,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Wd(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=po(i.duration)),null!=i.delay&&(s.delay=po(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Bd(r[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,r=new wy(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Gd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},r=new q9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(j9,"."+this._enterClassName)).replace(z9,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Wd{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Wd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Gs,this._currentKeyframe[t]=Gs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&(this._previousKeyframe.easing=t);const r=s&&s.params||{},o=function $9(n,e){const t={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(e),i.forEach(r=>{t[r]=Gs})):Cr(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Bd(o[a],r,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Gs),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],s=e._styleSummary[t];(!i||s.time>i.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const c=Cr(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?e.add(u):h==Gs&&t.add(u)}),i||(c.offset=l/this.duration),s.push(c)});const r=e.size?jd(e.values()):[],o=t.size?jd(t.values()):[];if(i){const a=s[0],l=Xa(a);a.offset=0,l.offset=1,s=[a,l]}return vy(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class q9 extends Wd{constructor(e,t,i,s,r,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=i+t,a=t/o,l=Cr(e[0],!1);l.offset=0,r.push(l);const c=Cr(e[0],!1);c.offset=Kx(a),r.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=Cr(e[h],!1);d.offset=Kx((t+d.offset*i)/o),r.push(d)}i=o,t=0,s="",e=r}return vy(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function Kx(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Cy{}class G9 extends Cy{normalizePropertyName(e,t){return gy(e)}normalizeStyleValue(e,t,i,s){let r="";const o=i.toString().trim();if(W9[t]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+r}}const W9=(()=>function Y9(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Jx(n,e,t,i,s,r,o,a,l,c,u,h,d){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Dy={};class eM{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function Z9(n,e,t,i,s){return n.some(r=>r(e,t,i,s))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){const s=this._stateStyles["*"],r=this._stateStyles[e],o=s?s.buildStyles(t,i):{};return r?r.buildStyles(t,i):o}build(e,t,i,s,r,o,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||Dy,p=this.buildStyles(i,a&&a.params||Dy,h),g=l&&l.params||Dy,m=this.buildStyles(s,g,h),_=new Set,y=new Map,b=new Map,E="void"===s,w={params:Object.assign(Object.assign({},d),g)},S=u?[]:by(e,t,this.ast.animation,r,o,p,m,w,c,h);let v=0;if(S.forEach(R=>{v=Math.max(R.duration+R.delay,v)}),h.length)return Jx(t,this._triggerName,i,s,E,p,m,[],[],y,b,v,h);S.forEach(R=>{const H=R.element,z=si(y,H,{});R.preStyleProps.forEach($=>z[$]=!0);const M=si(b,H,{});R.postStyleProps.forEach($=>M[$]=!0),H!==t&&_.add(H)});const D=jd(_.values());return Jx(t,this._triggerName,i,s,E,p,m,S,D,y,b,v)}}class X9{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},s=Xa(this.defaultParams);return Object.keys(e).forEach(r=>{const o=e[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Bd(l,s,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class K9{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new X9(s.style,s.options&&s.options.params||{},i)}),tM(this.states,"true","1"),tM(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new eM(e,s,this.states))}),this.fallbackTransition=function J9(n,e,t){return new eM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(o=>o.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function tM(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const eH=new $d;class tH{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=_y(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,i){const s=e.element,r=Px(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],r=this._animations[e];let o;const a=new Map;if(r?(o=by(this._driver,t,r,hy,Pd,{},{},i,eH,s),o.forEach(u=>{const h=si(a,u.element,{});u.postStyleProps.forEach(d=>h[d]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((u,h)=>{Object.keys(u).forEach(d=>{u[d]=this._driver.computeStyle(h,d,Gs)})});const c=wr(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,s){const r=ry(t,"","","");return iy(this._getPlayer(e),i,r,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const nM="ng-animate-queued",Ey="ng-animate-disabled",oH=[],iM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bi="__ng_removed";class Sy{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function hH(n){return null!=n?n:null}(i?e.value:e),i){const r=Xa(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(s=>{null==i[s]&&(i[s]=t[s])})}}}const qc="void",Ty=new Sy(qc);class lH{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wi(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function dH(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const r=si(this._elementListeners,e,[]),o={name:t,phase:i,callback:s};r.push(o);const a=si(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(wi(e,Nd),wi(e,Nd+"-"+t),a[t]=Ty),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,s=!0){const r=this._getTrigger(t),o=new xy(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(wi(e,Nd),wi(e,Nd+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new Sy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=Ty),c.value!==qc&&l.value===c.value){if(!function gH(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){const r=t[s];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(l.params,c.params)){const g=[],m=r.matchStyles(l.value,l.params,g),_=r.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{go(e,m),vs(e,_)})}return}const d=si(this._engine.playersByElement,e,[]);d.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=r.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!s)return;f=r.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(wi(e,nM),o.onStart(()=>{Qa(e,nM)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),d.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Ld,!0);i.forEach(s=>{if(s[bi])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){const r=this._engine.statesByElement.get(e),o=new Map;if(r){const a=[];if(Object.keys(r).forEach(l=>{if(o.set(l,r[l].value),this._triggers[l]){const c=this.trigger(e,l,qc,s);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&wr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const s=new Set;t.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||Ty,u=new Sy(qc),h=new xy(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e[bi];(!r||r===iM)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=ry(r,i.triggerName,i.fromState.value,i.toState.value);l._data=e,iy(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class cH{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new lH(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,s){if(Yd(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!Yd(t))return;const r=t[bi];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wi(e,Ey)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qa(e,Ey))}removeNode(e,t,i,s){if(Yd(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,i,s,r){this.collectedLeaveElements.push(t),t[bi]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,s,r){return Yd(t)?this._fetchNamespace(e).listen(t,i,s,r):()=>{}}_buildInstruction(e,t,i,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,Ld,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dy,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wr(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[bi];if(i&&i.setForRemoval){if(e[bi]=iM,i.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Ey))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?wr(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new $d,s=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(T=>{u.add(T);const k=this.driver.query(T,".ng-animate-queued",!0);for(let P=0;P<k.length;P++)u.add(k[P])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=oM(d,this.collectedEnterElements),p=new Map;let g=0;f.forEach((T,k)=>{const P=hy+g++;p.set(k,P),T.forEach(B=>wi(B,P))});const m=[],_=new Set,y=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){const k=this.collectedLeaveElements[T],P=k[bi];P&&P.setForRemoval&&(m.push(k),_.add(k),P.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(B=>_.add(B)):y.add(k))}const b=new Map,E=oM(d,Array.from(_));E.forEach((T,k)=>{const P=Pd+g++;b.set(k,P),T.forEach(B=>wi(B,P))}),e.push(()=>{f.forEach((T,k)=>{const P=p.get(k);T.forEach(B=>Qa(B,P))}),E.forEach((T,k)=>{const P=b.get(k);T.forEach(B=>Qa(B,P))}),m.forEach(T=>{this.processLeaveNode(T)})});const w=[],S=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(P=>{const B=P.player,re=P.element;if(w.push(B),this.collectedEnterElements.length){const ae=re[bi];if(ae&&ae.setForMove){if(ae.previousTriggersValues&&ae.previousTriggersValues.has(P.triggerName)){const Je=ae.previousTriggersValues.get(P.triggerName),yt=this.statesByElement.get(P.element);yt&&yt[P.triggerName]&&(yt[P.triggerName].value=Je)}return void B.destroy()}}const we=!h||!this.driver.containsElement(h,re),Pe=b.get(re),Ve=p.get(re),Ie=this._buildInstruction(P,i,Ve,Pe,we);if(Ie.errors&&Ie.errors.length)return void S.push(Ie);if(we)return B.onStart(()=>go(re,Ie.fromStyles)),B.onDestroy(()=>vs(re,Ie.toStyles)),void s.push(B);if(P.isFallbackTransition)return B.onStart(()=>go(re,Ie.fromStyles)),B.onDestroy(()=>vs(re,Ie.toStyles)),void s.push(B);const _n=[];Ie.timelines.forEach(ae=>{ae.stretchStartingKeyframe=!0,this.disabledNodes.has(ae.element)||_n.push(ae)}),Ie.timelines=_n,i.append(re,Ie.timelines),o.push({instruction:Ie,player:B,element:re}),Ie.queriedElements.forEach(ae=>si(a,ae,[]).push(B)),Ie.preStyleProps.forEach((ae,Je)=>{const yt=Object.keys(ae);if(yt.length){let ne=l.get(Je);ne||l.set(Je,ne=new Set),yt.forEach(Ms=>ne.add(Ms))}}),Ie.postStyleProps.forEach((ae,Je)=>{const yt=Object.keys(ae);let ne=c.get(Je);ne||c.set(Je,ne=new Set),yt.forEach(Ms=>ne.add(Ms))})});if(S.length){const T=[];S.forEach(k=>{T.push(`@${k.triggerName} has failed due to:\n`),k.errors.forEach(P=>T.push(`- ${P}\n`))}),w.forEach(k=>k.destroy()),this.reportError(T)}const v=new Map,D=new Map;o.forEach(T=>{const k=T.element;i.has(k)&&(D.set(k,k),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,v))}),s.forEach(T=>{const k=T.element;this._getPreviousPlayers(k,!1,T.namespaceId,T.triggerName,null).forEach(B=>{si(v,k,[]).push(B),B.destroy()})});const R=m.filter(T=>lM(T,l,c)),H=new Map;rM(H,this.driver,y,c,Gs).forEach(T=>{lM(T,l,c)&&R.push(T)});const M=new Map;f.forEach((T,k)=>{rM(M,this.driver,new Set(T),l,"!")}),R.forEach(T=>{const k=H.get(T),P=M.get(T);H.set(T,Object.assign(Object.assign({},k),P))});const $=[],F=[],U={};o.forEach(T=>{const{element:k,player:P,instruction:B}=T;if(i.has(k)){if(u.has(k))return P.onDestroy(()=>vs(k,B.toStyles)),P.disabled=!0,P.overrideTotalTime(B.totalTime),void s.push(P);let re=U;if(D.size>1){let Pe=k;const Ve=[];for(;Pe=Pe.parentNode;){const Ie=D.get(Pe);if(Ie){re=Ie;break}Ve.push(Pe)}Ve.forEach(Ie=>D.set(Ie,re))}const we=this._buildAnimation(P.namespaceId,B,v,r,M,H);if(P.setRealPlayer(we),re===U)$.push(P);else{const Pe=this.playersByElement.get(re);Pe&&Pe.length&&(P.parentPlayer=wr(Pe)),s.push(P)}}else go(k,B.fromStyles),P.onDestroy(()=>vs(k,B.toStyles)),F.push(P),u.has(k)&&s.push(P)}),F.forEach(T=>{const k=r.get(T.element);if(k&&k.length){const P=wr(k);T.setRealPlayer(P)}}),s.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<m.length;T++){const k=m[T],P=k[bi];if(Qa(k,Pd),P&&P.hasAnimation)continue;let B=[];if(a.size){let we=a.get(k);we&&we.length&&B.push(...we);let Pe=this.driver.query(k,dy,!0);for(let Ve=0;Ve<Pe.length;Ve++){let Ie=a.get(Pe[Ve]);Ie&&Ie.length&&B.push(...Ie)}}const re=B.filter(we=>!we.destroyed);re.length?fH(this,k,re):this.processLeaveNode(k)}return m.length=0,$.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();const k=this.players.indexOf(T);this.players.splice(k,1)}),T.play()}),$}elementContainsData(e,t){let i=!1;const s=t[bi];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,r){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!r||r==qc;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||o.push(c)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const r=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==r,h=si(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}go(r,t.fromStyles)}_buildAnimation(e,t,i,s,r,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(p=>{const g=p.element;u.add(g);const m=g[bi];if(m&&m.removedBeforeQueried)return new Za(p.duration,p.delay);const _=g!==l,y=function pH(n){const e=[];return aM(n,e),e}((i.get(g)||oH).map(v=>v.getRealPlayer())).filter(v=>!!v.element&&v.element===g),b=r.get(g),E=o.get(g),w=Px(0,this._normalizer,0,p.keyframes,b,E),S=this._buildPlayer(p,w,y);if(p.subTimeline&&s&&h.add(g),_){const v=new xy(e,a,g);v.setRealPlayer(S),c.push(v)}return S});c.forEach(p=>{si(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function uH(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>wi(p,zx));const f=wr(d);return f.onDestroy(()=>{u.forEach(p=>Qa(p,zx)),vs(l,t.toStyles)}),h.forEach(p=>{si(s,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Za(e.duration,e.delay)}}class xy{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Za,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>iy(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){si(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yd(n){return n&&1===n.nodeType}function sM(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function rM(n,e,t,i,s){const r=[];t.forEach(l=>r.push(sM(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(h=>{const d=u[h]=e.computeStyle(c,h,s);(!d||0==d.length)&&(c[bi]=aH,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>sM(l,r[a++])),o}function oM(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:s.has(c)?1:o(c),r.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function wi(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Qa(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function fH(n,e,t){wr(t).onDone(()=>n.processLeaveNode(e))}function aM(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Rx?aM(i.players,e):e.push(i)}}function lM(n,e,t){const i=t.get(n);if(!i)return!1;let s=e.get(n);return s?i.forEach(r=>s.add(r)):e.set(n,i),t.delete(n),!0}class Zd{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new cH(e,t,i),this._timelineEngine=new tH(e,t,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,t,i,s,r){const o=e+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],c=_y(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function Q9(n,e,t){return new K9(n,e,t)}(s,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i,s){this._transitionEngine.removeNode(e,t,s||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[r,o]=Nx(i);this._timelineEngine.command(r,t,o,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,r){if("@"==i.charAt(0)){const[o,a]=Nx(i);return this._timelineEngine.listen(o,t,a,r)}return this._transitionEngine.listen(e,t,i,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function cM(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=My(e[0]),e.length>1&&(i=My(e[e.length-1]))):e&&(t=My(e)),t||i?new mH(n,t,i):null}let mH=(()=>{class n{constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vs(this._element,this._initialStyles),this._endStyles&&(vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(go(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),vs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function My(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const s=t[i];_H(s)&&(e=e||{},e[s]=n[s])}return e}function _H(n){return"display"===n||"position"===n}const uM="animation",hM="animationend";class bH{constructor(e,t,i,s,r,o,a){this._element=e,this._name=t,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function wH(n,e){const t=ky(n,"").trim();let i=0;t.length&&(i=function DH(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),Xd(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){dM(this._element,this._name,"paused")}resume(){dM(this._element,this._name,"running")}setPosition(e){const t=fM(this._element,this._name);this._position=e*this._duration,Xd(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function CH(n,e){const i=ky(n,"").split(","),s=Ay(i,e);s>=0&&(i.splice(s,1),Xd(n,"",i.join(",")))}(this._element,this._name))}}function dM(n,e,t){Xd(n,"PlayState",t,fM(n,e))}function fM(n,e){const t=ky(n,"");return t.indexOf(",")>0?Ay(t.split(","),e):Ay([t],e)}function Ay(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function pM(n,e,t){t?n.removeEventListener(hM,e):n.addEventListener(hM,e)}function Xd(n,e,t,i){const s=uM+e;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=t,t=o.join(",")}}n.style[s]=t}function ky(n,e){return n.style[uM+e]||""}class gM{constructor(e,t,i,s,r,o,a,l){this.element=e,this.keyframes=t,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new bH(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:my(this.element,i))})}this.currentSnapshot=e}}class TH extends Za{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Bx(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class _M{constructor(){this._count=0}validateStyleProperty(e){return ay(e)}matchesElement(e,t){return!1}containsElement(e,t){return ly(e,t)}query(e,t,i){return cy(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(a=>Bx(a));let s=`@keyframes ${t} {\n`,r="";i.forEach(a=>{r=" ";const l=parseFloat(a.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(s+=`${r}animation-timing-function: ${u};\n`));default:return void(s+=`${r}${c}: ${u};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(e,t,i,s,r,o=[],a){const l=o.filter(m=>m instanceof gM),c={};Wx(i,s)&&l.forEach(m=>{let _=m.currentSnapshot;Object.keys(_).forEach(y=>c[y]=_[y])});const u=function AH(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(e[s]=i[s])})}),e}(t=Yx(e,t,c));if(0==i)return new TH(e,u);const h="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(e,h,t);(function MH(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(d);const p=cM(e,t),g=new gM(e,t,h,i,s,r,u,p);return g.onDestroy(()=>function kH(n){n.parentNode.removeChild(n)}(d)),g}}class vM{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:my(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class IH{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bM().toString()),this._cssKeyframesDriver=new _M}validateStyleProperty(e){return ay(e)}matchesElement(e,t){return!1}containsElement(e,t){return ly(e,t)}query(e,t,i){return cy(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,s,r,o);const u={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(u.easing=r);const h={},d=o.filter(p=>p instanceof vM);Wx(i,s)&&d.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(m=>h[m]=g[m])});const f=cM(e,t=Yx(e,t=t.map(p=>Cr(p,!1)),h));return new vM(e,t,u,f)}}function bM(){return Fx()&&Element.prototype.animate||{}}let RH=(()=>{class n extends xx{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ii.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Ax(t):t;return wM(this._renderer,null,i,"register",[s]),new FH(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(x(lc),x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class FH extends class v9{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new PH(this._id,e,t||{},this._renderer)}}class PH{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function wM(n,e,t,i,s){return n.setProperty(e,`@@${t}:${i}`,s)}const CM="@.disabled";let NH=(()=>{class n{constructor(t,i,s){this.delegate=t,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{const a=null==o?void 0:o.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(t,i){const r=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(r);return u||(u=new DM("",r,this.engine),this._rendererCache.set(r,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new LH(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,s){t>=0&&t<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(x(lc),x(Zd),x(Re))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();class DM{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class LH extends DM{constructor(e,t,i,s){super(t,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CM?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function VH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function BH(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let jH=(()=>{class n extends Zd{constructor(t,i,s){super(t.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(x(Se),x(uy),x(Cy))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const _o=new W("AnimationModuleType"),EM=[{provide:xx,useClass:RH},{provide:Cy,useFactory:function zH(){return new G9}},{provide:Zd,useClass:jH},{provide:lc,useFactory:function UH(n,e,t){return new NH(n,e,t)},deps:[rd,Zd,Re]}],SM=[{provide:uy,useFactory:function HH(){return function OH(){return"function"==typeof bM()}()?new IH:new _M}},{provide:_o,useValue:"BrowserAnimations"},...EM],qH=[{provide:uy,useClass:jx},{provide:_o,useValue:"NoopAnimations"},...EM];let $H=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qH:SM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:SM,imports:[DS]}),n})();const WH=new W("mat-sanity-checks",{providedIn:"root",factory:function GH(){return!0}});let nn=(()=>{class n{constructor(t,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!V_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(x(w6),x(WH,8),x(Se))},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[Nc],Nc]}),n})();function xM(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Bn(e)}}}function Kd(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function MM(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Bn(e)}}}function YH(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?uo(t):this.defaultTabIndex}}}class XH{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const AM={enterDuration:225,exitDuration:150},Iy=lo({passive:!0}),kM=["mousedown","touchstart"],IM=["mouseup","mouseleave","touchend","touchcancel"];class KH{constructor(e,t,i,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Zt(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},AM),i.animation);i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const o=i.radius||function ez(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}(e,t,s),a=e-s.left,l=t-s.top,c=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function JH(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const h=new XH(this,u,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const d=h===this._mostRecentTransientRipple;h.state=1,!i.persistent&&(!d||!this._isPointerDown)&&h.fadeOut()},c),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,s=Object.assign(Object.assign({},AM),e.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Zt(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(kM))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(IM),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=B_(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!j_(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Iy)})})}_removeTriggerEvents(){this._triggerElement&&(kM.forEach(e=>{this._triggerElement.removeEventListener(e,this,Iy)}),this._pointerUpEventsRegistered&&IM.forEach(e=>{this._triggerElement.removeEventListener(e,this,Iy)}))}}const tz=new W("mat-ripple-global-options");let Oy=(()=>{class n{constructor(t,i,s,r,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new KH(this,i,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(Re),C($i),C(tz,8),C(_o,8))},n.\u0275dir=se({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Sn("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),OM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[nn],nn]}),n})();function RM(...n){const e=a1(n),{args:t,keys:i}=xS(n),s=new Ue(r=>{const{length:o}=t;if(!o)return void r.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;$n(t[u]).subscribe(new ee(r,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||r.next(i?MS(i,a):a),r.complete())}))}});return e?s.pipe(c_(e)):s}class iz{}class Dr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),r=s.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const s=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Dr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Dr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Dr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const r=e.value;if(r){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class sz{encodeKey(e){return FM(e)}encodeValue(e){return FM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oz=/%(\d[a-f0-9])/gi,az={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function FM(n){return encodeURIComponent(n).replace(oz,(e,t)=>{var i;return null!==(i=az[t])&&void 0!==i?i:e})}function PM(n){return`${n}`}class Er{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new sz,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rz(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const s=e[i];Array.isArray(s)?s.forEach(r=>{t.push({param:i,value:r,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Er({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(PM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const s=i.indexOf(PM(e.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lz{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function NM(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function LM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function VM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Gc{constructor(e,t,i,s){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Dr),this.context||(this.context=new lz),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Er,this.urlWithParams=t}serializeBody(){return null===this.body?null:NM(this.body)||LM(this.body)||VM(this.body)||function uz(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VM(this.body)?null:LM(this.body)?this.body.type||null:NM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,s=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new Gc(i,s,o,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a})}}var an=(()=>((an=an||{})[an.Sent=0]="Sent",an[an.UploadProgress=1]="UploadProgress",an[an.ResponseHeader=2]="ResponseHeader",an[an.DownloadProgress=3]="DownloadProgress",an[an.Response=4]="Response",an[an.User=5]="User",an))();class Ry extends class hz{constructor(e,t=200,i="OK"){this.headers=e.headers||new Dr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=an.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ry({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Fy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jM=(()=>{class n{constructor(t){this.handler=t}request(t,i,s={}){let r;if(t instanceof Gc)r=t;else{let l,c;l=s.headers instanceof Dr?s.headers:new Dr(s.headers),s.params&&(c=s.params instanceof Er?s.params:new Er({fromObject:s.params})),r=new Gc(t,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=ce(r).pipe(Va(l=>this.handler.handle(l)));if(t instanceof Gc||"events"===s.observe)return o;const a=o.pipe(en(l=>l instanceof Ry));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(V(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(V(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(V(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(V(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Er).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,Fy(s,i))}post(t,i,s={}){return this.request("POST",t,Fy(s,i))}put(t,i,s={}){return this.request("PUT",t,Fy(s,i))}}return n.\u0275fac=function(t){return new(t||n)(x(iz))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const fz=["*"];let Jd;function Wc(n){var e;return(null===(e=function pz(){if(void 0===Jd&&(Jd=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Jd=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Jd}())||void 0===e?void 0:e.createHTML(n))||n}function HM(n){return Error(`Unable to find icon with the name "${n}"`)}function zM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function UM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class yo{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let ef=(()=>{class n{constructor(t,i,s,r){this._httpClient=t,this._sanitizer=i,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(t,i,s){return this.addSvgIconInNamespace("",t,i,s)}addSvgIconLiteral(t,i,s){return this.addSvgIconLiteralInNamespace("",t,i,s)}addSvgIconInNamespace(t,i,s,r){return this._addSvgIconConfig(t,i,new yo(s,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,s,r){const o=this._sanitizer.sanitize(Ze.HTML,s);if(!o)throw UM(s);const a=Wc(o);return this._addSvgIconConfig(t,i,new yo("",a,r))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,s){return this._addSvgIconSetConfig(t,new yo(i,null,s))}addSvgIconSetLiteralInNamespace(t,i,s){const r=this._sanitizer.sanitize(Ze.HTML,i);if(!r)throw UM(i);const o=Wc(r);return this._addSvgIconSetConfig(t,new yo("",o,s))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Ze.RESOURCE_URL,t);if(!i)throw zM(t);const s=this._cachedIconsByUrl.get(i);return s?ce(tf(s)):this._loadSvgIconFromConfig(new yo(t,null)).pipe(tn(r=>this._cachedIconsByUrl.set(i,r)),V(r=>tf(r)))}getNamedSvgIcon(t,i=""){const s=qM(i,t);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(i,t),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):function nz(n,e){const t=q(n)?n:()=>n,i=s=>s.error(t());return new Ue(e?s=>e.schedule(i,0,s):i)}(HM(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ce(tf(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(V(i=>tf(i)))}_getSvgFromIconSetConfigs(t,i){const s=this._extractIconWithNameFromAnySet(t,i);return s?ce(s):RM(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Us(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ze.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ce(null)})))).pipe(V(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw HM(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let s=i.length-1;s>=0;s--){const r=i[s];if(r.svgText&&r.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(o,t,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(tn(i=>t.svgText=i),V(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ce(null):this._fetchIcon(t).pipe(tn(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,s){const r=t.querySelector(`[id="${i}"]`);if(!r)return null;const o=r.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,s);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),s);const a=this._svgElementFromString(Wc("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,s)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const i=this._svgElementFromString(Wc("<svg></svg>")),s=t.attributes;for(let r=0;r<s.length;r++){const{name:o,value:a}=s[r];"id"!==o&&i.setAttribute(o,a)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[r].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:s,options:r}=t,o=null!==(i=null==r?void 0:r.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function gz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const a=this._sanitizer.sanitize(Ze.RESOURCE_URL,s);if(!a)throw zM(s);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(V(u=>Wc(u)),FS(()=>this._inProgressUrlFetches.delete(a)),Uo());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,i,s){return this._svgIconConfigs.set(qM(t,i),s),this}_addSvgIconSetConfig(t,i){const s=this._iconSetConfigs.get(t);return s?s.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](i,t);if(r)return _z(r)?new yo(r.url,null,r.options):new yo(r,null)}}}return n.\u0275fac=function(t){return new(t||n)(x(jM,8),x(l_),x(Se,8),x(Ns))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tf(n){return n.cloneNode(!0)}function qM(n,e){return n+":"+e}function _z(n){return!(!n.url||!n.options)}const yz=Kd(class{constructor(n){this._elementRef=n}}),vz=new W("mat-icon-location",{providedIn:"root",factory:function bz(){const n=Wp(Se),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),$M=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wz=$M.map(n=>`[${n}]`).join(", "),Cz=/^url\(['"]?#(.*?)['"]?\)$/;let GM=(()=>{class n extends yz{constructor(t,i,s,r,o){super(t),this._iconRegistry=i,this._location=r,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Me.EMPTY,s||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Bn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=t.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((s,r)=>{s.forEach(o=>{r.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(wz),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<i.length;r++)$M.forEach(o=>{const a=i[r],l=a.getAttribute(o),c=l?l.match(Cz):null;if(c){let u=s.get(a);u||(u=[],s.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,s]=this._splitIconName(t);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(Gn(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${r.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(ef),cr("aria-hidden"),C(vz),C(Ns))},n.\u0275cmp=rn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(at("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Sn("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[je],ngContentSelectors:fz,decls:1,vars:0,template:function(t,i){1&t&&(xa(),fr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Dz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[nn],nn]}),n})(),WM=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(Hi),C(ct))},n.\u0275dir=se({type:n}),n})(),vo=(()=>{class n extends WM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Cn(n)))(i||n)}}(),n.\u0275dir=se({type:n,features:[je]}),n})();const Ci=new W("NgValueAccessor"),Sz={provide:Ci,useExisting:st(()=>nf),multi:!0},xz=new W("CompositionEventMode");let nf=(()=>{class n extends WM{constructor(t,i,s){super(t,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tz(){const n=ps()?ps().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Hi),C(ct),C(xz,8))},n.\u0275dir=se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&We("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[lt([Sz]),je]}),n})();const fn=new W("NgValidators"),Tr=new W("NgAsyncValidators");function sA(n){return null!=n}function rA(n){const e=nc(n)?Kt(n):n;return Jg(e),e}function oA(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function aA(n,e){return e.map(t=>t(n))}function lA(n){return n.map(e=>function Az(n){return!n.validate}(e)?e:t=>e.validate(t))}function Py(n){return null!=n?function cA(n){if(!n)return null;const e=n.filter(sA);return 0==e.length?null:function(t){return oA(aA(t,e))}}(lA(n)):null}function Ny(n){return null!=n?function uA(n){if(!n)return null;const e=n.filter(sA);return 0==e.length?null:function(t){return RM(aA(t,e).map(rA)).pipe(V(oA))}}(lA(n)):null}function hA(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ly(n){return n?Array.isArray(n)?n:[n]:[]}function sf(n,e){return Array.isArray(n)?n.includes(e):n===e}function pA(n,e){const t=Ly(e);return Ly(n).forEach(s=>{sf(t,s)||t.push(s)}),t}function gA(n,e){return Ly(e).filter(t=>!sf(n,t))}class mA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Py(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ny(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xr extends mA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kn extends mA{get formDirective(){return null}get path(){return null}}let yA=(()=>{class n extends class _A{constructor(e){this._cd=e}is(e){var t,i,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(xr,2))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Sn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[je]}),n})();function Zc(n,e){(function jy(n,e){const t=function dA(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hA(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function fA(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hA(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();cf(e._rawValidators,s),cf(e._rawAsyncValidators,s)})(n,e),e.valueAccessor.writeValue(n.value),function Vz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bA(n,e)})}(n,e),function jz(n,e){const t=(i,s)=>{e.valueAccessor.writeValue(i),s&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Bz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bA(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Lz(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Xc="VALID",df="INVALID",Ka="PENDING",Qc="DISABLED";function qy(n){return(Gy(n)?n.validators:n)||null}function DA(n){return Array.isArray(n)?Py(n):n||null}function $y(n,e){return(Gy(e)?e.asyncValidators:n)||null}function EA(n){return Array.isArray(n)?Ny(n):n||null}function Gy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Wy=n=>n instanceof Zy;function TA(n){return(n=>n instanceof AA)(n)?n.value:n.getRawValue()}function xA(n,e){const t=Wy(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new qe(1e3,"");if(!i[e])throw new qe(1001,"")}function MA(n,e){Wy(n),n._forEachChild((i,s)=>{if(void 0===e[s])throw new qe(1002,"")})}class Yy{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=DA(this._rawValidators),this._composedAsyncValidatorFn=EA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xc}get invalid(){return this.status===df}get pending(){return this.status==Ka}get disabled(){return this.status===Qc}get enabled(){return this.status!==Qc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=DA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=EA(e)}addValidators(e){this.setValidators(pA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gA(e,this._rawAsyncValidators))}hasValidator(e){return sf(this._rawValidators,e)}hasAsyncValidator(e){return sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ka,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qc,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xc,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xc||this.status===Ka)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qc:Xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ka,this._hasOwnPendingAsyncValidator=!0;const t=rA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function qz(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(s=>{i=Wy(i)?i.controls.hasOwnProperty(s)?i.controls[s]:null:(n=>n instanceof Gz)(i)&&i.at(s)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?Qc:this.errors?df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ka)?Ka:this._anyControlsHaveStatus(df)?df:Xc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class AA extends Yy{constructor(e=null,t,i){super(qy(t),$y(i,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Zy extends Yy{constructor(e,t,i){super(qy(t),$y(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){MA(this,e),Object.keys(e).forEach(i=>{xA(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,s)=>{i.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=TA(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((s,r)=>{i=t(i,s,r)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Gz extends Yy{constructor(e,t,i){super(qy(t),$y(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){MA(this,e),e.forEach((i,s)=>{xA(this,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,s)=>{i.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>TA(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Zz={provide:xr,useExisting:st(()=>Qy)},OA=(()=>Promise.resolve(null))();let Qy=(()=>{class n extends xr{constructor(t,i,s,r){super(),this.control=new AA,this._registered=!1,this.update=new pe,this._parent=t,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function zy(n,e){if(!e)return null;let t,i,s;return Array.isArray(e),e.forEach(r=>{r.constructor===nf?t=r:function Uz(n){return Object.getPrototypeOf(n.constructor)===vo}(r)?i=r:s=r}),s||i||t||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function Hy(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function af(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){OA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,s=""===i||i&&"false"!==i;OA.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(C(kn,9),C(fn,10),C(Tr,10),C(Ci,10))},n.\u0275dir=se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lt([Zz]),je,Ln]}),n})(),FA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();const eU={provide:Ci,useExisting:st(()=>Ky),multi:!0};let Ky=(()=>{class n extends vo{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Cn(n)))(i||n)}}(),n.\u0275dir=se({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,i){1&t&&We("change",function(r){return i.onChange(r.target.value)})("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[lt([eU]),je]}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[FA]]}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[bU]}),n})();const CU=["star"],DU=["connection"],EU=function(){return{bottom:!0,right:!0}};function SU(n,e){1&n&&He(0,"div",13),2&n&&xe("resizeEdges",to(1,EU))}function TU(n,e){if(1&n){const t=tc();K(0,"input",14,15),We("ngModelChange",function(s){return Xo(t),dr().rotateValue=s})("change",function(){Xo(t);const s=Sa(1);return dr().setRotate(s.value)}),J()}if(2&n){const t=dr();xe("ngModel",t.rotateValue)("value",t.rotateValue)}}function xU(n,e){if(1&n&&(Pi(),He(0,"circle",16,17)),2&n){const t=e.$implicit;at("cx",t.x)("cy",t.y)}}function MU(n,e){if(1&n&&(Pi(),He(0,"line",18,19)),2&n){const t=e.$implicit;at("x1",t.x1)("y1",t.y1)("x2",t.x2)("y2",t.y2)}}const rv=function(){return{left:30,right:30}},AU=function(n){return{transform:n}};let QA=(()=>{class n{constructor(t){this.elem=t,this.rotateValue=0,this.rotating=!1,this.rotated=!1,this.resized=!1,this.size=300,this.minSize=300,this.maxSize=500,this.name="Constellation",this.gridSize=50,this.dragTitle="Drag Constellation",this.rotateTitle="Rotate Constellation",this.resizeTitle="Resize Constellation",this.deleteTitle="Delete Constellation",this.dataPoints=new pe,this.draggableConstellations=[],this.style={}}getScreenCoord(){let t=[],i=[];return this.circles.forEach((s,r)=>{t.push(new FT(s.nativeElement.getBoundingClientRect().left,0))}),this.connections.forEach((s,r)=>{i.push(new PT(s.nativeElement.getBoundingClientRect().left,0,s.nativeElement.getBoundingClientRect().right,0))}),{stars:t,connections:i}}setScreenCoords(){}computeDragRenderPos(t,i){return{x:50*Math.floor(t.x/50),y:50*Math.floor(t.y/50)}}setRotate(t){this.rotateValue=+t,this.rotated=!0}delete(){this.draggableConstellations.forEach((t,i)=>{this.aConst.constellationID==t.constellationID&&this.draggableConstellations.splice(i,1)})}resizing(t){this.draggableConstellations.forEach((i,s)=>{if(this.aConst.constellationID==i.constellationID){this.style={width:`${t.rectangle.width}px`,height:`${t.rectangle.width}px`},this.draggableConstellations[s].height=t.rectangle.width,this.draggableConstellations[s].width=t.rectangle.width,console.log("WIDTH: "+this.draggableConstellations[s].height);let r=this.elem.nativeElement.offsetWidth/this.size,o=this.size*r;o>this.minSize&&o<this.maxSize&&(this.draggableConstellations[s].stars.forEach((a,l)=>{a.x+=o/2-this.size/2,a.y+=o/2-this.size/2,a.x+=(a.x-o/2)*(r-1),a.y+=(a.y-o/2)*(r-1)}),this.draggableConstellations[s].connections.forEach((a,l)=>{a.x1+=o/2-this.size/2,a.y1+=o/2-this.size/2,a.x2+=o/2-this.size/2,a.y2+=o/2-this.size/2,a.x1+=(a.x1-o/2)*(r-1),a.y1+=(a.y1-o/2)*(r-1),a.x2+=(a.x2-o/2)*(r-1),a.y2+=(a.y2-o/2)*(r-1)}),this.size=o,this.resized=!0)}})}ngOnInit(){this.name=this.aConst.name}}return n.\u0275fac=function(t){return new(t||n)(C(ct))},n.\u0275cmp=rn({type:n,selectors:[["app-constellation"]],viewQuery:function(t,i){if(1&t&&(gr(CU,5),gr(DU,5)),2&t){let s;xn(s=Mn())&&(i.circles=s),xn(s=Mn())&&(i.connections=s)}},inputs:{aConst:"aConst",draggableConstellations:"draggableConstellations"},outputs:{dataPoints:"dataPoints"},decls:20,vars:24,consts:[["cdkDragBoundary",".example-boundary","cdkDrag","","mwlResizable","",1,"star-box",3,"cdkDragConstrainPosition","ngStyle","resizeSnapGrid","resizing"],["cdkDragBoundary",".example-boundary","mwlResizable","",1,"box","outside",3,"ngStyle","resizeSnapGrid","resizing"],[1,"constellation-name"],[1,"options"],[3,"title"],[1,"delete-icon",3,"click"],["cdkDragHandle","",1,"drag-icon"],[1,"rotate-icon",3,"click"],["class","resize-grip","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["type","range","orient","vertical","class","custom-range  my-2","min","0","max","360",3,"ngModel","value","ngModelChange","change",4,"ngIf"],["mwlResizable","",1,"box","inside",3,"ngStyle","resizeSnapGrid","resizing"],["r","5","fill","white",4,"ngFor","ngForOf"],["style","stroke:rgb(255, 255, 255);stroke-width:2",4,"ngFor","ngForOf"],["mwlResizeHandle","",1,"resize-grip",3,"resizeEdges"],["type","range","orient","vertical","min","0","max","360",1,"custom-range","my-2",3,"ngModel","value","ngModelChange","change"],["rotation",""],["r","5","fill","white"],["star",""],[2,"stroke","rgb(255, 255, 255)","stroke-width","2"],["connection",""]],template:function(t,i){1&t&&(K(0,"div",0),We("resizing",function(r){return i.resizing(r)}),K(1,"div",1),We("resizing",function(r){return i.resizing(r)}),K(2,"header",2),Et(3),J(),K(4,"div",3),K(5,"abbr",4),K(6,"mat-icon",5),We("click",function(){return i.delete()}),Et(7,"close"),J(),J(),K(8,"abbr",4),K(9,"mat-icon",6),Et(10,"open_with"),J(),J(),K(11,"abbr",4),K(12,"mat-icon",7),We("click",function(){return i.rotating=!i.rotating}),Et(13,"rotate_90_degrees_ccw"),J(),J(),K(14,"abbr",4),En(15,SU,1,2,"div",8),J(),J(),En(16,TU,2,2,"input",9),J(),Pi(),K(17,"svg",10),We("resizing",function(r){return i.resizing(r)}),En(18,xU,2,2,"circle",11),En(19,MU,2,4,"line",12),J(),J()),2&t&&(xe("cdkDragConstrainPosition",i.computeDragRenderPos)("ngStyle",i.style)("resizeSnapGrid",to(19,rv)),Ae(1),xe("ngStyle",i.style)("resizeSnapGrid",to(20,rv)),Ae(2),Kr(i.name),Ae(2),xe("title",i.deleteTitle),Ae(3),xe("title",i.dragTitle),Ae(3),xe("title",i.rotateTitle),Ae(3),xe("title",i.resizeTitle),Ae(1),xe("ngIf",!i.rotated),Ae(1),xe("ngIf",i.rotating),Ae(1),xe("ngStyle",i.style)("resizeSnapGrid",to(21,rv))("ngStyle",pm(22,AU,"rotate("+i.rotateValue+"deg)")),at("height",i.aConst.height)("width",i.aConst.width),Ae(1),xe("ngForOf",i.aConst.stars),Ae(1),xe("ngForOf",i.aConst.connections))},directives:[c9,J_,Km,GM,r9,Zm,_9,Ky,nf,yA,Qy,ed],styles:[".star-box[_ngcontent-%COMP%]{height:300px;width:300px}.box[_ngcontent-%COMP%]{min-height:300px;min-width:300px;max-height:500px;max-width:500px}.outside[_ngcontent-%COMP%]{position:absolute;display:block;z-index:5;border:dotted #ccc 2px}.inside[_ngcontent-%COMP%]{position:fixed;display:block;z-index:3;transition:box-shadow .2s cubic-bezier(0,0,.2,1)}.constellation-name[_ngcontent-%COMP%]{float:left;display:flex;padding:10px;font-size:large;color:#ccc}.options[_ngcontent-%COMP%]{float:right;display:flex;flex-direction:column}.example-handle[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;color:#ccc;cursor:move;width:24px;height:24px}.drag-icon[_ngcontent-%COMP%]{float:right;color:#ccc;background-color:#00000080;border-radius:3px;cursor:move;margin-left:2px;margin-top:2px}.rotate-icon[_ngcontent-%COMP%]{float:right;color:#ccc;background-color:#00000080;border-radius:3px;margin-top:2px;cursor:grab;margin-left:2px}.delete-icon[_ngcontent-%COMP%]{float:left;color:#ccc;background-color:#00000080;border-radius:3px;margin-top:2px;cursor:grab;margin-left:2px}input[type=range][orient=vertical][_ngcontent-%COMP%]{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:8px;min-height:300px;max-height:500px;padding:0 5px;float:right}.resize-grip[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;bottom:0;right:0;cursor:nwse-resize;clip-path:polygon(100% 0,100% 100%,0 100%);background:repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)}circle[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 8px rgba(220,211,211,.8))}"]}),n})();const kU=JSON.parse('[{"height":300,"width":300,"month":10,"nLat":65,"sLat":-90,"name":"Aquarius","stars":[[186,119],[222,140],[163,90],[145,98],[143,125],[154,154],[141,83],[127,87],[106,146],[96,129],[96,155],[83,181]],"connections":[[186,119,222,140],[186,119,163,90],[163,90,145,98],[163,90,143,125],[143,125,154,154],[145,98,141,83],[141,83,127,87],[127,87,96,129],[96,129,106,146],[106,146,96,155],[96,155,83,181]]},{"height":300,"width":300,"month":3,"nLat":90,"sLat":-60,"name":"Cancer","stars":[[135,84],[145,135],[178,202],[114,189],[137,157]],"connections":[[135,84,145,135],[145,135,137,157],[137,157,114,189],[137,157,178,202]]},{"height":300,"width":300,"month":12,"nLat":90,"sLat":-60,"name":"Aries","stars":[[131,104],[202,137],[184,122],[208,150],[108,150],[121,139]],"connections":[[131,104,184,122],[184,122,202,137],[202,137,208,150],[131,104,121,139],[121,139,108,150]]},{"height":300,"width":300,"month":9,"nLat":60,"sLat":-90,"name":"Capricorn","stars":[[224,103],[219,118],[212,138],[182,189],[162,201],[158,146],[138,144],[131,180],[107,140],[94,136]],"connections":[[94,136,107,140],[107,140,131,180],[107,140,138,144],[138,144,158,146],[158,146,212,138],[131,180,162,201],[162,201,182,189],[182,189,212,138],[212,138,219,118],[219,118,224,103]]},{"height":300,"width":300,"month":2,"nLat":90,"sLat":-60,"name":"Gemini","stars":[[197,134],[198,194],[185,187],[170,165],[168,192],[160,131],[153,106],[145,94],[138,200],[133,128],[129,168],[122,123],[122,197],[121,146],[118,104],[103,120]],"connections":[[103,120,122,123],[122,123,118,104],[122,123,121,146],[121,146,129,168],[129,168,122,197],[129,168,138,200],[122,123,133,128],[133,128,160,131],[160,131,153,106],[153,106,145,94],[160,131,170,165],[170,165,185,187],[170,165,168,192],[185,187,198,194],[160,131,197,134]]},{"height":300,"width":300,"month":4,"nLat":90,"sLat":-65,"name":"Leo","stars":[[201,101],[189,93],[187,168],[180,144],[165,133],[163,111],[126,181],[120,153],[94,180]],"connections":[[94,180,120,153],[120,153,165,133],[94,180,126,181],[126,181,187,168],[187,168,180,144],[180,144,165,133],[165,133,163,111],[163,112,189,93],[189,93,201,101]]},{"height":300,"width":300,"month":6,"nLat":65,"sLat":-90,"name":"Libra","stars":[[197,120],[191,162],[164,94],[141,116],[142,178],[134,188],[115,126],[103,116]],"connections":[[103,116,115,126],[115,126,141,116],[141,116,164,94],[164,94,197,120],[197,120,191,162],[164,94,191,162],[191,162,142,178],[142,178,134,188]]},{"height":300,"width":300,"month":11,"nLat":90,"sLat":-65,"name":"Pisces","stars":[[207,124],[204,137],[195,119],[194,145],[189,134],[177,137],[159,150],[147,153],[131,165],[121,170],[118,143],[114,117],[109,93],[104,188],[103,107]],"connections":[[109,93,103,107],[103,107,114,117],[109,93,114,117],[114,117,118,143],[118,143,121,170],[104,188,121,170],[121,170,131,165],[131,165,147,153],[147,153,159,150],[159,150,177,137],[177,137,189,134],[189,134,194,145],[194,145,204,137],[204,137,207,124],[207,124,195,119],[195,119,189,134]]},{"height":300,"width":300,"month":8,"nLat":55,"sLat":-90,"name":"Sagittarius","stars":[[202,151],[202,119],[190,146],[187,175],[180,161],[187,127],[172,133],[165,125],[160,143],[156,104],[152,88],[152,133],[134,113],[131,194],[128,182],[111,125],[108,157],[106,146],[103,181]],"connections":[[103,181,128,182],[103,181,131,194],[103,181,108,157],[108,157,106,146],[106,146,111,125],[111,125,134,113],[134,113,152,133],[152,133,160,143],[152,133,156,104],[156,104,152,88],[152,133,165,125],[165,125,172,133],[172,133,160,143],[172,133,187,127],[187,127,202,119],[187,127,190,146],[190,146,202,151],[190,146,180,161],[180,161,187,175]]},{"height":300,"width":300,"month":7,"nLat":40,"sLat":-90,"name":"Scorpio","stars":[[209,103],[204,115],[202,88],[183,107],[173,114],[160,137],[157,153],[151,175],[134,178],[122,140],[114,176],[108,151],[103,161]],"connections":[[122,140,108,151],[108,151,103,161],[103,161,114,176],[114,176,134,178],[134,178,151,175],[151,175,157,153],[157,153,160,137],[160,137,173,114],[173,114,183,107],[183,107,202,88],[183,107,204,115],[183,107,209,103]]},{"height":300,"width":300,"month":1,"nLat":90,"sLat":-65,"name":"Taurus","stars":[[202,145],[191,142],[190,210],[163,185],[155,155],[155,167],[150,142],[149,123],[145,161],[137,151],[131,89],[103,105]],"connections":[[131,89,149,123],[149,123,150,142],[103,105,137,151],[137,151,150,142],[150,142,155,155],[155,155,155,167],[137,151,145,161],[155,155,191,142],[191,142,202,145],[145,161,155,167],[155,167,163,185],[163,185,190,210]]},{"height":300,"width":300,"month":5,"nLat":80,"sLat":-80,"name":"Virgo","stars":[[205,88],[190,114],[175,127],[169,155],[168,172],[159,120],[145,151],[145,105],[129,176],[126,151],[115,185],[94,162]],"connections":[[94,162,126,151],[126,151,145,151],[115,185,129,176],[129,176,168,172],[145,151,168,172],[168,172,169,155],[169,155,175,127],[145,151,159,120],[159,120,145,105],[159,120,175,127],[175,127,190,114],[190,114,205,88]]},{"height":300,"width":300,"month":4,"nLat":45,"sLat":-90,"name":"Antlia","stars":[[176,104],[199,154],[103,160],[130,120]],"connections":[[176,104,199,154],[176,104,130,120],[130,120,103,160]]},{"height":300,"width":300,"month":7,"nLat":5,"sLat":-90,"name":"Apus","stars":[[210,135],[230,165],[220,195],[125,110],[80,80],[100,120]],"connections":[[210,135,125,110],[125,110,100,120],[100,120,80,80],[210,135,230,165],[230,165,220,195]]},{"height":300,"width":300,"month":8,"nLat":90,"sLat":-75,"name":"Aquila","stars":[[120,130],[130,105],[140,91],[165,133],[190,85],[210,75],[195,195],[215,205],[152,178],[130,153],[84,180]],"connections":[[84,180,130,153],[84,180,152,178],[152,178,195,195],[195,195,190,85],[190,85,165,133],[165,133,140,91],[140,91,130,105],[130,105,120,130],[210,75,190,85],[195,195,165,133],[165,133,130,153],[195,195,215,205]]},{"height":300,"width":300,"month":7,"nLat":25,"sLat":-90,"name":"Ara","stars":[[80,90],[140,80],[155,146],[205,154],[219,191],[147,220],[156,166],[205,116]],"connections":[[147,220,156,166],[156,166,155,146],[219,191,205,154],[155,146,205,154],[155,146,140,80],[140,80,80,90],[140,80,205,116],[205,116,205,154]]},{"height":300,"width":300,"month":2,"nLat":90,"sLat":-40,"name":"Auriga","stars":[[89,137],[140,115],[140,146],[120,201],[140,70],[190,112],[217,120],[223,140],[200,135],[215,167],[185,201]],"connections":[[140,70,140,146],[140,70,190,112],[89,137,140,146],[185,201,215,167],[140,146,215,167],[215,167,200,135],[200,135,190,112],[140,146,140,115],[190,112,217,120],[217,120,223,140],[140,146,120,201]]},{"height":300,"width":300,"month":1,"nLat":40,"sLat":-90,"name":"Caelum","stars":[[83,85],[136,91],[160,145],[210,177]],"connections":[[160,145,210,177],[160,145,136,91],[136,91,83,85]]},{"height":300,"width":300,"month":5,"nLat":90,"sLat":-40,"name":"CanesVenatici","stars":[[95,115],[111,125],[161,159],[220,105]],"connections":[[161,159,220,105],[161,159,111,125],[111,125,95,115]]},{"height":300,"width":300,"month":3,"nLat":90,"sLat":-75,"name":"Canis Minor","stars":[[100,165],[200,95]],"connections":[[200,95,100,165]]},{"height":300,"width":300,"month":11,"nLat":90,"sLat":-20,"name":"Cassiopeia","stars":[[90,90],[116,139],[156,134],[180,180],[217,137]],"connections":[[156,134,180,180],[180,180,217,137],[156,134,116,139],[116,139,90,90]]},{"height":300,"width":300,"month":11,"nLat":90,"sLat":-10,"name":"Cepheus","stars":[[225,140],[215,165],[175,174],[125,198],[115,220],[95,200],[100,140],[155,113],[105,70]],"connections":[[175,174,215,165],[95,200,115,220],[115,220,125,198],[155,113,175,174],[155,113,100,140],[105,70,155,113],[105,70,100,140],[100,140,125,198],[125,198,175,174],[215,165,225,140]]},{"height":300,"width":300,"month":4,"nLat":0,"sLat":-90,"name":"Chamaeleon","stars":[[136,124],[200,130],[209,112],[140,160],[86,169]],"connections":[[86,169,140,160],[136,124,209,112],[209,112,200,130],[200,130,140,160],[136,124,86,169]]},{"height":300,"width":300,"month":7,"nLat":30,"sLat":-90,"name":"Circinus","stars":[[191,210],[125,70],[175,162],[105,90],[121,129]],"connections":[[191,210,175,162],[175,162,125,70],[191,210,121,129],[121,129,105,90]]},{"height":300,"width":300,"month":5,"nLat":90,"sLat":-70,"name":"Coma Berenices","stars":[[120,114],[188,105],[130,180]],"connections":[[120,114,188,105],[120,114,130,180]]},{"height":300,"width":300,"month":8,"nLat":40,"sLat":-90,"name":"Corona Australis","stars":[[130,190],[108,165],[100,140],[113,95],[103,115],[153,90],[220,120]],"connections":[[220,120,153,90],[100,140,103,115],[103,115,113,95],[113,95,153,90],[100,140,108,165],[108,165,130,190]]},{"height":300,"width":300,"month":7,"nLat":90,"sLat":-50,"name":"Corona Borealis","stars":[[90,110],[108,160],[140,180],[195,165],[170,175],[210,120],[190,85]],"connections":[[190,85,210,120],[140,180,170,175],[170,175,195,165],[195,165,210,120],[140,180,108,160],[108,160,90,110]]},{"height":300,"width":300,"month":5,"nLat":60,"sLat":-90,"name":"Corvus","stars":[[120,85],[118,185],[195,165],[175,100],[200,205]],"connections":[[195,165,200,205],[175,100,120,85],[195,165,175,100],[195,165,118,185],[118,185,120,85]]},{"height":300,"width":300,"month":4,"nLat":65,"sLat":-90,"name":"Crater","stars":[[150,170],[110,180],[70,150],[190,210],[230,165],[170,130],[155,90],[120,70]],"connections":[[150,170,110,180],[110,180,70,150],[170,130,155,90],[155,90,120,70],[170,130,150,170],[230,165,170,130],[230,165,190,210],[190,210,150,170]]},{"height":300,"width":300,"month":5,"nLat":20,"sLat":-90,"name":"Crux","stars":[[160,95],[170,195],[110,135],[200,115]],"connections":[[110,135,200,115],[160,95,170,195]]},{"height":300,"width":300,"month":9,"nLat":90,"sLat":-80,"name":"Equuleus","stars":[[150,80],[98,170],[165,210],[195,75]],"connections":[[195,75,150,80],[165,210,195,75],[165,210,98,170],[98,170,150,80]]},{"height":300,"width":300,"month":12,"nLat":50,"sLat":-90,"name":"Fornax","stars":[[65,125],[123,185],[240,135],[140,110]],"connections":[[140,110,65,125],[240,135,140,110],[240,135,123,185],[123,185,65,125]]},{"height":300,"width":300,"month":12,"nLat":30,"sLat":-90,"name":"Horologium","stars":[[192,117],[174,102],[198,130],[195,150],[155,190],[157,230],[85,70]],"connections":[[198,130,195,150],[155,190,157,230],[195,150,155,190],[85,70,174,102],[174,102,192,117],[192,117,198,130]]},{"height":300,"width":300,"month":9,"nLat":15,"sLat":-90,"name":"Indus","stars":[[210,75],[175,210],[104,189],[147,157]],"connections":[[210,75,147,157],[147,157,104,189],[147,157,175,210]]},{"height":300,"width":300,"month":4,"nLat":90,"sLat":-45,"name":"Leo Minor","stars":[[210,150],[95,160],[155,130]],"connections":[[155,130,95,160],[155,130,210,150]]},{"height":300,"width":300,"month":1,"nLat":63,"sLat":-90,"name":"Lepus","stars":[[210,100],[185,105],[200,139],[165,152],[125,130],[105,120],[70,135],[170,180],[220,195],[120,175],[135,195]],"connections":[[165,152,125,130],[125,130,105,120],[105,120,70,135],[220,195,170,180],[135,195,170,180],[170,180,165,152],[135,195,120,175],[120,175,165,152],[165,152,200,139],[200,139,185,105],[185,105,210,100]]},{"height":300,"width":300,"month":6,"nLat":35,"sLat":-90,"name":"Lupus","stars":[[110,45],[162,79],[165,115],[140,120],[100,110],[70,90],[230,200],[200,145],[160,155],[170,190],[170,250]],"connections":[[140,120,165,115],[140,120,160,155],[140,120,100,110],[100,110,70,90],[170,250,230,200],[170,190,170,250],[200,145,165,115],[230,200,200,145],[170,190,160,155],[165,115,162,79],[162,79,110,45]]},{"height":300,"width":300,"month":3,"nLat":90,"sLat":-55,"name":"Lynx","stars":[[140,150],[185,90],[170,122],[205,80],[90,170],[85,190],[110,150]],"connections":[[90,170,85,190],[140,150,170,122],[170,122,185,90],[185,90,205,80],[140,150,110,150],[110,150,90,170]]},{"height":300,"width":300,"month":8,"nLat":90,"sLat":-40,"name":"Lyra","stars":[[180,115],[160,105],[140,75],[230,145],[155,150],[90,135],[150,200],[125,207],[80,155],[130,165]],"connections":[[160,105,140,75],[180,115,160,105],[180,115,230,145],[155,150,90,135],[155,150,150,200],[180,115,155,150],[155,150,130,165],[130,165,80,155],[130,165,125,207]]},{"height":300,"width":300,"month":1,"nLat":4,"sLat":-90,"name":"Mensa","stars":[[145,185],[190,95],[195,145],[90,155]],"connections":[[145,185,195,145],[195,145,190,95],[145,185,90,155]]},{"height":300,"width":300,"month":9,"nLat":45,"sLat":-90,"name":"Microscopium","stars":[[115,105],[190,125],[160,105],[115,185]],"connections":[[115,105,160,105],[160,105,190,125],[115,105,115,185]]},{"height":300,"width":300,"month":2,"nLat":75,"sLat":-90,"name":"Monoceros","stars":[[130,145],[180,180],[215,165],[185,95],[165,133],[210,125],[110,185],[85,155]],"connections":[[130,145,180,180],[180,180,215,165],[130,145,165,133],[165,133,185,95],[185,95,210,125],[130,145,85,155],[85,155,110,185]]},{"height":300,"width":300,"month":5,"nLat":10,"sLat":-90,"name":"Musca","stars":[[110,115],[160,105],[125,133],[105,175],[142,185],[215,95]],"connections":[[125,133,105,175],[125,133,142,185],[110,115,125,133],[125,133,160,105],[160,105,215,95]]},{"height":300,"width":300,"month":7,"nLat":30,"sLat":-90,"name":"Norma","stars":[[145,165],[194,142],[105,110],[135,170]],"connections":[[145,165,194,142],[145,165,135,170],[135,170,105,110]]},{"height":300,"width":300,"month":10,"nLat":0,"sLat":-90,"name":"Octans","stars":[[95,90],[200,140],[195,190]],"connections":[[95,90,200,140],[195,190,95,90],[195,190,200,140]]},{"height":300,"width":300,"month":7,"nLat":80,"sLat":-80,"name":"Ophiuchus","stars":[[195,200],[200,220],[175,200],[183,185],[115,120],[120,160],[115,130],[95,135],[85,145],[115,80],[140,80],[215,110],[212,120],[205,144],[185,170]],"connections":[[115,120,115,130],[115,130,95,135],[95,135,85,145],[115,120,120,160],[195,200,200,220],[115,80,115,120],[115,120,185,170],[115,80,140,80],[140,80,215,110],[212,120,205,144],[215,110,212,120],[205,144,185,170],[185,170,183,185],[183,185,175,200],[175,200,195,200]]},{"height":300,"width":300,"month":1,"nLat":85,"sLat":-75,"name":"Orion","stars":[[95,65],[85,90],[125,65],[105,115],[115,125],[145,95],[170,115],[200,105],[225,95],[235,105],[240,120],[235,135],[230,155],[215,165],[165,165],[155,175],[145,185],[135,225],[185,215]],"connections":[[170,115,200,105],[200,105,225,95],[225,95,235,105],[235,105,240,120],[240,120,235,135],[235,135,230,155],[230,155,215,165],[85,90,125,65],[185,215,165,165],[115,125,105,115],[105,115,85,90],[85,90,95,65],[145,95,115,125],[115,125,145,185],[145,95,170,115],[170,115,165,165],[165,165,155,175],[145,185,155,175],[145,185,135,225],[135,225,185,215]]},{"height":300,"width":300,"month":8,"nLat":30,"sLat":-90,"name":"Pavo","stars":[[101,80],[100,110],[101,120],[102,150],[70,155],[130,143],[175,120],[200,120],[210,140],[230,145],[180,200],[135,210]],"connections":[[102,150,70,155],[210,140,200,120],[102,150,101,120],[101,120,100,110],[100,110,101,80],[130,143,102,150],[102,150,135,210],[135,210,180,200],[130,143,175,120],[175,120,200,120],[180,200,230,145],[230,145,210,140]]},{"height":300,"width":300,"month":12,"nLat":90,"sLat":-35,"name":"Perseus","stars":[[70,205],[90,215],[115,150],[95,170],[140,145],[160,115],[130,95],[145,85],[185,115],[205,105],[225,95],[220,120],[195,130],[180,165],[165,195],[162,210]],"connections":[[160,115,130,95],[130,95,145,85],[185,115,205,105],[205,105,225,95],[225,95,220,120],[220,120,195,130],[70,205,90,215],[140,145,115,150],[115,150,95,170],[95,170,70,205],[160,115,140,145],[140,145,165,195],[160,115,185,115],[185,115,195,130],[195,130,180,165],[165,195,180,165],[162,210,165,195]]},{"height":300,"width":300,"month":11,"nLat":32,"sLat":-90,"name":"Phoenix","stars":[[80,135],[80,110],[97,118],[110,125],[160,85],[185,125],[230,115],[210,165],[180,185],[150,215],[120,195]],"connections":[[185,125,230,115],[230,115,210,165],[210,165,180,185],[110,125,97,118],[97,118,80,110],[80,110,80,135],[160,85,110,125],[110,125,120,195],[160,85,185,125],[185,125,150,215],[150,215,120,195]]},{"height":300,"width":300,"month":1,"nLat":26,"sLat":-90,"name":"Pictor","stars":[[100,205],[140,85],[145,140],[200,125]],"connections":[[100,205,140,85],[100,205,145,140],[100,205,200,125]]},{"height":300,"width":300,"month":3,"nLat":50,"sLat":-90,"name":"Pyxis","stars":[[136,89],[158,190],[148,155]],"connections":[[136,89,148,155],[148,155,158,190]]},{"height":300,"width":300,"month":1,"nLat":23,"sLat":-90,"name":"Reticulum","stars":[[95,75],[175,122],[155,107],[158,149],[215,225],[105,165]],"connections":[[95,75,155,107],[155,107,175,122],[175,122,158,149],[95,75,105,165],[105,165,215,225],[215,225,158,149]]},{"height":300,"width":300,"month":8,"nLat":90,"sLat":-70,"name":"Sagitta","stars":[[50,105],[90,120],[155,145],[240,161],[220,195]],"connections":[[90,120,155,145],[50,105,90,120],[220,195,240,161],[240,161,155,145],[220,195,155,145]]},{"height":300,"width":300,"month":11,"nLat":50,"sLat":-90,"name":"Sculptor","stars":[[130,130],[160,125],[169,105],[220,110],[220,145],[145,160],[80,195],[95,154]],"connections":[[169,105,220,110],[220,110,220,145],[130,130,169,105],[169,105,160,125],[160,125,145,160],[130,130,95,154],[95,154,80,195]]},{"height":300,"width":300,"month":8,"nLat":80,"sLat":-90,"name":"Scutum","stars":[[105,75],[185,145],[160,220],[142,135]],"connections":[[105,75,142,135],[142,135,160,220],[142,135,185,145]]},{"height":300,"width":300,"month":4,"nLat":80,"sLat":-90,"name":"Sextans","stars":[[160,100],[220,201],[80,110],[85,140]],"connections":[[85,140,80,110],[85,140,220,201],[220,201,160,100],[80,110,160,100]]},{"height":300,"width":300,"month":12,"nLat":90,"sLat":-60,"name":"Triangulum","stars":[[205,210],[130,80],[90,120]],"connections":[[90,120,130,80],[130,80,205,210],[90,120,205,210]]},{"height":300,"width":300,"month":7,"nLat":25,"sLat":-90,"name":"Triangulum Australe","stars":[[205,145],[165,90],[75,190],[235,185]],"connections":[[75,190,165,90],[165,90,205,145],[235,185,205,145],[75,190,235,185]]},{"height":300,"width":300,"month":11,"nLat":25,"sLat":-90,"name":"Tucana","stars":[[125,200],[155,90],[75,170],[95,195],[235,110],[215,180]],"connections":[[75,170,155,90],[155,90,125,200],[95,195,125,200],[75,170,95,195],[235,110,215,180],[155,90,235,110]]},{"height":300,"width":300,"month":6,"nLat":90,"sLat":-10,"name":"Ursa Minor","stars":[[108,132],[220,160],[155,160],[223,200],[150,199],[70,70],[85,100]],"connections":[[108,132,155,160],[155,160,220,160],[220,160,223,200],[108,132,85,100],[85,100,70,70],[223,200,150,199],[150,199,155,160]]},{"height":300,"width":300,"month":3,"nLat":15,"sLat":-90,"name":"Volans","stars":[[135,135],[185,167],[145,185],[190,140],[90,95],[125,105]],"connections":[[190,140,135,135],[135,135,145,185],[145,185,185,167],[185,167,190,140],[135,135,125,105],[125,105,90,95]]},{"height":300,"width":300,"month":9,"nLat":90,"sLat":-55,"name":"Vulpecula","stars":[[135,160],[225,180],[185,147],[85,115],[118,117]],"connections":[[135,160,185,147],[185,147,225,180],[135,160,118,117],[118,117,85,115]]},{"height":300,"width":300,"month":6,"nLat":90,"sLat":-50,"name":"Bootes","stars":[[91,104],[112,89],[101,124],[175,204],[152,138],[153,218],[150,232],[199,208],[213,215],[153,105],[168,78],[167,50],[133,155]],"connections":[[199,208,213,215],[175,204,199,208],[153,218,150,232],[153,105,112,89],[91,104,101,124],[153,218,175,204],[133,155,175,204],[101,124,133,155],[175,204,152,138],[152,138,153,105],[101,124,112,89],[153,105,168,78],[168,78,167,50]]},{"height":300,"width":300,"month":2,"nLat":90,"sLat":-10,"name":"Camelopardalis","stars":[[72,57],[77,75],[98,85],[126,96],[184,107],[233,124],[173,153],[184,183],[205,218],[147,128],[104,124],[90,104],[109,176],[114,187],[163,208]],"connections":[[114,187,109,176],[114,187,163,208],[109,176,104,124],[90,104,77,75],[90,104,104,124],[104,124,147,128],[205,218,184,183],[184,183,173,153],[147,128,173,153],[173,153,184,107],[77,75,72,57],[126,96,184,107],[77,75,98,85],[126,96,98,85],[184,107,233,124]]},{"height":300,"width":300,"month":2,"nLat":60,"sLat":-90,"name":"Canis Major","stars":[[126,64],[110,85],[124,99],[192,106],[148,94],[132,145],[148,145],[176,138],[124,169],[138,180],[145,190],[158,218],[194,218],[201,197],[110,176],[91,197],[98,155]],"connections":[[194,218,158,218],[145,190,158,218],[145,190,201,197],[145,190,138,180],[138,180,124,169],[176,138,148,145],[132,145,148,145],[91,197,110,176],[98,155,110,176],[110,176,124,169],[132,145,148,94],[124,169,132,145],[124,99,148,94],[192,106,148,94],[124,99,110,85],[110,85,126,64]]},{"height":300,"width":300,"month":3,"nLat":20,"sLat":-90,"name":"Carina","stars":[[218,102],[160,89],[145,111],[134,115],[99,124],[82,145],[78,165],[99,194],[134,180],[113,165],[106,145]],"connections":[[106,145,113,165],[113,165,134,180],[134,180,99,194],[99,194,78,165],[78,165,82,145],[134,115,145,111],[145,111,160,89],[160,89,218,102],[134,115,99,124],[99,124,82,145]]},{"height":300,"width":300,"month":5,"nLat":25,"sLat":-90,"name":"Centaurus","stars":[[73,92],[64,78],[90,96],[85,110],[106,82],[126,74],[131,113],[120,117],[85,124],[64,131],[124,142],[140,162],[120,204],[141,197],[176,138],[187,145],[197,165],[211,215],[204,152],[225,173],[194,106],[169,82],[152,99]],"connections":[[211,215,197,165],[197,165,187,145],[204,152,225,173],[204,152,187,145],[187,145,176,138],[140,162,120,204],[140,162,141,197],[194,106,169,82],[124,142,176,138],[176,138,140,162],[85,124,64,131],[124,117,85,124],[64,78,73,92],[85,110,90,96],[126,74,106,82],[73,92,90,96],[90,96,106,82],[106,82,131,113],[131,113,124,142],[90,96,120,117],[131,113,152,99],[152,99,169,82],[120,117,124,142],[124,142,140,162]]},{"height":300,"width":300,"month":11,"nLat":90,"sLat":-40,"name":"Andromeda","stars":[[212,99],[190,96],[166,113],[170,129],[152,134],[147,148],[184,155],[141,110],[134,126],[124,139],[128,92],[114,89],[148,162],[111,118],[142,184],[120,187],[88,102]],"connections":[[88,102,111,118],[111,118,124,139],[142,184,148,162],[148,162,147,148],[124,139,147,148],[147,148,152,134],[152,134,170,129],[124,139,134,126],[134,126,141,110],[141,110,128,92],[170,129,166,113],[166,113,190,96],[128,92,114,89],[147,148,184,155],[142,184,120,187],[212,99,190,96]]},{"height":300,"width":300,"month":11,"nLat":70,"sLat":-90,"name":"Cetus","stars":[[180,155],[166,145],[229,145],[201,190],[128,204],[82,176],[145,182],[96,109],[71,99],[78,78],[92,71],[114,78],[138,158],[103,123],[124,137]],"connections":[[229,145,201,190],[201,190,145,182],[229,145,180,155],[92,71,114,78],[92,71,78,78],[138,158,166,145],[82,176,128,204],[128,204,145,182],[96,109,103,123],[103,123,124,137],[124,137,138,158],[96,109,71,99],[96,109,114,78],[78,78,71,99],[145,182,138,158],[166,145,180,155]]},{"height":300,"width":300,"month":2,"nLat":45,"sLat":-90,"name":"Columba","stars":[[111,166],[86,117],[96,138],[138,125],[131,145],[126,215],[145,151],[178,148],[207,139],[173,130],[159,110],[181,75],[130,103]],"connections":[[96,138,138,125],[138,125,130,103],[181,75,130,103],[159,110,181,75],[173,130,159,110],[207,139,173,130],[178,148,207,139],[145,151,178,148],[126,215,145,151],[131,145,126,215],[96,138,131,145],[111,166,96,138],[96,138,86,117]]},{"height":300,"width":300,"month":9,"nLat":90,"sLat":-40,"name":"Cygnus","stars":[[192,67],[188,78],[176,89],[170,112],[132,123],[109,145],[87,156],[64,159],[114,89],[159,162],[199,201]],"connections":[[87,156,64,159],[109,145,87,156],[109,145,132,123],[159,162,199,201],[159,162,132,123],[132,123,170,112],[188,78,176,89],[192,67,188,78],[170,112,176,89],[114,89,132,123]]},{"height":300,"width":300,"month":9,"nLat":90,"sLat":-70,"name":"Delphinus","stars":[[103,88],[123,124],[170,144],[155,99],[190,214]],"connections":[[170,144,190,214],[155,99,103,88],[170,144,155,99],[170,144,123,124],[123,124,103,88]]},{"height":300,"width":300,"month":1,"nLat":20,"sLat":-90,"name":"Dorado","stars":[[194,102],[171,116],[145,125],[121,158],[103,163],[110,194]],"connections":[[121,158,110,194],[121,158,145,125],[145,125,171,116],[171,116,194,102],[121,158,103,163]]},{"height":300,"width":300,"month":7,"nLat":90,"sLat":-15,"name":"Draco","stars":[[110,112],[120,120],[125,140],[140,155],[151,166],[166,161],[181,135],[191,95],[206,80],[88,106],[90,121],[103,171],[96,196],[117,181],[117,196]],"connections":[[191,95,206,80],[181,135,191,95],[166,161,181,135],[151,166,166,161],[140,155,151,166],[125,140,140,155],[120,120,125,140],[110,112,120,120],[117,196,96,196],[117,181,117,196],[103,171,117,181],[103,171,90,121],[90,121,88,106],[88,106,110,112],[103,171,96,196]]},{"height":300,"width":300,"month":12,"nLat":32,"sLat":-90,"name":"Eridanus","stars":[[90,98],[85,111],[77,122],[85,133],[110,96],[128,110],[133,99],[142,90],[150,84],[161,79],[172,105],[166,122],[155,119],[146,122],[138,130],[130,142],[116,164],[113,172],[127,175],[130,169],[149,166],[151,172],[172,178],[178,161],[189,151],[194,183],[200,194],[206,191],[211,211]],"connections":[[155,119,146,122],[146,122,138,130],[138,130,130,142],[130,142,116,164],[116,164,113,172],[113,172,127,175],[127,175,130,169],[130,169,149,166],[149,166,151,172],[151,172,172,178],[172,178,178,161],[178,161,189,151],[189,151,194,183],[194,183,200,194],[200,194,206,191],[206,191,211,211],[166,122,155,119],[172,105,166,122],[161,79,172,105],[150,84,161,79],[142,90,150,84],[133,99,142,90],[128,110,133,99],[110,96,128,110],[77,122,85,111],[85,111,90,98],[90,98,110,96],[77,122,85,133]]},{"height":300,"width":300,"month":10,"nLat":34,"sLat":-90,"name":"Grus","stars":[[89,134],[86,162],[173,162],[166,114],[187,99],[218,78],[138,131],[120,166],[114,198],[99,212]],"connections":[[187,99,218,78],[166,114,187,99],[173,162,166,114],[114,198,99,212],[120,166,114,198],[173,162,120,166],[138,131,89,134],[173,162,138,131],[120,166,86,162],[86,162,89,134]]},{"height":300,"width":300,"month":7,"nLat":90,"sLat":-50,"name":"Hercules","stars":[[131,110],[121,110],[93,108],[106,61],[145,145],[138,166],[128,162],[114,155],[99,148],[92,152],[82,173],[96,180],[68,180],[64,194],[173,142],[173,99],[180,82],[190,61],[207,68],[184,180],[124,236],[198,187],[229,201]],"connections":[[68,180,64,194],[82,173,68,180],[82,173,96,180],[92,152,82,173],[99,148,92,152],[114,155,99,148],[128,162,114,155],[138,166,128,162],[145,145,138,166],[93,108,106,61],[121,110,93,108],[131,110,121,110],[190,61,207,68],[180,82,190,61],[173,99,180,82],[198,187,229,201],[184,180,198,187],[184,180,124,236],[173,142,184,180],[173,99,131,110],[173,142,173,99],[173,142,145,145],[145,145,131,110]]},{"height":300,"width":300,"month":4,"nLat":54,"sLat":-83,"name":"Hydra","stars":[[68,195],[80,183],[104,191],[115,185],[121,165],[131,165],[133,147],[142,150],[151,153],[163,123],[151,105],[166,94],[175,76],[184,66],[199,70],[205,82],[193,88]],"connections":[[193,88,175,76],[205,82,193,88],[199,70,205,82],[184,66,199,70],[175,76,184,66],[166,94,175,76],[151,105,166,94],[163,123,151,105],[151,153,163,123],[142,150,151,153],[133,147,142,150],[115,185,121,165],[131,165,133,147],[121,165,131,165],[68,195,80,183],[80,183,104,191],[104,191,115,185]]},{"height":300,"width":300,"month":11,"nLat":8,"sLat":-90,"name":"Hydrus","stars":[[152,131],[148,89],[138,148],[117,145],[194,201],[103,180]],"connections":[[138,148,117,145],[194,201,103,180],[117,145,194,201],[148,89,152,131],[152,131,138,148]]},{"height":300,"width":300,"month":10,"nLat":90,"sLat":-40,"name":"Lacerta","stars":[[120,111],[103,114],[124,134],[142,132],[151,166],[187,164],[204,184],[99,92]],"connections":[[187,164,204,184],[124,134,142,132],[151,166,187,164],[142,132,151,166],[99,92,103,114],[103,114,120,111],[120,111,124,134]]},{"height":300,"width":300,"month":10,"nLat":90,"sLat":-60,"name":"Pegasus","stars":[[159,168],[166,176],[187,187],[201,173],[138,110],[148,128],[155,131],[201,148],[215,134],[198,117],[180,120],[152,106],[142,157],[99,106],[89,155]],"connections":[[166,176,187,187],[187,187,201,173],[138,110,148,128],[148,128,155,131],[155,131,201,148],[201,148,215,134],[142,157,138,110],[89,155,99,106],[99,106,138,110],[89,155,142,157],[142,157,159,168],[159,168,166,176],[138,110,152,106],[152,106,180,120],[180,120,198,117]]},{"height":300,"width":300,"month":10,"nLat":55,"sLat":-90,"name":"Piscis Austrinus","stars":[[82,129],[117,103],[162,106],[187,117],[215,152],[218,166],[180,166],[138,164],[99,173],[89,166]],"connections":[[117,103,82,129],[218,166,180,166],[180,166,138,164],[138,164,99,173],[99,173,89,166],[89,166,82,129],[117,103,162,106],[162,106,187,117],[187,117,215,152],[218,166,215,152]]},{"height":300,"width":300,"month":2,"nLat":40,"sLat":-90,"name":"Puppis","stars":[[61,103],[71,82],[86,92],[99,99],[106,103],[145,121],[222,142],[226,203],[163,167],[142,170],[96,176]],"connections":[[86,92,99,99],[99,99,106,103],[106,103,145,121],[142,170,96,176],[96,176,145,121],[142,170,163,167],[163,167,226,203],[226,203,222,142],[222,142,145,121],[86,92,71,82],[71,82,61,103]]},{"height":300,"width":300,"month":7,"nLat":80,"sLat":-80,"name":"Serpens","stars":[[126,187],[153,187],[131,201],[78,138],[99,158],[190,173],[190,148],[190,138],[198,128],[204,103],[190,89],[184,78],[176,89]],"connections":[[126,187,131,201],[131,201,153,187],[126,187,99,158],[99,158,78,138],[190,173,190,148],[190,148,190,138],[190,138,198,128],[198,128,204,103],[204,103,190,89],[190,89,184,78],[184,78,176,89],[190,89,176,89]]},{"height":300,"width":300,"month":8,"nLat":40,"sLat":-90,"name":"Telescopium","stars":[[117,166],[150,143],[131,159],[187,110],[215,114],[75,152],[106,117],[93,180]],"connections":[[75,152,106,117],[187,110,215,114],[117,166,131,159],[131,159,150,143],[150,143,187,110],[117,166,93,180],[93,180,75,152]]},{"height":300,"width":300,"month":4,"nLat":90,"sLat":-30,"name":"Ursa Major","stars":[[95,117],[120,131],[106,118],[148,103],[148,120],[184,96],[176,112],[190,131],[218,145],[204,92],[120,159],[148,170],[175,173],[128,208],[64,124],[83,116]],"connections":[[176,112,190,131],[190,131,218,145],[184,96,204,92],[204,92,176,112],[148,103,184,96],[184,96,176,112],[176,112,148,120],[106,118,148,103],[148,103,148,120],[148,120,120,131],[148,170,175,173],[120,159,148,170],[120,159,128,208],[95,117,106,118],[106,118,120,131],[120,131,120,159],[95,117,83,116],[83,116,64,124]]},{"height":300,"width":300,"month":3,"nLat":30,"sLat":-90,"name":"Vela","stars":[[99,103],[145,106],[131,92],[173,106],[187,110],[215,142],[173,184],[145,180],[117,176],[82,148],[86,138]],"connections":[[82,148,117,176],[117,176,145,180],[173,106,187,110],[187,110,215,142],[215,142,173,184],[173,184,145,180],[99,103,131,92],[131,92,145,106],[145,106,173,106],[99,103,86,138],[86,138,82,148]]}]'),ov="14.7.77";var Mr=me(21);const Ja=new WeakSet,KA=new WeakMap,av=new WeakMap,JA=new WeakMap,lv=new WeakMap,ff=new WeakMap,ek=new WeakMap,cv=new WeakMap,uv=new WeakMap,hv=new WeakMap,tk={construct:()=>tk},nk=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ik=(n,e)=>{const t=[];let i=n.replace(/^[\s]+/,""),s=i.match(nk);for(;null!==s;){const r=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(r,new URL(r,e).toString());t.push(o),i=i.slice(s[0].length).replace(/^[\s]+/,""),s=i.match(nk)}return[t.join(";"),i]},sk=n=>{if(void 0!==n&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},rk=n=>{if(!(n=>{try{new new Proxy(n,tk)}catch(e){return!1}return!0})(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===n.prototype||"object"!=typeof n.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Wi=(n,e)=>{const t=n.get(e);if(void 0===t)throw new Error("A value with the given key could not be found.");return t},pf=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(0===t.length)throw Error("No element was found.");const[i]=t;return n.delete(i),i},ok=(n,e,t,i)=>{const s=Wi(n,e),r=pf(s,o=>o[0]===t&&o[1]===i);return 0===s.size&&n.delete(e),r},eu=n=>Wi(ek,n),el=n=>{if(Ja.has(n))throw new Error("The AudioNode is already stored.");Ja.add(n),eu(n).forEach(e=>e(!0))},ak=n=>"port"in n,tu=n=>{if(!Ja.has(n))throw new Error("The AudioNode is not stored.");Ja.delete(n),eu(n).forEach(e=>e(!1))},dv=(n,e)=>{!ak(n)&&e.every(t=>0===t.size)&&tu(n)},HU={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8};function lk(n,e,t,i,s,r,o){try{var a=n[r](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,s)}function Xe(n){return function(){var e=this,t=arguments;return new Promise(function(i,s){var r=n.apply(e,t);function o(l){lk(r,i,s,o,a,"next",l)}function a(l){lk(r,i,s,o,a,"throw",l)}o(void 0)})}}const pn=(n,e)=>n.context===e,gf=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch(e){return!1}return!0},bs=()=>new DOMException("","IndexSizeError"),fv=n=>{var e;n.getChannelData=(e=n.getChannelData,t=>{try{return e.call(n,t)}catch(i){throw 12===i.code?bs():i}})},qU={numberOfChannels:1},jn=-34028234663852886e22,In=-jn,Ws=n=>Ja.has(n),GU={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},On=n=>Wi(KA,n),nu=n=>Wi(JA,n),pv=(n,e)=>{const{activeInputs:t}=On(n);t.forEach(s=>s.forEach(([r])=>{e.includes(n)||pv(r,[...e,n])}));const i=(n=>"playbackRate"in n)(n)?[n.playbackRate]:ak(n)?Array.from(n.parameters.values()):(n=>"frequency"in n&&"gain"in n)(n)?[n.Q,n.detune,n.frequency,n.gain]:(n=>"offset"in n)(n)?[n.offset]:(n=>!("frequency"in n)&&"gain"in n)(n)?[n.gain]:(n=>"detune"in n&&"frequency"in n)(n)?[n.detune,n.frequency]:(n=>"pan"in n)(n)?[n.pan]:[];for(const s of i){const r=nu(s);void 0!==r&&r.activeInputs.forEach(([o])=>pv(o,e))}Ws(n)&&tu(n)},mf=n=>{pv(n.destination,[])},_f=n=>"context"in n,iu=n=>_f(n[0]),bo=(n,e,t,i)=>{for(const s of n)if(t(s)){if(i)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},uk=(n,e,[t,i],s)=>{bo(n,[e,t,i],r=>r[0]===e&&r[1]===t,s)},hk=(n,[e,t,i],s)=>{const r=n.get(e);void 0===r?n.set(e,new Set([[t,i]])):bo(r,[t,i],o=>o[0]===t,s)},tl=n=>"inputs"in n,yf=(n,e,t,i)=>{if(tl(e)){const s=e.inputs[i];return n.connect(s,t,0),[s,t,0]}return n.connect(e,t,i),[e,t,i]},dk=(n,e,t)=>{for(const i of n)if(i[0]===e&&i[1]===t)return n.delete(i),i;return null},fk=(n,e)=>{if(!eu(n).delete(e))throw new Error("Missing the expected event listener.")},pk=(n,e,t)=>{const i=Wi(n,e),s=pf(i,r=>r[0]===t);return 0===i.size&&n.delete(e),s},vf=(n,e,t,i)=>{tl(e)?n.disconnect(e.inputs[i],t,0):n.disconnect(e,t,i)},bt=n=>Wi(av,n),su=n=>Wi(lv,n),wo=n=>cv.has(n),bf=n=>!Ja.has(n),gk=(n,e)=>new Promise(t=>{if(null!==e)t(!0);else{const i=n.createScriptProcessor(256,1,1),s=n.createGain(),r=n.createBuffer(1,2,44100),o=r.getChannelData(0);o[0]=1,o[1]=1;const a=n.createBufferSource();a.buffer=r,a.loop=!0,a.connect(i).connect(n.destination),a.connect(s),a.disconnect(s),i.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>1===u)?t(!0):t(!1),a.stop(),i.onaudioprocess=null,a.disconnect(i),i.disconnect(n.destination)},a.start()}}),gv=(n,e)=>{const t=new Map;for(const i of n)for(const s of i){const r=t.get(s);t.set(s,void 0===r?1:r+1)}t.forEach((i,s)=>e(s,i))},wf=n=>"context"in n,mv=(n,e,t,i,s)=>{const[r,o]=((n,e,t,i)=>{const{activeInputs:s,passiveInputs:r}=On(e),o=dk(s[i],n,t);return null===o?[ok(r,n,t,i)[2],!1]:[o[2],!0]})(n,t,i,s);if(null!==r&&(fk(n,r),o&&!e&&!wo(n)&&vf(bt(n),bt(t),i,s)),Ws(t)){const{activeInputs:a}=On(t);dv(t,a)}},_v=(n,e,t,i)=>{const[s,r]=((n,e,t)=>{const{activeInputs:i,passiveInputs:s}=nu(e),r=dk(i,n,t);return null===r?[pk(s,n,t)[1],!1]:[r[2],!0]})(n,t,i);null!==s&&(fk(n,s),r&&!e&&!wo(n)&&bt(n).disconnect(su(t),i))};class mk{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((i,s)=>e.call(t,i,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const mq={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Cf(n,e,t,i,s){if("function"==typeof n.copyFromChannel)0===e[t].byteLength&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],i,s);else{const r=n.getChannelData(i);if(0===e[t].byteLength)e[t]=r.slice(s,s+128);else{const o=new Float32Array(r.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(o)}}}const _k=(n,e,t,i,s)=>{"function"==typeof n.copyToChannel?0!==e[t].byteLength&&n.copyToChannel(e[t],i,s):0!==e[t].byteLength&&n.getChannelData(i).set(e[t],s)},Df=(n,e)=>{const t=[];for(let i=0;i<n;i+=1){const s=[],r="number"==typeof e?e:e[i];for(let o=0;o<r;o+=1)s.push(new Float32Array(128));t.push(s)}return t},vq=function(){var n=Xe(function*(e,t,i,s,r,o,a){const l=null===t?128*Math.ceil(e.context.length/128):t.length,c=s.channelCount*s.numberOfInputs,u=r.reduce((_,y)=>_+y,0),h=0===u?null:i.createBuffer(u,l,i.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const d=On(e),f=yield((n,e)=>{const t=Wi(hv,n),i=bt(e);return Wi(t,i)})(i,e),p=Df(s.numberOfInputs,s.channelCount),g=Df(s.numberOfOutputs,r),m=Array.from(e.parameters.keys()).reduce((_,y)=>he(N({},_),{[y]:new Float32Array(128)}),{});for(let _=0;_<l;_+=128){if(s.numberOfInputs>0&&null!==t)for(let y=0;y<s.numberOfInputs;y+=1)for(let b=0;b<s.channelCount;b+=1)Cf(t,p[y],b,b,_);void 0!==o.parameterDescriptors&&null!==t&&o.parameterDescriptors.forEach(({name:y},b)=>{Cf(t,m,y,c+b,_)});for(let y=0;y<s.numberOfInputs;y+=1)for(let b=0;b<r[y];b+=1)0===g[y][b].byteLength&&(g[y][b]=new Float32Array(128));try{const y=p.map((E,w)=>0===d.activeInputs[w].size?[]:E),b=a(_/i.sampleRate,i.sampleRate,()=>f.process(y,g,m));if(null!==h)for(let E=0,w=0;E<s.numberOfOutputs;E+=1){for(let S=0;S<r[E];S+=1)_k(h,g[E],S,w+S,_);w+=r[E]}if(!b)break}catch(y){e.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h});return function(t,i,s,r,o,a,l){return n.apply(this,arguments)}}(),Cq={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Tq={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Aq={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Pq={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Bq={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},yk=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(i=>{const s=()=>{t.onmessage=null,e.close(),t.close(),i()};t.onmessage=()=>s();try{e.postMessage(n,[n])}finally{s()}})},Gq={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ef=(n,e,t)=>{const i=e[t];if(void 0===i)throw n();return i},e7={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},l7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},qt=()=>new DOMException("","InvalidStateError"),Sf=()=>new DOMException("","InvalidAccessError"),b7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},vk=(n,e,t,i,s,r,o,a,l,c,u)=>{const h=c.length;let d=a;for(let f=0;f<h;f+=1){let p=t[0]*c[f];for(let g=1;g<s;g+=1){const m=d-g&l-1;p+=t[g]*r[m],p-=n[g]*o[m]}for(let g=s;g<i;g+=1)p+=t[g]*r[d-g&l-1];for(let g=s;g<e;g+=1)p-=n[g]*o[d-g&l-1];r[d]=c[f],o[d]=p,d=d+1&l-1,u[f]=p}return d},N7={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Co=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return void 0!==t&&(t.catch(()=>{}),!0)}catch(t){}return!1},Ct=(n,e,t)=>{const i=e[t];void 0!==i&&i!==n[t]&&(n[t]=i)},Xt=(n,e)=>{Ct(n,e,"channelCount"),Ct(n,e,"channelCountMode"),Ct(n,e,"channelInterpretation")},bk=n=>"function"==typeof n.getFloatTimeDomainData,Ot=(n,e,t)=>{const i=e[t];void 0!==i&&i!==n[t].value&&(n[t].value=i)},yv=n=>{var e;n.start=(e=n.start,(t=0,i=0,s)=>{if("number"==typeof s&&s<0||i<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,i,s)})},vv=n=>{var e;n.stop=(e=n.stop,(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})},wk=(n,e)=>null===n?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),n$=function(){var n=Xe(function*(e,t){const i=yield(n=>new Promise((e,t)=>{const{port1:i,port2:s}=new MessageChannel;i.onmessage=({data:r})=>{i.close(),s.close(),e(r)},i.onmessageerror=({data:r})=>{i.close(),s.close(),t(r)},s.postMessage(n)}))(t);return new e(i)});return function(t,i){return n.apply(this,arguments)}}(),Ck=(n,e)=>{const t=n.createBiquadFilter();return Xt(t,e),Ot(t,e,"Q"),Ot(t,e,"detune"),Ot(t,e,"frequency"),Ot(t,e,"gain"),Ct(t,e,"type"),t},ru=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return Xt(t,e),(n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw qt()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw qt()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw qt()}})})(t),t},nl=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),Dk=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return Xt(t,e),Ot(t,e,"delayTime"),t},Hn=(n,e)=>{const t=n.createGain();return Xt(t,e),Ot(t,e,"gain"),t};function d$(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function f$(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function Ek(n,e){let t=[0,0];for(let i=n.length-1;i>=0;i-=1)t=f$(t,e),t[0]+=n[i];return t}const ou=(n,e,t,i)=>n.createScriptProcessor(e,t,i),gn=()=>new DOMException("","NotSupportedError"),M$={numberOfChannels:1},k$={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},R$={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},N$={disableNormalization:!1},$$={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Sk=()=>new DOMException("","UnknownError"),Q$={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Tk=(n,e,t)=>void 0===n.copyFromChannel?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),xk=n=>{if(null===n)return!1;const e=n.length;return e%2!=0?0!==n[Math.floor(e/2)]:n[e/2-1]+n[e/2]!==0},au=(n,e,t,i)=>{let s=n;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:r,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(n,e,{get:t(r),set:i(o)})},Mk=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(i){if(9!==i.code)throw i;Mk(n,e,t+1e-7)}},bv=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Ak=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch(i){return!1}},wv=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},kk=(n,e)=>{const t=e.createGain();n.connect(t);const i=(s=n.disconnect,()=>{s.call(n,t),n.removeEventListener("ended",i)});var s;n.addEventListener("ended",i),nl(n,t),n.stop=(s=>{let r=!1;return(o=0)=>{if(r)try{s.call(n,o)}catch(a){t.gain.setValueAtTime(0,o)}else s.call(n,o),r=!0}})(n.stop)},il=(n,e)=>t=>{const i={value:n};return Object.defineProperties(t,{currentTarget:i,target:i}),"function"==typeof e?e.call(n,t):e.handleEvent.call(n,t)},fG=(n=bo,(e,t,[i,s,r],o)=>{n(e[s],[t,i,r],a=>a[0]===t&&a[1]===i,o)}),pG=(n=>(e,t,[i,s,r],o)=>{const a=e.get(i);void 0===a?e.set(i,new Set([[s,t,r]])):n(a,[s,t,r],l=>l[0]===s&&l[1]===t,o)})(bo),gG=(n=>(e,t,i,s)=>n(e[s],r=>r[0]===t&&r[1]===i))(pf),Ik=new WeakMap,mG=(n=>e=>{var t;return null!==(t=n.get(e))&&void 0!==t?t:0})(Ik),oi=((n,e)=>(t,i)=>{const s=e.get(t);if(void 0!==s)return s;const r=n.get(t);if(void 0!==r)return r;try{const o=i();return o instanceof Promise?(n.set(t,o),o.catch(()=>!1).then(a=>(n.delete(t),e.set(t,a),a))):(e.set(t,o),o)}catch(o){return e.set(t,!1),!1}})(new Map,new WeakMap),Yi="undefined"==typeof window?null:window,Ok=((n,e)=>(t,i)=>{const s=t.createAnalyser();if(Xt(s,i),!(i.maxDecibels>i.minDecibels))throw e();return Ct(s,i,"fftSize"),Ct(s,i,"maxDecibels"),Ct(s,i,"minDecibels"),Ct(s,i,"smoothingTimeConstant"),n(bk,()=>bk(s))||(n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const i=Math.max(t.length,n.fftSize);for(let s=0;s<i;s+=1)e[s]=.0078125*(t[s]-128);return e}})(s),s})(oi,bs),Cv=(n=>e=>{const t=n(e);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer})(On),ln=((n,e,t)=>function(){var i=Xe(function*(s,r,o){const a=n(s);yield Promise.all(a.activeInputs.map((l,c)=>Array.from(l).map(function(){var u=Xe(function*([h,d]){const p=yield e(h).render(h,r),g=s.context.destination;!t(h)&&(s!==g||!t(s))&&p.connect(o,d,c)});return function(h){return u.apply(this,arguments)}}())).reduce((l,c)=>[...l,...c],[]))});return function(s,r,o){return i.apply(this,arguments)}}())(On,Cv,wo),_G=((n,e,t)=>()=>{const i=new WeakMap,s=function(){var r=Xe(function*(o,a){let l=e(o);return pn(l,a)||(l=n(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,fftSize:l.fftSize,maxDecibels:l.maxDecibels,minDecibels:l.minDecibels,smoothingTimeConstant:l.smoothingTimeConstant})),i.set(a,l),yield t(o,a,l),l});return function(a,l){return r.apply(this,arguments)}}();return{render(r,o){const a=i.get(o);return void 0!==a?Promise.resolve(a):s(r,o)}}})(Ok,bt,ln),_t=(n=>e=>{const t=n.get(e);if(void 0===t)throw qt();return t})(ff),sn=(n=>null===n?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null)(Yi),ut=(n=>e=>null!==n&&e instanceof n)(sn),Rk=new WeakMap,Fk=(n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,i,s){if(null!==i){let r=this._listeners.get(i);void 0===r&&(r=n(this,i),"function"==typeof i&&this._listeners.set(i,r)),this._nativeEventTarget.addEventListener(t,r,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,i,s){const r=null===i?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,s)}})(il),Ys=(n=>null===n?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null)(Yi),Dv=(n=>e=>null!==n&&e instanceof n)(Ys),Ev=(n=>e=>null!==n&&"function"==typeof n.AudioNode&&e instanceof n.AudioNode)(Yi),Pk=(n=>e=>null!==n&&"function"==typeof n.AudioParam&&e instanceof n.AudioParam)(Yi),sl=(n=>null===n?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null)(Yi),Nt=((n,e,t,i,s,r,o,a,l,c,u,h,d,f,p,g)=>class extends c{constructor(_,y,b,E){super(b),this._context=_,this._nativeAudioNode=b;const w=u(_);h(w)&&!0!==t(gk,()=>gk(w,g))&&(n=>{const e=new Map;var t;n.connect=(t=n.connect.bind(n),(i,s=0,r=0)=>{const o=wf(i)?t(i,s,r):t(i,s),a=e.get(i);return void 0===a?e.set(i,[{input:r,output:s}]):a.every(l=>l.input!==r||l.output!==s)&&a.push({input:r,output:s}),o}),n.disconnect=(t=>(i,s,r)=>{if(t.apply(n),void 0===i)e.clear();else if("number"==typeof i)for(const[o,a]of e){const l=a.filter(c=>c.output!==i);0===l.length?e.delete(o):e.set(o,l)}else if(e.has(i))if(void 0===s)e.delete(i);else{const o=e.get(i);if(void 0!==o){const a=o.filter(l=>l.output!==s&&(l.input!==r||void 0===r));0===a.length?e.delete(i):e.set(i,a)}}for(const[o,a]of e)a.forEach(l=>{wf(o)?n.connect(o,l.output,l.input):n.connect(o,l.output)})})(n.disconnect)})(b),av.set(this,b),ek.set(this,new Set),"closed"!==_.state&&y&&el(this),n(this,E,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,y=0,b=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw s();const E=u(this._context),w=p(E);if(d(_)||f(_))throw r();if(_f(_)){const D=bt(_);try{const H=yf(this._nativeAudioNode,D,y,b),z=bf(this);(w||z)&&this._nativeAudioNode.disconnect(...H),"closed"!==this.context.state&&!z&&bf(_)&&el(_)}catch(H){throw 12===H.code?r():H}if(e(this,_,y,b,w)){const H=l([this],_);gv(H,i(w))}return _}const S=su(_);if("playbackRate"===S.name&&1024===S.maxValue)throw o();try{this._nativeAudioNode.connect(S,y),(w||bf(this))&&this._nativeAudioNode.disconnect(S,y)}catch(D){throw 12===D.code?r():D}if(((n,e,t,i)=>{const{activeInputs:s,passiveInputs:r}=nu(e),{outputs:o}=On(n),a=eu(n),l=c=>{const u=bt(n),h=su(e);if(c){const d=pk(r,n,t);uk(s,n,d,!1),!i&&!wo(n)&&u.connect(h,t)}else{const d=((n,e,t)=>pf(n,i=>i[0]===e&&i[1]===t))(s,n,t);hk(r,d,!1),!i&&!wo(n)&&u.disconnect(h,t)}};return!!bo(o,[e,t],c=>c[0]===e&&c[1]===t,!0)&&(a.add(l),Ws(n)?uk(s,n,[t,l],!0):hk(r,[n,t,l],!0),!0)})(this,_,y,w)){const D=l([this],_);gv(D,i(w))}}disconnect(_,y,b){let E;const w=u(this._context),S=p(w);if(void 0===_)E=((n,e)=>{const t=On(n),i=[];for(const s of t.outputs)iu(s)?mv(n,e,...s):_v(n,e,...s),i.push(s[0]);return t.outputs.clear(),i})(this,S);else if("number"==typeof _){if(_<0||_>=this.numberOfOutputs)throw s();E=((n,e,t)=>{const i=On(n),s=[];for(const r of i.outputs)r[1]===t&&(iu(r)?mv(n,e,...r):_v(n,e,...r),s.push(r[0]),i.outputs.delete(r));return s})(this,S,_)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||_f(_)&&void 0!==b&&(b<0||b>=_.numberOfInputs))throw s();if(E=((n,e,t,i,s)=>{const r=On(n);return Array.from(r.outputs).filter(o=>!(o[0]!==t||void 0!==i&&o[1]!==i||void 0!==s&&o[2]!==s)).map(o=>(iu(o)?mv(n,e,...o):_v(n,e,...o),r.outputs.delete(o),o[0]))})(this,S,_,y,b),0===E.length)throw r()}for(const v of E){const D=l([this],v);gv(D,a)}}})((n=>(e,t,i)=>{const s=[];for(let r=0;r<i.numberOfInputs;r+=1)s.push(new Set);n.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:t})})(KA),((n,e,t,i,s,r,o,a,l,c,u,h,d)=>{const f=new WeakMap;return(p,g,m,_,y)=>{const{activeInputs:b,passiveInputs:E}=r(g),{outputs:w}=r(p),S=a(p),v=D=>{const R=l(g),H=l(p);if(D){const z=ok(E,p,m,_);n(b,p,z,!1),!y&&!h(p)&&t(H,R,m,_),d(g)&&el(g)}else{const z=i(b,p,m,_);e(E,_,z,!1),!y&&!h(p)&&s(H,R,m,_);const M=o(g);if(0===M)u(g)&&dv(g,b);else{const $=f.get(g);void 0!==$&&clearTimeout($),f.set(g,setTimeout(()=>{u(g)&&dv(g,b)},1e3*M))}}};return!!c(w,[g,m,_],D=>D[0]===g&&D[1]===m&&D[2]===_,!0)&&(S.add(v),u(p)?n(b,p,[m,_,v],!0):e(E,_,[p,m,v],!0),!0)}})(fG,pG,yf,gG,vf,On,mG,eu,bt,bo,Ws,wo,bf),oi,((n,e,t,i,s,r)=>o=>(a,l)=>{const c=n.get(a);if(void 0===c){if(!o&&r(a)){const u=i(a),{outputs:h}=t(a);for(const d of h)if(iu(d)){const f=i(d[0]);e(u,f,d[1],d[2])}else{const f=s(d[0]);u.disconnect(f,d[1])}}n.set(a,l)}else n.set(a,c+l)})(cv,vf,On,bt,su,Ws),bs,Sf,gn,((n,e,t,i,s,r,o,a)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=a(h);if(u===c){if(e.delete(l),!d&&o(l)){const f=i(l),{outputs:p}=t(l);for(const g of p)if(iu(g)){const m=i(g[0]);n(f,m,g[1],g[2])}else{const m=s(g[0]);f.connect(m,g[1])}}}else e.set(l,u-c)})(yf,cv,On,bt,su,_t,Ws,ut),((n,e,t)=>function i(s,r){const o=_f(r)?r:t(n,r);if((n=>"delayTime"in n)(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>i([...s,o],l[0])).reduce((l,c)=>l.concat(c),[])})(Rk,On,Wi),Fk,_t,Dv,Ev,Pk,ut,sl),yG=((n,e,t,i,s,r)=>class extends n{constructor(a,l){const c=s(a),u=N(N({},HU),l),h=i(c,u);super(a,!1,h,r(c)?e():null),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}})(Nt,_G,bs,Ok,_t,ut),Sv=new WeakSet,Nk=(n=>null===n?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null)(Yi),Lk=(n=>e=>(n[0]=e,n[0]))(new Uint32Array(1)),Tv=((n,e)=>t=>{t.copyFromChannel=(i,s,r=0)=>{const o=n(r),a=n(s);if(a>=t.numberOfChannels)throw e();const l=t.length,c=t.getChannelData(a),u=i.length;for(let h=o<0?-o:0;h+o<l&&h<u;h+=1)i[h]=c[h+o]},t.copyToChannel=(i,s,r=0)=>{const o=n(r),a=n(s);if(a>=t.numberOfChannels)throw e();const l=t.length,c=t.getChannelData(a),u=i.length;for(let h=o<0?-o:0;h+o<l&&h<u;h+=1)c[h+o]=i[h]}})(Lk,bs),xv=(n=>e=>{var t;e.copyFromChannel=(t=e.copyFromChannel,(i,s,r=0)=>{const o=n(r),a=n(s);if(o<e.length)return t.call(e,i,a,o)}),e.copyToChannel=(t=>(i,s,r=0)=>{const o=n(r),a=n(s);if(o<e.length)return t.call(e,i,a,o)})(e.copyToChannel)})(Lk),vG=((n,e,t,i,s,r,o,a)=>{let l=null;return class fO{constructor(u){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:f}=N(N({},qU),u);null===l&&(l=new s(1,1,44100));const p=null!==i&&e(r,r)?new i({length:h,numberOfChannels:d,sampleRate:f}):l.createBuffer(d,h,f);if(0===p.numberOfChannels)throw t();return"function"!=typeof p.copyFromChannel?(o(p),fv(p)):e(gf,()=>gf(p))||a(p),n.add(p),p}static[Symbol.hasInstance](u){return null!==u&&"object"==typeof u&&Object.getPrototypeOf(u)===fO.prototype||n.has(u)}}})(Sv,oi,gn,Nk,sn,(n=>()=>{if(null===n)return!1;try{new n({length:1,sampleRate:44100})}catch(e){return!1}return!0})(Nk),Tv,xv),Tf=(n=>(e,t)=>{const i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(i).connect(e.destination);const s=()=>{t.removeEventListener("ended",s),t.disconnect(i),i.disconnect()};t.addEventListener("ended",s)})(Hn),Vk=((n,e,t)=>function(){var i=Xe(function*(s,r,o){const a=e(s);yield Promise.all(Array.from(a.activeInputs).map(function(){var l=Xe(function*([c,u]){const d=yield n(c).render(c,r);t(c)||d.connect(o,u)});return function(c){return l.apply(this,arguments)}}()))});return function(s,r,o){return i.apply(this,arguments)}}())(Cv,nu,wo),ws=(n=>(e,t,i)=>n(t,e,i))(Vk),rl=((n,e,t,i,s,r,o,a,l,c,u)=>(h,d)=>{const f=h.createBufferSource();return Xt(f,d),Ot(f,d,"playbackRate"),Ct(f,d,"buffer"),Ct(f,d,"loop"),Ct(f,d,"loopEnd"),Ct(f,d,"loopStart"),e(t,()=>t(h))||(n=>{n.start=(e=>{let t=!1;return(i=0,s=0,r)=>{if(t)throw qt();e.call(n,i,s,r),t=!0}})(n.start)})(f),e(i,()=>i(h))||(n=>{var e;n.start=(e=n.start,(t=0,i=0,s)=>{const r=n.buffer,o=null===r?i:Math.min(r.duration,i);null!==r&&o>r.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,o,s)})})(f),e(s,()=>s(h))||c(f,h),e(r,()=>r(h))||yv(f),e(o,()=>o(h))||u(f,h),e(a,()=>a(h))||vv(f),n(h,f),f})(Tf,oi,n=>{const e=n.createBufferSource();e.start();try{e.start()}catch(t){return!0}return!1},n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch(i){return!1}return!0},n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch(t){return!1}return!0},bv,Ak,wv,0,(n=>(e,t)=>{const i=t.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=i),n(e,"buffer",s=>()=>{const r=s.call(e);return r===i?null:r},s=>r=>s.call(e,null===r?i:r))})(au),kk),Cs=((n,e)=>(t,i,s)=>(n(i).replay(s),e(i,t,s)))((n=>e=>{const t=n(e);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer})(nu),Vk),bG=((n,e,t,i,s)=>()=>{const r=new WeakMap;let o=null,a=null;const l=function(){var c=Xe(function*(u,h){let d=t(u);const f=pn(d,h);return f||(d=e(h,{buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value}),null!==o&&d.start(...o),null!==a&&d.stop(a)),r.set(h,d),f?yield n(h,u.playbackRate,d.playbackRate):yield i(h,u.playbackRate,d.playbackRate),yield s(u,h,d),d});return function(h,d){return c.apply(this,arguments)}}();return{set start(c){o=c},set stop(c){a=c},render(c,u){const h=r.get(u);return void 0!==h?Promise.resolve(h):l(c,u)}}})(ws,rl,bt,Cs,ln),Zi=((n,e,t,i,s,r,o,a,l,c,u,h,d)=>(f,p,g,m=null,_=null)=>{const y=new Mr.AutomationEventList(g.defaultValue),b=p?(n=>({replay(e){for(const t of n)if("exponentialRampToValue"===t.type){const{endTime:i,value:s}=t;e.exponentialRampToValueAtTime(s,i)}else if("linearRampToValue"===t.type){const{endTime:i,value:s}=t;e.linearRampToValueAtTime(s,i)}else if("setTarget"===t.type){const{startTime:i,target:s,timeConstant:r}=t;e.setTargetAtTime(s,i,r)}else if("setValue"===t.type){const{startTime:i,value:s}=t;e.setValueAtTime(s,i)}else{if("setValueCurve"!==t.type)throw new Error("Can't apply an unknown automation.");{const{duration:i,startTime:s,values:r}=t;e.setValueCurveAtTime(r,s,i)}}}}))(y):null,E={get defaultValue(){return g.defaultValue},get maxValue(){return null===m?g.maxValue:m},get minValue(){return null===_?g.minValue:_},get value(){return g.value},set value(w){g.value=w,E.setValueAtTime(w,f.context.currentTime)},cancelAndHoldAtTime(w){if("function"==typeof g.cancelAndHoldAtTime)null===b&&y.flush(f.context.currentTime),y.add(s(w)),g.cancelAndHoldAtTime(w);else{const S=Array.from(y).pop();null===b&&y.flush(f.context.currentTime),y.add(s(w));const v=Array.from(y).pop();g.cancelScheduledValues(w),S!==v&&void 0!==v&&("exponentialRampToValue"===v.type?g.exponentialRampToValueAtTime(v.value,v.endTime):"linearRampToValue"===v.type?g.linearRampToValueAtTime(v.value,v.endTime):"setValue"===v.type?g.setValueAtTime(v.value,v.startTime):"setValueCurve"===v.type&&g.setValueCurveAtTime(v.values,v.startTime,v.duration))}return E},cancelScheduledValues:w=>(null===b&&y.flush(f.context.currentTime),y.add(r(w)),g.cancelScheduledValues(w),E),exponentialRampToValueAtTime(w,S){if(0===w)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;return null===b&&y.flush(f.context.currentTime),y.add(o(w,S)),g.exponentialRampToValueAtTime(w,S),E},linearRampToValueAtTime:(w,S)=>(null===b&&y.flush(f.context.currentTime),y.add(a(w,S)),g.linearRampToValueAtTime(w,S),E),setTargetAtTime:(w,S,v)=>(null===b&&y.flush(f.context.currentTime),y.add(l(w,S,v)),g.setTargetAtTime(w,S,v),E),setValueAtTime:(w,S)=>(null===b&&y.flush(f.context.currentTime),y.add(c(w,S)),g.setValueAtTime(w,S),E),setValueCurveAtTime(w,S,v){const D=w instanceof Float32Array?w:new Float32Array(w);if(null!==h&&"webkitAudioContext"===h.name){const R=S+v,H=f.context.sampleRate,z=Math.ceil(S*H),M=Math.floor(R*H),$=M-z,F=new Float32Array($);for(let T=0;T<$;T+=1){const k=(D.length-1)/v*((z+T)/H-S),P=Math.floor(k),B=Math.ceil(k);F[T]=P===B?D[P]:(1-(k-P))*D[P]+(1-(B-k))*D[B]}null===b&&y.flush(f.context.currentTime),y.add(u(F,S,v)),g.setValueCurveAtTime(F,S,v);const U=M/H;U<R&&d(E,F[F.length-1],U),d(E,D[D.length-1],R)}else null===b&&y.flush(f.context.currentTime),y.add(u(D,S,v)),g.setValueCurveAtTime(D,S,v);return E}};return t.set(E,g),e.set(E,f),n(E,b),E})((n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})})(JA),Rk,lv,0,Mr.createCancelAndHoldAutomationEvent,Mr.createCancelScheduledValuesAutomationEvent,Mr.createExponentialRampToValueAutomationEvent,Mr.createLinearRampToValueAutomationEvent,Mr.createSetTargetAutomationEvent,Mr.createSetValueAutomationEvent,Mr.createSetValueCurveAutomationEvent,Ys,Mk),wG=((n,e,t,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),d=N(N({},GU),u),f=s(h,d),p=o(h),g=p?e():null;super(c,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=null!==d.buffer,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=t(this,p,f.playbackRate,In,jn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,null!==c){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u="function"==typeof c?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=null!==h&&h===u?c:h}get playbackRate(){return this._playbackRate}start(c=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(c,u,h),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===h?[c,u]:[c,u,h]),"closed"!==this.context.state){el(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Ws(this)&&tu(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=c)}})(Nt,bG,Zi,qt,rl,_t,ut,il),CG=((n,e,t,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),d=o(h),f=s(h,u,d);super(c,!1,f,d?e(a):null),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Nt,n=>{const e=new WeakMap,t=function(){var i=Xe(function*(s,r){const o=r.destination;return e.set(r,o),yield n(s,r,o),o});return function(r,o){return i.apply(this,arguments)}}();return{render(i,s){const r=e.get(s);return void 0!==r?Promise.resolve(r):t(i,s)}}},bs,qt,((n,e)=>(t,i,s)=>{const r=t.destination;if(r.channelCount!==i)try{r.channelCount=i}catch(a){}s&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:i});const o=n(t,{channelCount:i,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{r.channelCount=l}catch(c){if(l>r.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),r.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),r.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o})(Hn,au),_t,ut,ln),DG=((n,e,t,i,s)=>()=>{const r=new WeakMap,o=function(){var a=Xe(function*(l,c){let u=t(l);const h=pn(u,c);return h||(u=e(c,{Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type})),r.set(c,u),h?(yield n(c,l.Q,u.Q),yield n(c,l.detune,u.detune),yield n(c,l.frequency,u.frequency),yield n(c,l.gain,u.gain)):(yield i(c,l.Q,u.Q),yield i(c,l.detune,u.detune),yield i(c,l.frequency,u.frequency),yield i(c,l.gain,u.gain)),yield s(l,c,u),u});return function(c,u){return a.apply(this,arguments)}}();return{render(a,l){const c=r.get(l);return void 0!==c?Promise.resolve(c):o(a,l)}}})(ws,Ck,bt,Cs,ln),Do=(n=>(e,t)=>n.set(e,t))(Ik),EG=((n,e,t,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),d=N(N({},Cq),u),f=s(h,d),p=o(h);super(c,!1,f,p?t():null),this._Q=e(this,p,f.Q,In,jn),this._detune=e(this,p,f.detune,1200*Math.log2(In),-1200*Math.log2(In)),this._frequency=e(this,p,f.frequency,c.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(In),jn),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,h)}catch(d){throw 11===d.code?i():d}if(c.length!==u.length||u.length!==h.length)throw i()}})(Nt,Zi,DG,Sf,Ck,_t,ut,Do),Ar=((n,e)=>(t,i,s)=>{const r=new Set;return t.connect=(o=t.connect,(a,l=0,c=0)=>{const u=0===r.size;if(e(a))return o.call(t,a,l,c),n(r,[a,l,c],h=>h[0]===a&&h[1]===l&&h[2]===c,!0),u&&i(),a;o.call(t,a,l),n(r,[a,l],h=>h[0]===a&&h[1]===l,!0),u&&i()}),t.disconnect=(o=>(a,l,c)=>{const u=r.size>0;if(void 0===a)o.apply(t),r.clear();else if("number"==typeof a){o.call(t,a);for(const d of r)d[1]===a&&r.delete(d)}else{e(a)?o.call(t,a,l,c):o.call(t,a,l);for(const d of r)d[0]===a&&(void 0===l||d[1]===l)&&(void 0===c||d[2]===c)&&r.delete(d)}u&&0===r.size&&s()})(t.disconnect),t;var o})(bo,Ev),SG=((n,e)=>(t,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const s=t.createBufferSource();e(i,()=>{const a=i.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(i,0,l)},()=>s.disconnect(i))})(qt,Ar),kr=((n,e)=>(t,i)=>{const s=t.createChannelMerger(i.numberOfInputs);return null!==n&&"webkitAudioContext"===n.name&&e(t,s),Xt(s,i),s})(Ys,SG),TG=((n,e,t)=>()=>{const i=new WeakMap,s=function(){var r=Xe(function*(o,a){let l=e(o);return pn(l,a)||(l=n(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfInputs:l.numberOfInputs})),i.set(a,l),yield t(o,a,l),l});return function(a,l){return r.apply(this,arguments)}}();return{render(r,o){const a=i.get(o);return void 0!==a?Promise.resolve(a):s(r,o)}}})(kr,bt,ln),xG=((n,e,t,i,s)=>class extends n{constructor(o,a){const l=i(o),c=N(N({},Tq),a);super(o,!1,t(l,c),s(l)?e():null)}})(Nt,TG,kr,_t,ut),MG=((n,e,t)=>()=>{const i=new WeakMap,s=function(){var r=Xe(function*(o,a){let l=e(o);return pn(l,a)||(l=n(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,numberOfOutputs:l.numberOfOutputs})),i.set(a,l),yield t(o,a,l),l});return function(a,l){return r.apply(this,arguments)}}();return{render(r,o){const a=i.get(o);return void 0!==a?Promise.resolve(a):s(r,o)}}})(ru,bt,ln),AG=((n,e,t,i,s,r)=>class extends n{constructor(a,l){const c=i(a),u=(n=>he(N({},n),{channelCount:n.numberOfOutputs}))(N(N({},Aq),l));super(a,!1,t(c,u),s(c)?e():null)}})(Nt,MG,ru,_t,ut),kG=((n,e,t,i)=>(s,a)=>{var l=a,{offset:r}=l,o=Ru(l,["offset"]);const c=s.createBuffer(1,2,44100),u=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=t(s,he(N({},o),{gain:r})),d=c.getChannelData(0);d[0]=1,d[1]=1,u.buffer=c,u.loop=!0;const f={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(m){h.channelCount=m},get channelCountMode(){return h.channelCountMode},set channelCountMode(m){h.channelCountMode=m},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(m){h.channelInterpretation=m},get context(){return h.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get offset(){return h.gain},get onended(){return u.onended},set onended(m){u.onended=m},addEventListener:(...m)=>u.addEventListener(m[0],m[1],m[2]),dispatchEvent:(...m)=>u.dispatchEvent(m[0]),removeEventListener:(...m)=>u.removeEventListener(m[0],m[1],m[2]),start(m=0){u.start.call(u,m)},stop(m=0){u.stop.call(u,m)}};return n(s,u),i(nl(f,h),()=>u.connect(h),()=>u.disconnect(h))})(Tf,rl,Hn,Ar),ol=((n,e,t,i,s)=>(r,o)=>{if(void 0===r.createConstantSource)return t(r,o);const a=r.createConstantSource();return Xt(a,o),Ot(a,o,"offset"),e(i,()=>i(r))||yv(a),e(s,()=>s(r))||vv(a),n(r,a),a})(Tf,oi,kG,bv,wv),IG=((n,e,t,i,s)=>()=>{const r=new WeakMap;let o=null,a=null;const l=function(){var c=Xe(function*(u,h){let d=t(u);const f=pn(d,h);return f||(d=e(h,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value}),null!==o&&d.start(o),null!==a&&d.stop(a)),r.set(h,d),f?yield n(h,u.offset,d.offset):yield i(h,u.offset,d.offset),yield s(u,h,d),d});return function(h,d){return c.apply(this,arguments)}}();return{set start(c){o=c},set stop(c){a=c},render(c,u){const h=r.get(u);return void 0!==h?Promise.resolve(h):l(c,u)}}})(ws,ol,bt,Cs,ln),OG=((n,e,t,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h=N(N({},Pq),c),d=i(u,h),f=r(u),p=f?t():null;super(l,!1,d,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=d,this._offset=e(this,f,d.offset,In,jn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c="function"==typeof l?o(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=null!==u&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=l),"closed"!==this.context.state){el(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Ws(this)&&tu(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=l)}})(Nt,Zi,IG,ol,_t,ut,il),Bk=((n,e)=>(t,i)=>{const s=t.createConvolver();if(Xt(s,i),i.disableNormalization===s.normalize&&(s.normalize=!i.disableNormalization),Ct(s,i,"buffer"),i.channelCount>2||(e(s,"channelCount",r=>()=>r.call(s),r=>o=>{if(o>2)throw n();return r.call(s,o)}),"max"===i.channelCountMode))throw n();return e(s,"channelCountMode",r=>()=>r.call(s),r=>o=>{if("max"===o)throw n();return r.call(s,o)}),s})(gn,au),RG=((n,e,t)=>()=>{const i=new WeakMap,s=function(){var r=Xe(function*(o,a){let l=e(o);return pn(l,a)||(l=n(a,{buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,disableNormalization:!l.normalize})),i.set(a,l),tl(l)?yield t(o,a,l.inputs[0]):yield t(o,a,l),l});return function(a,l){return r.apply(this,arguments)}}();return{render(r,o){const a=i.get(o);return void 0!==a?Promise.resolve(a):s(r,o)}}})(Bk,bt,ln),FG=((n,e,t,i,s,r)=>class extends n{constructor(a,l){const c=i(a),u=N(N({},Bq),l),h=t(c,u);super(a,!1,h,s(c)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==u.buffer&&r(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){this._nativeConvolverNode.buffer=a,null===a&&null!==this._nativeConvolverNode.buffer?(this._nativeConvolverNode.buffer=this._nativeConvolverNode.context.createBuffer(1,1,44100),this._isBufferNullified=!0,r(this,0)):(this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration))}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}})(Nt,RG,Bk,_t,ut,Do),PG=((n,e,t,i,s)=>r=>{const o=new WeakMap,a=function(){var l=Xe(function*(c,u){let h=t(c);const d=pn(h,u);return d||(h=e(u,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:r})),o.set(u,h),d?yield n(u,c.delayTime,h.delayTime):yield i(u,c.delayTime,h.delayTime),yield s(c,u,h),h});return function(u,h){return l.apply(this,arguments)}}();return{render(l,c){const u=o.get(c);return void 0!==u?Promise.resolve(u):a(l,c)}}})(ws,Dk,bt,Cs,ln),NG=((n,e,t,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h=N(N({},Gq),c),d=i(u,h),f=r(u);super(l,!1,d,f?t(h.maxDelayTime):null),this._delayTime=e(this,f,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(Nt,Zi,PG,Dk,_t,ut,Do),jk=(n=>(e,t)=>{const i=e.createDynamicsCompressor();if(Xt(i,t),t.channelCount>2||"max"===t.channelCountMode)throw n();return Ot(i,t,"attack"),Ot(i,t,"knee"),Ot(i,t,"ratio"),Ot(i,t,"release"),Ot(i,t,"threshold"),i})(gn),LG=((n,e,t,i,s)=>()=>{const r=new WeakMap,o=function(){var a=Xe(function*(l,c){let u=t(l);const h=pn(u,c);return h||(u=e(c,{attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value})),r.set(c,u),h?(yield n(c,l.attack,u.attack),yield n(c,l.knee,u.knee),yield n(c,l.ratio,u.ratio),yield n(c,l.release,u.release),yield n(c,l.threshold,u.threshold)):(yield i(c,l.attack,u.attack),yield i(c,l.knee,u.knee),yield i(c,l.ratio,u.ratio),yield i(c,l.release,u.release),yield i(c,l.threshold,u.threshold)),yield s(l,c,u),u});return function(c,u){return a.apply(this,arguments)}}();return{render(a,l){const c=r.get(l);return void 0!==c?Promise.resolve(c):o(a,l)}}})(ws,jk,bt,Cs,ln),VG=((n,e,t,i,s,r,o,a)=>class extends n{constructor(c,u){const h=r(c),d=N(N({},e7),u),f=i(h,d),p=o(h);super(c,!1,f,p?t():null),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,"max"===c)throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Nt,Zi,LG,jk,gn,_t,ut,Do),BG=((n,e,t,i,s)=>()=>{const r=new WeakMap,o=function(){var a=Xe(function*(l,c){let u=t(l);const h=pn(u,c);return h||(u=e(c,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value})),r.set(c,u),h?yield n(c,l.gain,u.gain):yield i(c,l.gain,u.gain),yield s(l,c,u),u});return function(c,u){return a.apply(this,arguments)}}();return{render(a,l){const c=r.get(l);return void 0!==c?Promise.resolve(c):o(a,l)}}})(ws,Hn,bt,Cs,ln),jG=((n,e,t,i,s,r)=>class extends n{constructor(a,l){const c=s(a),u=N(N({},l7),l),h=i(c,u),d=r(c);super(a,!1,h,d?t():null),this._gain=e(this,d,h.gain,In,jn)}get gain(){return this._gain}})(Nt,Zi,BG,Hn,_t,ut),HG=((n,e,t,i)=>(s,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=wk(r,s.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),f=u instanceof Float64Array?u:new Float64Array(u),p=d.length,g=f.length,m=Math.min(p,g);if(0===p||p>20)throw i();if(0===d[0])throw e();if(0===g||g>20)throw i();if(0===f[0])throw e();if(1!==d[0]){for(let D=0;D<g;D+=1)f[D]/=d[0];for(let D=1;D<p;D+=1)d[D]/=d[0]}const _=t(s,h,o,o);_.channelCount=o,_.channelCountMode=a,_.channelInterpretation=l;const b=[],E=[],w=[];for(let D=0;D<o;D+=1){b.push(0);const R=new Float32Array(32),H=new Float32Array(32);R.fill(0),H.fill(0),E.push(R),w.push(H)}_.onaudioprocess=D=>{const R=D.inputBuffer,H=D.outputBuffer,z=R.numberOfChannels;for(let M=0;M<z;M+=1){const $=R.getChannelData(M),F=H.getChannelData(M);b[M]=vk(d,p,f,g,m,E[M],w[M],b[M],32,$,F)}};const S=s.sampleRate/2;return nl({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(D){_.channelCount=D},get channelCountMode(){return _.channelCountMode},set channelCountMode(D){_.channelCountMode=D},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(D){_.channelInterpretation=D},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener:(...D)=>_.addEventListener(D[0],D[1],D[2]),dispatchEvent:(...D)=>_.dispatchEvent(D[0]),getFrequencyResponse(D,R,H){if(D.length!==R.length||R.length!==H.length)throw n();const z=D.length;for(let M=0;M<z;M+=1){const $=-Math.PI*(D[M]/S),F=[Math.cos($),Math.sin($)],k=d$(Ek(f,F),Ek(d,F));R[M]=Math.sqrt(k[0]*k[0]+k[1]*k[1]),H[M]=Math.atan2(k[1],k[0])}},removeEventListener:(...D)=>_.removeEventListener(D[0],D[1],D[2])},_)})(Sf,qt,ou,gn),xf=((n,e,t,i)=>s=>n(Co,()=>Co(s))?Promise.resolve(n(i,i)).then(r=>{if(!r){const o=t(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(r=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),r(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}))(oi,Hn,ou,((n,e)=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100),i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{t.oncomplete=()=>{i.disconnect(),s(0!==t.currentTime)},t.startRendering()})})(Hn,sn)),zG=((n,e,t,i,s)=>(r,o)=>{const a=new WeakMap;let l=null;const c=function(){var u=Xe(function*(h,d){let f=null,p=e(h);const g=pn(p,d);if(void 0===d.createIIRFilter?f=n(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(p=d.createIIRFilter(o,r)),a.set(d,null===f?p:f),null!==f){if(null===l){if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new t(h.context.destination.channelCount,h.context.length,d.sampleRate);l=Xe(function*(){return yield i(h,_,_.destination),((n,e,t,i)=>{const s=t instanceof Float64Array?t:new Float64Array(t),r=i instanceof Float64Array?i:new Float64Array(i),o=s.length,a=r.length,l=Math.min(o,a);if(1!==s[0]){for(let p=0;p<o;p+=1)r[p]/=s[0];for(let p=1;p<a;p+=1)s[p]/=s[0]}const u=new Float32Array(32),h=new Float32Array(32),d=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),f=n.numberOfChannels;for(let p=0;p<f;p+=1){const g=n.getChannelData(p),m=d.getChannelData(p);u.fill(0),h.fill(0),vk(s,o,r,a,l,u,h,0,32,g,m)}return d})(yield s(_),d,r,o)})()}const m=yield l;return f.buffer=m,f.start(0),f}return yield i(h,d,p),p});return function(d,f){return u.apply(this,arguments)}}();return{render(u,h){const d=a.get(h);return void 0!==d?Promise.resolve(d):c(u,h)}}})(rl,bt,sn,ln,xf),UG=(n=>(e,t,i)=>{if(void 0===e.createIIRFilter)return n(e,t,i);const s=e.createIIRFilter(i.feedforward,i.feedback);return Xt(s,i),s})(HG),qG=((n,e,t,i,s,r)=>class extends n{constructor(a,l){const c=i(a),u=s(c),h=N(N({},b7),l),d=e(c,u?null:a.baseLatency,h);super(a,!1,d,u?t(h.feedback,h.feedforward):null),(n=>{var e;n.getFrequencyResponse=(e=n.getFrequencyResponse,(t,i,s)=>{if(t.length!==i.length||i.length!==s.length)throw Sf();return e.call(n,t,i,s)})})(d),this._nativeIIRFilterNode=d,r(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}})(Nt,UG,zG,_t,ut,Do),$G=((n,e,t,i,s,r,o,a)=>(l,c)=>{const u=c.listener,{forwardX:d,forwardY:f,forwardZ:p,positionX:g,positionY:m,positionZ:_,upX:y,upY:b,upZ:E}=void 0===u.forwardX?(()=>{const w=new Float32Array(1),S=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),v=o(c);let D=!1,R=[0,0,-1,0,1,0],H=[0,0,0];const z=()=>{if(D)return;D=!0;const U=i(c,256,9,0);U.onaudioprocess=({inputBuffer:T})=>{const k=[r(T,w,0),r(T,w,1),r(T,w,2),r(T,w,3),r(T,w,4),r(T,w,5)];k.some((B,re)=>B!==R[re])&&(u.setOrientation(...k),R=k);const P=[r(T,w,6),r(T,w,7),r(T,w,8)];P.some((B,re)=>B!==H[re])&&(u.setPosition(...P),H=P)},S.connect(U)},M=U=>T=>{T!==R[U]&&(R[U]=T,u.setOrientation(...R))},$=U=>T=>{T!==H[U]&&(H[U]=T,u.setPosition(...H))},F=(U,T,k)=>{const P=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T});P.connect(S,0,U),P.start(),Object.defineProperty(P.offset,"defaultValue",{get:()=>T});const B=n({context:l},v,P.offset,In,jn);return a(B,"value",re=>()=>re.call(B),re=>we=>{try{re.call(B,we)}catch(Pe){if(9!==Pe.code)throw Pe}z(),v&&k(we)}),B.cancelAndHoldAtTime=(re=B.cancelAndHoldAtTime,v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe}),B.cancelScheduledValues=(re=>v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(re=>v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(re=>v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe})(B.linearRampToValueAtTime),B.setTargetAtTime=(re=>v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe})(B.setTargetAtTime),B.setValueAtTime=(re=>v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe})(B.setValueAtTime),B.setValueCurveAtTime=(re=>v?()=>{throw s()}:(...we)=>{const Pe=re.apply(B,we);return z(),Pe})(B.setValueCurveAtTime),B;var re};return{forwardX:F(0,0,M(0)),forwardY:F(1,0,M(1)),forwardZ:F(2,-1,M(2)),positionX:F(6,0,$(0)),positionY:F(7,0,$(1)),positionZ:F(8,0,$(2)),upX:F(3,0,M(3)),upY:F(4,1,M(4)),upZ:F(5,0,M(5))}})():u;return{get forwardX(){return d},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return m},get positionZ(){return _},get upX(){return y},get upY(){return b},get upZ(){return E}}})(Zi,kr,ol,ou,gn,Tk,ut,au),Hk=new WeakMap,Mv=((n,e,t,i,s,r)=>class extends t{constructor(a,l){super(a),this._nativeContext=a,ff.set(this,a),i(a)&&s.set(a,new Set),this._destination=new n(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l="function"==typeof a?r(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=null!==c&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(CG,$G,Fk,ut,Hk,il),zk=((n,e,t,i,s,r)=>(o,a)=>{const l=o.createOscillator();return Xt(l,a),Ot(l,a,"detune"),Ot(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Ct(l,a,"type"),e(t,()=>t(o))||yv(l),e(i,()=>i(o))||r(l,o),e(s,()=>s(o))||vv(l),n(o,l),l})(Tf,oi,bv,Ak,wv,kk),GG=((n,e,t,i,s)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;const c=function(){var u=Xe(function*(h,d){let f=t(h);const p=pn(f,d);return p||(f=e(d,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:null===o?void 0:o,type:f.type}),null!==a&&f.start(a),null!==l&&f.stop(l)),r.set(d,f),p?(yield n(d,h.detune,f.detune),yield n(d,h.frequency,f.frequency)):(yield i(d,h.detune,f.detune),yield i(d,h.frequency,f.frequency)),yield s(h,d,f),f});return function(d,f){return u.apply(this,arguments)}}();return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){l=u},render(u,h){const d=r.get(h);return void 0!==d?Promise.resolve(d):c(u,h)}}})(ws,zk,bt,Cs,ln),WG=((n,e,t,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h=N(N({},k$),c),d=t(u,h),f=r(u),p=f?i():null,g=l.sampleRate/2;super(l,!1,d,p),this._detune=e(this,f,d.detune,153600,-153600),this._frequency=e(this,f,d.frequency,g,-g),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=p,null!==this._oscillatorNodeRenderer&&void 0!==h.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c="function"==typeof l?o(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=null!==u&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=l),"closed"!==this.context.state){el(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Ws(this)&&tu(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=l)}})(Nt,Zi,zk,GG,_t,ut,il),Uk=(n=>(e,t)=>{const i=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return i.buffer=s,i.loop=!0,i.connect(t),i.start(),()=>{i.stop(),i.disconnect(t)}})(rl),YG=((n,e,t,i,s)=>(r,c)=>{var u=c,{curve:o,oversample:a}=u,l=Ru(u,["curve","oversample"]);const h=r.createWaveShaper(),d=r.createWaveShaper();Xt(h,l),Xt(d,l);const f=t(r,he(N({},l),{gain:1})),p=t(r,he(N({},l),{gain:-1})),g=t(r,he(N({},l),{gain:1})),m=t(r,he(N({},l),{gain:-1}));let _=null,y=!1,b=null;const E={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(v){f.channelCount=v,p.channelCount=v,h.channelCount=v,g.channelCount=v,d.channelCount=v,m.channelCount=v},get channelCountMode(){return h.channelCountMode},set channelCountMode(v){f.channelCountMode=v,p.channelCountMode=v,h.channelCountMode=v,g.channelCountMode=v,d.channelCountMode=v,m.channelCountMode=v},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(v){f.channelInterpretation=v,p.channelInterpretation=v,h.channelInterpretation=v,g.channelInterpretation=v,d.channelInterpretation=v,m.channelInterpretation=v},get context(){return h.context},get curve(){return b},set curve(v){if(null!==v&&v.length<2)throw e();if(null===v)h.curve=v,d.curve=v;else{const D=v.length,R=new Float32Array(D+2-D%2),H=new Float32Array(D+2-D%2);R[0]=v[0],H[0]=-v[D-1];const z=Math.ceil((D+1)/2),M=(D+1)/2-1;for(let $=1;$<z;$+=1){const F=$/z*M,U=Math.floor(F),T=Math.ceil(F);R[$]=U===T?v[U]:(1-(F-U))*v[U]+(1-(T-F))*v[T],H[$]=U===T?-v[D-1-U]:-(1-(F-U))*v[D-1-U]-(1-(T-F))*v[D-1-T]}R[z]=D%2==1?v[z-1]:(v[z-2]+v[z-1])/2,h.curve=R,d.curve=H}b=v,y&&(i(b)&&null===_?_=n(r,f):null!==_&&(_(),_=null))},get inputs(){return[f]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get oversample(){return h.oversample},set oversample(v){h.oversample=v,d.oversample=v},addEventListener:(...v)=>f.addEventListener(v[0],v[1],v[2]),dispatchEvent:(...v)=>f.dispatchEvent(v[0]),removeEventListener:(...v)=>f.removeEventListener(v[0],v[1],v[2])};return null!==o&&(E.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==E.oversample&&(E.oversample=a),s(nl(E,g),()=>{f.connect(h).connect(g),f.connect(p).connect(d).connect(m).connect(g),y=!0,i(b)&&(_=n(r,f))},()=>{f.disconnect(h),h.disconnect(g),f.disconnect(p),p.disconnect(d),d.disconnect(m),m.disconnect(g),y=!1,null!==_&&(_(),_=null)})})(Uk,qt,Hn,xk,Ar),Mf=((n,e,t,i,s,r,o)=>(a,l)=>{const c=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===a.createGain().gain.automationRate)return t(a,l);Xt(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();Ct(c,{curve:u},"curve"),Ct(c,l,"oversample");let h=null,d=!1;return o(c,"curve",g=>()=>g.call(c),g=>m=>(g.call(c,m),d&&(i(m)&&null===h?h=n(a,c):!i(m)&&null!==h&&(h(),h=null)),m)),s(c,()=>{d=!0,i(c.curve)&&(h=n(a,c))},()=>{d=!1,null!==h&&(h(),h=null)})})(Uk,qt,YG,xk,Ar,Ys,au),ZG=((n,e,t,i,s,r,o,a,l,c)=>(u,H)=>{var z=H,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:m,orientationY:_,orientationZ:y,panningModel:b,positionX:E,positionY:w,positionZ:S,refDistance:v,rolloffFactor:D}=z,R=Ru(z,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);const M=u.createPanner();if(R.channelCount>2||"max"===R.channelCountMode)throw o();Xt(M,R);const $={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},F=t(u,he(N({},$),{channelInterpretation:"speakers",numberOfInputs:6})),U=i(u,he(N({},R),{gain:1})),T=i(u,he(N({},$),{gain:1})),k=i(u,he(N({},$),{gain:0})),P=i(u,he(N({},$),{gain:0})),B=i(u,he(N({},$),{gain:0})),re=i(u,he(N({},$),{gain:0})),we=i(u,he(N({},$),{gain:0})),Pe=s(u,256,6,1),Ve=r(u,he(N({},$),{curve:new Float32Array([1,1]),oversample:"none"}));let Ie=[m,_,y],_n=[E,w,S];const yn=new Float32Array(1);Pe.onaudioprocess=({inputBuffer:ne})=>{const Ms=[l(ne,yn,0),l(ne,yn,1),l(ne,yn,2)];Ms.some((ku,Iu)=>ku!==Ie[Iu])&&(M.setOrientation(...Ms),Ie=Ms);const vl=[l(ne,yn,3),l(ne,yn,4),l(ne,yn,5)];vl.some((ku,Iu)=>ku!==_n[Iu])&&(M.setPosition(...vl),_n=vl)},Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(we.gain,"defaultValue",{get:()=>0});const ae={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(ne){if(ne>2)throw o();U.channelCount=ne,M.channelCount=ne},get channelCountMode(){return M.channelCountMode},set channelCountMode(ne){if("max"===ne)throw o();U.channelCountMode=ne,M.channelCountMode=ne},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(ne){U.channelInterpretation=ne,M.channelInterpretation=ne},get coneInnerAngle(){return M.coneInnerAngle},set coneInnerAngle(ne){M.coneInnerAngle=ne},get coneOuterAngle(){return M.coneOuterAngle},set coneOuterAngle(ne){M.coneOuterAngle=ne},get coneOuterGain(){return M.coneOuterGain},set coneOuterGain(ne){if(ne<0||ne>1)throw e();M.coneOuterGain=ne},get context(){return M.context},get distanceModel(){return M.distanceModel},set distanceModel(ne){M.distanceModel=ne},get inputs(){return[U]},get maxDistance(){return M.maxDistance},set maxDistance(ne){if(ne<0)throw new RangeError;M.maxDistance=ne},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get orientationX(){return T.gain},get orientationY(){return k.gain},get orientationZ(){return P.gain},get panningModel(){return M.panningModel},set panningModel(ne){M.panningModel=ne},get positionX(){return B.gain},get positionY(){return re.gain},get positionZ(){return we.gain},get refDistance(){return M.refDistance},set refDistance(ne){if(ne<0)throw new RangeError;M.refDistance=ne},get rolloffFactor(){return M.rolloffFactor},set rolloffFactor(ne){if(ne<0)throw new RangeError;M.rolloffFactor=ne},addEventListener:(...ne)=>U.addEventListener(ne[0],ne[1],ne[2]),dispatchEvent:(...ne)=>U.dispatchEvent(ne[0]),removeEventListener:(...ne)=>U.removeEventListener(ne[0],ne[1],ne[2])};return h!==ae.coneInnerAngle&&(ae.coneInnerAngle=h),d!==ae.coneOuterAngle&&(ae.coneOuterAngle=d),f!==ae.coneOuterGain&&(ae.coneOuterGain=f),p!==ae.distanceModel&&(ae.distanceModel=p),g!==ae.maxDistance&&(ae.maxDistance=g),m!==ae.orientationX.value&&(ae.orientationX.value=m),_!==ae.orientationY.value&&(ae.orientationY.value=_),y!==ae.orientationZ.value&&(ae.orientationZ.value=y),b!==ae.panningModel&&(ae.panningModel=b),E!==ae.positionX.value&&(ae.positionX.value=E),w!==ae.positionY.value&&(ae.positionY.value=w),S!==ae.positionZ.value&&(ae.positionZ.value=S),v!==ae.refDistance&&(ae.refDistance=v),D!==ae.rolloffFactor&&(ae.rolloffFactor=D),(1!==Ie[0]||0!==Ie[1]||0!==Ie[2])&&M.setOrientation(...Ie),(0!==_n[0]||0!==_n[1]||0!==_n[2])&&M.setPosition(..._n),c(nl(ae,M),()=>{U.connect(M),n(U,Ve,0,0),Ve.connect(T).connect(F,0,0),Ve.connect(k).connect(F,0,1),Ve.connect(P).connect(F,0,2),Ve.connect(B).connect(F,0,3),Ve.connect(re).connect(F,0,4),Ve.connect(we).connect(F,0,5),F.connect(Pe).connect(u.destination)},()=>{U.disconnect(M),a(U,Ve,0,0),Ve.disconnect(T),T.disconnect(F),Ve.disconnect(k),k.disconnect(F),Ve.disconnect(P),P.disconnect(F),Ve.disconnect(B),B.disconnect(F),Ve.disconnect(re),re.disconnect(F),Ve.disconnect(we),we.disconnect(F),F.disconnect(Pe),Pe.disconnect(u.destination)})})(yf,qt,kr,Hn,ou,Mf,gn,vf,Tk,Ar),qk=(n=>(e,t)=>{const i=e.createPanner();return void 0===i.orientationX?n(e,t):(Xt(i,t),Ot(i,t,"orientationX"),Ot(i,t,"orientationY"),Ot(i,t,"orientationZ"),Ot(i,t,"positionX"),Ot(i,t,"positionY"),Ot(i,t,"positionZ"),Ct(i,t,"coneInnerAngle"),Ct(i,t,"coneOuterAngle"),Ct(i,t,"coneOuterGain"),Ct(i,t,"distanceModel"),Ct(i,t,"maxDistance"),Ct(i,t,"panningModel"),Ct(i,t,"refDistance"),Ct(i,t,"rolloffFactor"),i)})(ZG),XG=((n,e,t,i,s,r,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;const d=function(){var f=Xe(function*(p,g){let m=null,_=r(p);const y={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},b=he(N({},y),{coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor}),E=pn(_,g);if("bufferSize"in _)m=i(g,he(N({},y),{gain:1}));else if(!E){const w=he(N({},b),{orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value});_=s(g,w)}if(u.set(g,null===m?_:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const M=new o(6,p.context.length,g.sampleRate),$=e(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});$.connect(M.destination),h=Xe(function*(){const F=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(function(){var U=Xe(function*(T,k){const P=t(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===k?1:0});return yield a(M,T,P.offset),P});return function(T,k){return U.apply(this,arguments)}}()));for(let U=0;U<6;U+=1)F[U].connect($,0,U),F[U].start(0);return c(M)})()}const w=yield h,S=i(g,he(N({},y),{gain:1}));yield l(p,g,S);const v=[];for(let M=0;M<w.numberOfChannels;M+=1)v.push(w.getChannelData(M));let D=[v[0][0],v[1][0],v[2][0]],R=[v[3][0],v[4][0],v[5][0]],H=i(g,he(N({},y),{gain:1})),z=s(g,he(N({},b),{orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:R[0],positionY:R[1],positionZ:R[2]}));S.connect(H).connect(z.inputs[0]),z.connect(m);for(let M=128;M<w.length;M+=128){const $=[v[0][M],v[1][M],v[2][M]],F=[v[3][M],v[4][M],v[5][M]];if($.some((U,T)=>U!==D[T])||F.some((U,T)=>U!==R[T])){D=$,R=F;const U=M/g.sampleRate;H.gain.setValueAtTime(0,U),H=i(g,he(N({},y),{gain:0})),z=s(g,he(N({},b),{orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:R[0],positionY:R[1],positionZ:R[2]})),H.gain.setValueAtTime(1,U),S.connect(H).connect(z.inputs[0]),z.connect(m)}}return m}return E?(yield n(g,p.orientationX,_.orientationX),yield n(g,p.orientationY,_.orientationY),yield n(g,p.orientationZ,_.orientationZ),yield n(g,p.positionX,_.positionX),yield n(g,p.positionY,_.positionY),yield n(g,p.positionZ,_.positionZ)):(yield a(g,p.orientationX,_.orientationX),yield a(g,p.orientationY,_.orientationY),yield a(g,p.orientationZ,_.orientationZ),yield a(g,p.positionX,_.positionX),yield a(g,p.positionY,_.positionY),yield a(g,p.positionZ,_.positionZ)),tl(_)?yield l(p,g,_.inputs[0]):yield l(p,g,_),_});return function(g,m){return f.apply(this,arguments)}}();return{render(f,p){const g=u.get(p);return void 0!==g?Promise.resolve(g):d(f,p)}}})(ws,kr,ol,Hn,qk,bt,sn,Cs,ln,xf),QG=((n,e,t,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h=N(N({},R$),c),d=t(u,h),f=r(u);super(l,!1,d,f?i():null),this._nativePannerNode=d,this._orientationX=e(this,f,d.orientationX,In,jn),this._orientationY=e(this,f,d.orientationY,In,jn),this._orientationZ=e(this,f,d.orientationZ,In,jn),this._positionX=e(this,f,d.positionX,In,jn),this._positionY=e(this,f,d.positionY,In,jn),this._positionZ=e(this,f,d.positionZ,In,jn),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}})(Nt,Zi,qk,XG,_t,ut,Do),KG=(n=>(e,{disableNormalization:t,imag:i,real:s})=>{const r=i instanceof Float32Array?i:new Float32Array(i),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,r,{disableNormalization:t});if(Array.from(i).length<2)throw n();return a})(bs),JG=((n,e,t,i)=>class pO{constructor(r,o){const a=e(r),l=(n=>{const{imag:e,real:t}=n;return he(N({},n),void 0===e?void 0===t?{imag:[0,0],real:[0,0]}:{imag:Array.from(t,()=>0),real:t}:void 0===t?{imag:e,real:Array.from(e,()=>0)}:{imag:e,real:t})})(N(N({},N$),o)),c=n(a,l);return t.add(c),c}static[Symbol.hasInstance](r){return null!==r&&"object"==typeof r&&Object.getPrototypeOf(r)===pO.prototype||t.has(r)}})(KG,_t,new WeakSet),eW=((n,e,t,i,s,r)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u=he(N({},c),{oversample:"none"}),f=(p,g,m,_,y)=>{if(1===g)return((p,g,m,_)=>{const y=new Float32Array(o),b=new Float32Array(o);for(let R=0;R<o;R+=1){const H=R/(o-1)*l;y[R]=Math.cos(H),b[R]=Math.sin(H)}const E=t(p,he(N({},c),{gain:0})),w=i(p,he(N({},u),{curve:y})),S=i(p,he(N({},u),{curve:a})),v=t(p,he(N({},c),{gain:0})),D=i(p,he(N({},u),{curve:b}));return{connectGraph(){g.connect(E),g.connect(void 0===S.inputs?S:S.inputs[0]),g.connect(v),S.connect(m),m.connect(void 0===w.inputs?w:w.inputs[0]),m.connect(void 0===D.inputs?D:D.inputs[0]),w.connect(E.gain),D.connect(v.gain),E.connect(_,0,0),v.connect(_,0,1)},disconnectGraph(){g.disconnect(E),g.disconnect(void 0===S.inputs?S:S.inputs[0]),g.disconnect(v),S.disconnect(m),m.disconnect(void 0===w.inputs?w:w.inputs[0]),m.disconnect(void 0===D.inputs?D:D.inputs[0]),w.disconnect(E.gain),D.disconnect(v.gain),E.disconnect(_,0,0),v.disconnect(_,0,1)}}})(p,m,_,y);if(2===g)return((p,g,m,_)=>{const y=new Float32Array(o),b=new Float32Array(o),E=new Float32Array(o),w=new Float32Array(o),S=Math.floor(o/2);for(let k=0;k<o;k+=1)if(k>S){const P=(k-S)/(o-1-S)*l;y[k]=Math.cos(P),b[k]=Math.sin(P),E[k]=0,w[k]=1}else{const P=k/(o-1-S)*l;y[k]=1,b[k]=0,E[k]=Math.cos(P),w[k]=Math.sin(P)}const v=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=t(p,he(N({},c),{gain:0})),R=i(p,he(N({},u),{curve:y})),H=t(p,he(N({},c),{gain:0})),z=i(p,he(N({},u),{curve:b})),M=i(p,he(N({},u),{curve:a})),$=t(p,he(N({},c),{gain:0})),F=i(p,he(N({},u),{curve:E})),U=t(p,he(N({},c),{gain:0})),T=i(p,he(N({},u),{curve:w}));return{connectGraph(){g.connect(v),g.connect(void 0===M.inputs?M:M.inputs[0]),v.connect(D,0),v.connect(H,0),v.connect($,1),v.connect(U,1),M.connect(m),m.connect(void 0===R.inputs?R:R.inputs[0]),m.connect(void 0===z.inputs?z:z.inputs[0]),m.connect(void 0===F.inputs?F:F.inputs[0]),m.connect(void 0===T.inputs?T:T.inputs[0]),R.connect(D.gain),z.connect(H.gain),F.connect($.gain),T.connect(U.gain),D.connect(_,0,0),$.connect(_,0,0),H.connect(_,0,1),U.connect(_,0,1)},disconnectGraph(){g.disconnect(v),g.disconnect(void 0===M.inputs?M:M.inputs[0]),v.disconnect(D,0),v.disconnect(H,0),v.disconnect($,1),v.disconnect(U,1),M.disconnect(m),m.disconnect(void 0===R.inputs?R:R.inputs[0]),m.disconnect(void 0===z.inputs?z:z.inputs[0]),m.disconnect(void 0===F.inputs?F:F.inputs[0]),m.disconnect(void 0===T.inputs?T:T.inputs[0]),R.disconnect(D.gain),z.disconnect(H.gain),F.disconnect($.gain),T.disconnect(U.gain),D.disconnect(_,0,0),$.disconnect(_,0,0),H.disconnect(_,0,1),U.disconnect(_,0,1)}}})(p,m,_,y);throw s()};return(p,b)=>{var E=b,{channelCount:g,channelCountMode:m,pan:_}=E,y=Ru(E,["channelCount","channelCountMode","pan"]);if("max"===m)throw s();const w=n(p,he(N({},y),{channelCount:1,channelCountMode:m,numberOfInputs:2})),S=t(p,he(N({},y),{channelCount:g,channelCountMode:m,gain:1})),v=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_});let{connectGraph:D,disconnectGraph:R}=f(p,g,S,v,w);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const H={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(F){S.channelCount!==F&&(z&&R(),({connectGraph:D,disconnectGraph:R}=f(p,F,S,v,w)),z&&D()),S.channelCount=F},get channelCountMode(){return S.channelCountMode},set channelCountMode(F){if("clamped-max"===F||"max"===F)throw s();S.channelCountMode=F},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(F){S.channelInterpretation=F},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return v.gain},addEventListener:(...F)=>S.addEventListener(F[0],F[1],F[2]),dispatchEvent:(...F)=>S.dispatchEvent(F[0]),removeEventListener:(...F)=>S.removeEventListener(F[0],F[1],F[2])};let z=!1;return r(nl(H,w),()=>{D(),z=!0},()=>{R(),z=!1})}})(kr,ru,Hn,Mf,gn,Ar),$k=((n,e)=>(t,i)=>{const s=i.channelCountMode;if("clamped-max"===s)throw e();if(void 0===t.createStereoPanner)return n(t,i);const r=t.createStereoPanner();return Xt(r,i),Ot(r,i,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),r})(eW,gn),tW=((n,e,t,i,s)=>()=>{const r=new WeakMap,o=function(){var a=Xe(function*(l,c){let u=t(l);const h=pn(u,c);return h||(u=e(c,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value})),r.set(c,u),h?yield n(c,l.pan,u.pan):yield i(c,l.pan,u.pan),tl(u)?yield s(l,c,u.inputs[0]):yield s(l,c,u),u});return function(c,u){return a.apply(this,arguments)}}();return{render(a,l){const c=r.get(l);return void 0!==c?Promise.resolve(c):o(a,l)}}})(ws,$k,bt,Cs,ln),nW=((n,e,t,i,s,r)=>class extends n{constructor(a,l){const c=s(a),u=N(N({},$$),l),h=t(c,u),d=r(c);super(a,!1,h,d?i():null),this._pan=e(this,d,h.pan)}get pan(){return this._pan}})(Nt,Zi,$k,tW,_t,ut),iW=((n,e,t)=>()=>{const i=new WeakMap,s=function(){var r=Xe(function*(o,a){let l=e(o);return pn(l,a)||(l=n(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,curve:l.curve,oversample:l.oversample})),i.set(a,l),tl(l)?yield t(o,a,l.inputs[0]):yield t(o,a,l),l});return function(a,l){return r.apply(this,arguments)}}();return{render(r,o){const a=i.get(o);return void 0!==a?Promise.resolve(a):s(r,o)}}})(Mf,bt,ln),sW=((n,e,t,i,s,r,o)=>class extends n{constructor(l,c){const u=s(l),h=N(N({},Q$),c),d=t(u,h);super(l,!0,d,r(u)?i():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(null===l)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}})(Nt,qt,Mf,iW,_t,ut,Do),Gk=(n=>null!==n&&n.isSecureContext)(Yi),Av=(n=>(e,t,i)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get:()=>Math.round(e*t)},currentTime:{configurable:!0,get:()=>e}});try{return i()}finally{null!==n&&(delete n.currentFrame,delete n.currentTime)}})(Yi),Wk=new WeakMap,rW=((n,e)=>t=>{let i=n.get(t);if(void 0!==i)return i;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),n.set(t,i),i})(Wk,sn),oW=Gk?((n,e,t,i,s,r,o,a,l,c,u,h,d)=>{let f=0;return(p,g,m={credentials:"omit"})=>{const _=u.get(p);if(void 0!==_&&_.has(g))return Promise.resolve();const y=c.get(p);if(void 0!==y){const w=y.get(g);if(void 0!==w)return w}const b=r(p),E=void 0===b.audioWorklet?s(g).then(([w,S])=>{const[v,D]=ik(w,S);return t(`${v};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}\n})})(window,'_AWGS')`)}).then(()=>{const w=d._AWGS.pop();if(void 0===w)throw new SyntaxError;i(b.currentTime,b.sampleRate,()=>w(class{},void 0,(S,v)=>{if(""===S.trim())throw e();const D=uv.get(b);if(void 0!==D){if(D.has(S))throw e();rk(v),sk(v.parameterDescriptors),D.set(S,v)}else rk(v),sk(v.parameterDescriptors),uv.set(b,new Map([[S,v]]))},b.sampleRate,void 0,void 0))}):Promise.all([s(g),Promise.resolve(n(h,h))]).then(([[w,S],v])=>{const D=f+1;f=D;const[R,H]=ik(w,S),U=new Blob([`${R};((AudioWorkletProcessor,registerProcessor)=>{${H}\n})(${v?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${v?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${v?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),T=URL.createObjectURL(U);return b.audioWorklet.addModule(T,m).then(()=>{if(a(b))return b;const k=o(b);return k.audioWorklet.addModule(T,m).then(()=>k)}).then(k=>{if(null===l)throw new SyntaxError;try{new l(k,`__sac${D}`)}catch(P){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(T))});return void 0===y?c.set(p,new Map([[g,E]])):y.set(g,E),E.then(()=>{const w=u.get(p);void 0===w?u.set(p,new Set([g])):w.add(g)}).finally(()=>{const w=c.get(p);void 0!==w&&w.delete(g)}),E}})(oi,gn,(n=>e=>new Promise((t,i)=>{if(null===n)return void i(new SyntaxError);const s=n.document.head;if(null===s)i(new SyntaxError);else{const r=n.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=n.onerror,c=()=>{n.onerror=l,URL.revokeObjectURL(a)};n.onerror=(u,h,d,f,p)=>h===a||h===n.location.href&&1===d&&1===f?(c(),i(p),!1):null!==l?l(u,h,d,f,p):void 0,r.onerror=()=>{c(),i(new SyntaxError)},r.onload=()=>{c(),t()},r.src=a,r.type="module",s.appendChild(r)}}))(Yi),Av,function(){var e=Xe(function*(t){try{const i=yield fetch(t);if(i.ok)return[yield i.text(),i.url]}catch(i){}throw new DOMException("","AbortError")});return function(t){return e.apply(this,arguments)}}(),_t,rW,ut,sl,new WeakMap,new WeakMap,((n,e)=>Xe(function*(){if(null===n)return!0;if(null===e)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),s=URL.createObjectURL(t);let r=!1,o=!1;try{yield i.audioWorklet.addModule(s);const a=new n(i,"a",{numberOfOutputs:0}),l=i.createOscillator();a.port.onmessage=()=>r=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),yield i.startRendering()}catch(a){}finally{URL.revokeObjectURL(s)}return r&&!o}))(sl,sn),Yi):void 0,aW=((n,e)=>t=>n(t)||e(t))(Dv,ut),lW=((n,e,t,i,s,r,o,a,l,c,u)=>(h,d)=>{const f=o(h)?h:r(h);if(s.has(d)){const p=new DOMException("","DataCloneError");return Promise.reject(p)}try{s.add(d)}catch(p){}return e(l,()=>l(f))?f.decodeAudioData(d).then(p=>(yk(d).catch(()=>{}),e(a,()=>a(p))||u(p),n.add(p),p)):new Promise((p,g)=>{const m=function(){var y=Xe(function*(){try{yield yk(d)}catch(b){}});return function(){return y.apply(this,arguments)}}(),_=y=>{g(y),m()};try{f.decodeAudioData(d,y=>{"function"!=typeof y.copyFromChannel&&(c(y),fv(y)),n.add(y),m().then(()=>p(y))},y=>{_(null===y?new DOMException("","EncodingError"):y)})}catch(y){_(y)}})})(Sv,oi,0,0,new WeakSet,_t,aW,gf,Co,Tv,xv),Yk=((n,e,t,i,s,r,o,a,l,c,u,h,d,f,p,g,m,_,y,b)=>class extends p{constructor(w,S){super(w,S),this._nativeContext=w,this._audioWorklet=void 0===n?void 0:{addModule:(v,D)=>n(this,v,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(w,S,v){return new t({length:S,numberOfChannels:w,sampleRate:v})}createBufferSource(){return new i(this)}createChannelMerger(w=6){return new r(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new o(this,{numberOfOutputs:w})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(w=1){return new u(this,{maxDelayTime:w})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(w,S){return new f(this,{feedback:S,feedforward:w})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(w,S,v={disableNormalization:!1}){return new _(this,he(N({},v),{imag:S,real:w}))}createStereoPanner(){return new y(this)}createWaveShaper(){return new b(this)}decodeAudioData(w,S,v){return c(this._nativeContext,w).then(D=>("function"==typeof S&&S(D),D),D=>{throw"function"==typeof v&&v(D),D})}})(oW,yG,vG,wG,EG,xG,AG,OG,FG,lW,NG,VG,jG,qG,Mv,WG,QG,JG,nW,sW),cW=((n,e,t,i)=>class extends n{constructor(r,o){const a=t(r),l=((n,e)=>n.createMediaElementSource(e.mediaElement))(a,o);if(i(a))throw TypeError();super(r,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Nt,0,_t,ut),uW=((n,e,t,i)=>class extends n{constructor(r,o){const a=t(r);if(i(a))throw new TypeError;const c=((n,e)=>{const t=n.createMediaStreamDestination();return Xt(t,e),1===t.numberOfOutputs&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t})(a,N(N({},N7),o));super(r,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Nt,0,_t,ut),hW=((n,e,t,i)=>class extends n{constructor(r,o){const a=t(r),l=((n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((r,o)=>r.id<o.id?-1:r.id>o.id?1:0);const i=t.slice(0,1),s=n.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:e}),s})(a,o);if(i(a))throw new TypeError;super(r,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Nt,0,_t,ut),dW=((n,e)=>(t,{mediaStreamTrack:i})=>{if("function"==typeof t.createMediaStreamTrackSource)return t.createMediaStreamTrackSource(i);const s=new MediaStream([i]),r=t.createMediaStreamSource(s);if("audio"!==i.kind)throw n();if(e(t))throw new TypeError;return r})(qt,ut),fW=((n,e,t)=>class extends n{constructor(s,r){const o=t(s);super(s,!0,e(o,r),null)}})(Nt,dW,_t),pW=((n,e,t,i,s,r,o,a,l)=>class extends n{constructor(u={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(u)}catch(p){throw 12===p.code&&"sampleRate is not in range"===p.message?t():p}if(null===h)throw i();if(!(n=>void 0===n||"number"==typeof n||"string"==typeof n&&("balanced"===n||"interactive"===n||"playback"===n))(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==u.sampleRate&&h.sampleRate!==u.sampleRate)throw t();super(h,2);const{latencyHint:d}=u,{sampleRate:f}=h;if(this._baseLatency="number"==typeof h.baseLatency?h.baseLatency:"balanced"===d?512/f:"interactive"===d||void 0===d?256/f:"playback"===d?1024/f:128*Math.max(2,Math.min(128,Math.round(d*f/128)))/f,this._nativeAudioContext=h,"webkitAudioContext"===l.name?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===h.state){this._state="suspended";const p=()=>{"suspended"===this._state&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),mf(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return"suspended"===this._state?new Promise((u,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),"running"===this._nativeAudioContext.state?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(u=>{throw void 0===u||15===u.code?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw void 0===u?e():u})}})(Yk,qt,gn,Sk,cW,uW,hW,fW,Ys),kv=(n=>e=>{const t=n.get(e);if(void 0===t)throw new Error("The context has no set of AudioWorkletNodes.");return t})(Hk),gW=(n=>(e,t)=>{n(e).add(t)})(kv),Zk=(n=>(e,t,i=0,s=0)=>{const r=e[i];if(void 0===r)throw n();return wf(t)?r.connect(t,0,s):r.connect(t,0)})(bs),mW=(n=>(e,t)=>{n(e).delete(t)})(kv),Xk=(n=>(e,t,i,s=0)=>void 0===t?e.forEach(r=>r.disconnect()):"number"==typeof t?Ef(n,e,t).disconnect():wf(t)?void 0===i?e.forEach(r=>r.disconnect(t)):void 0===s?Ef(n,e,i).disconnect(t,0):Ef(n,e,i).disconnect(t,0,s):void 0===i?e.forEach(r=>r.disconnect(t)):Ef(n,e,i).disconnect(t,0))(bs),Qk=new WeakMap,_W=((n,e)=>t=>e(n,t))(Qk,Wi),yW=((n,e,t,i,s,r,o,a,l,c,u,h,d)=>(f,p,g,m)=>{if(0===m.numberOfInputs&&0===m.numberOfOutputs)throw l();const _=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(_.some(X=>X<1))throw l();if(_.length!==m.numberOfOutputs)throw e();if("explicit"!==m.channelCountMode)throw l();const y=m.channelCount*m.numberOfInputs,b=_.reduce((X,de)=>X+de,0),E=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(y+E>6||b>6)throw l();const w=new MessageChannel,S=[],v=[];for(let X=0;X<m.numberOfInputs;X+=1)S.push(o(f,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),v.push(s(f,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const D=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:X,maxValue:de,minValue:Qt,name:xt}of g.parameterDescriptors){const Qe=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==m.parameterData[xt]?m.parameterData[xt]:void 0===X?0:X});Object.defineProperties(Qe.offset,{defaultValue:{get:()=>void 0===X?0:X},maxValue:{get:()=>void 0===de?In:de},minValue:{get:()=>void 0===Qt?jn:Qt}}),D.push(Qe)}const R=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+E)}),H=wk(p,f.sampleRate),z=a(f,H,y+E,Math.max(1,b)),M=s(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),$=[];for(let X=0;X<m.numberOfOutputs;X+=1)$.push(i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[X]}));for(let X=0;X<m.numberOfInputs;X+=1){S[X].connect(v[X]);for(let de=0;de<m.channelCount;de+=1)v[X].connect(R,de,X*m.channelCount+de)}const F=new mk(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map(({name:X},de)=>{const Qt=D[de];return Qt.connect(R,0,y+de),Qt.start(0),[X,Qt.offset]}));R.connect(z);let U=m.channelInterpretation,T=null;const k=0===m.numberOfOutputs?[z]:$,P={get bufferSize(){return H},get channelCount(){return m.channelCount},set channelCount(X){throw t()},get channelCountMode(){return m.channelCountMode},set channelCountMode(X){throw t()},get channelInterpretation(){return U},set channelInterpretation(X){for(const de of S)de.channelInterpretation=X;U=X},get context(){return z.context},get inputs(){return S},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return T},set onprocessorerror(X){"function"==typeof T&&P.removeEventListener("processorerror",T),T="function"==typeof X?X:null,"function"==typeof T&&P.addEventListener("processorerror",T)},get parameters(){return F},get port(){return w.port2},addEventListener:(...X)=>z.addEventListener(X[0],X[1],X[2]),connect:n.bind(null,k),disconnect:c.bind(null,k),dispatchEvent:(...X)=>z.dispatchEvent(X[0]),removeEventListener:(...X)=>z.removeEventListener(X[0],X[1],X[2])},B=new Map;var X;w.port1.addEventListener=(X=w.port1.addEventListener,(...de)=>{if("message"===de[0]){const Qt="function"==typeof de[1]?de[1]:"object"==typeof de[1]&&null!==de[1]&&"function"==typeof de[1].handleEvent?de[1].handleEvent:null;if(null!==Qt){const xt=B.get(de[1]);void 0!==xt?de[1]=xt:(de[1]=Qe=>{u(f.currentTime,f.sampleRate,()=>Qt(Qe))},B.set(Qt,de[1]))}}return X.call(w.port1,de[0],de[1],de[2])}),w.port1.removeEventListener=(X=>(...de)=>{if("message"===de[0]){const Qt=B.get(de[1]);void 0!==Qt&&(B.delete(de[1]),de[1]=Qt)}return X.call(w.port1,de[0],de[1],de[2])})(w.port1.removeEventListener);let re=null;Object.defineProperty(w.port1,"onmessage",{get:()=>re,set:X=>{"function"==typeof re&&w.port1.removeEventListener("message",re),re="function"==typeof X?X:null,"function"==typeof re&&(w.port1.addEventListener("message",re),w.port1.start())}}),g.prototype.port=w.port1;let we=null;((n,e,t,i)=>{let s=hv.get(n);void 0===s&&(s=new WeakMap,hv.set(n,s));const r=n$(t,i);return s.set(e,r),r})(f,P,g,m).then(X=>we=X);const Ve=Df(m.numberOfInputs,m.channelCount),Ie=Df(m.numberOfOutputs,_),_n=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce((X,{name:de})=>he(N({},X),{[de]:new Float32Array(128)}),{});let yn=!0;const ae=()=>{m.numberOfOutputs>0&&z.disconnect(M);for(let X=0,de=0;X<m.numberOfOutputs;X+=1){const Qt=$[X];for(let xt=0;xt<_[X];xt+=1)M.disconnect(Qt,de+xt,xt);de+=_[X]}},Je=new Map;z.onaudioprocess=({inputBuffer:X,outputBuffer:de})=>{if(null!==we){const Qt=h(P);for(let xt=0;xt<H;xt+=128){for(let Qe=0;Qe<m.numberOfInputs;Qe+=1)for(let Rt=0;Rt<m.channelCount;Rt+=1)Cf(X,Ve[Qe],Rt,Rt,xt);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach(({name:Qe},Rt)=>{Cf(X,_n,Qe,y+Rt,xt)});for(let Qe=0;Qe<m.numberOfInputs;Qe+=1)for(let Rt=0;Rt<_[Qe];Rt+=1)0===Ie[Qe][Rt].byteLength&&(Ie[Qe][Rt]=new Float32Array(128));try{const Qe=Ve.map((Ti,Lr)=>{if(Qt[Lr].size>0)return Je.set(Lr,H/128),Ti;const W0=Je.get(Lr);return void 0===W0?[]:(Ti.every(WZ=>WZ.every(YZ=>0===YZ))&&(1===W0?Je.delete(Lr):Je.set(Lr,W0-1)),Ti)});yn=u(f.currentTime+xt/f.sampleRate,f.sampleRate,()=>we.process(Qe,Ie,_n));for(let Ti=0,Lr=0;Ti<m.numberOfOutputs;Ti+=1){for(let Ou=0;Ou<_[Ti];Ou+=1)_k(de,Ie[Ti],Ou,Lr+Ou,xt);Lr+=_[Ti]}}catch(Qe){yn=!1,P.dispatchEvent(new ErrorEvent("processorerror",{colno:Qe.colno,filename:Qe.filename,lineno:Qe.lineno,message:Qe.message}))}if(!yn){for(let Qe=0;Qe<m.numberOfInputs;Qe+=1){S[Qe].disconnect(v[Qe]);for(let Rt=0;Rt<m.channelCount;Rt+=1)v[xt].disconnect(R,Rt,Qe*m.channelCount+Rt)}if(void 0!==g.parameterDescriptors){const Qe=g.parameterDescriptors.length;for(let Rt=0;Rt<Qe;Rt+=1){const Ti=D[Rt];Ti.disconnect(R,0,y+Rt),Ti.stop()}}R.disconnect(z),z.onaudioprocess=null,yt?ae():vl();break}}}};let yt=!1;const ne=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ms=()=>z.connect(ne).connect(f.destination),vl=()=>{z.disconnect(ne),ne.disconnect()};return Ms(),d(P,()=>{if(yn){vl(),m.numberOfOutputs>0&&z.connect(M);for(let X=0,de=0;X<m.numberOfOutputs;X+=1){const Qt=$[X];for(let xt=0;xt<_[X];xt+=1)M.connect(Qt,de+xt,xt);de+=_[X]}}yt=!0},()=>{yn&&(Ms(),ae()),yt=!1})})(Zk,bs,qt,kr,ru,ol,Hn,ou,gn,Xk,Av,_W,Ar),vW=((n,e,t,i,s)=>(r,o,a,l,c,u)=>{if(null!==a)try{const h=new a(r,l,u),d=new Map;let f=null;if(Object.defineProperties(h,{channelCount:{get:()=>u.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>f,set:p=>{"function"==typeof f&&h.removeEventListener("processorerror",f),f="function"==typeof p?p:null,"function"==typeof f&&h.addEventListener("processorerror",f)}}}),h.addEventListener=(p=h.addEventListener,(...g)=>{if("processorerror"===g[0]){const m="function"==typeof g[1]?g[1]:"object"==typeof g[1]&&null!==g[1]&&"function"==typeof g[1].handleEvent?g[1].handleEvent:null;if(null!==m){const _=d.get(g[1]);void 0!==_?g[1]=_:(g[1]=y=>{"error"===y.type?(Object.defineProperties(y,{type:{value:"processorerror"}}),m(y)):m(new ErrorEvent(g[0],N({},y)))},d.set(m,g[1]))}}return p.call(h,"error",g[1],g[2]),p.call(h,...g)}),h.removeEventListener=(p=>(...g)=>{if("processorerror"===g[0]){const m=d.get(g[1]);void 0!==m&&(d.delete(g[1]),g[1]=m)}return p.call(h,"error",g[1],g[2]),p.call(h,g[0],g[1],g[2])})(h.removeEventListener),0!==u.numberOfOutputs){const p=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(p).connect(r.destination),s(h,()=>p.disconnect(),()=>p.connect(r.destination))}return h}catch(h){throw 11===h.code?i():h}var p;if(void 0===c)throw i();return(n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}})(u),e(r,o,c,u)})(qt,yW,Hn,gn,Ar),bW=((n,e,t,i,s,r,o,a,l,c,u,h,d,f,p,g)=>(m,_,y)=>{const b=new WeakMap;let E=null;const w=function(){var S=Xe(function*(v,D){let R=u(v),H=null;const z=pn(R,D),M=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(null===h){const $=M.reduce((k,P)=>k+P,0),F=s(D,{channelCount:Math.max(1,$),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,$)}),U=[];for(let k=0;k<v.numberOfOutputs;k+=1)U.push(i(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[k]}));const T=o(D,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});T.connect=e.bind(null,U),T.disconnect=l.bind(null,U),H=[F,U,T]}else z||(R=new h(D,m));if(b.set(D,null===H?R:H[2]),null!==H){if(null===E){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const P=v.channelCount*v.numberOfInputs,B=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,re=P+B;E=vq(v,0===re?null:yield function(){var Pe=Xe(function*(){const Ve=new d(re,128*Math.ceil(v.context.length/128),D.sampleRate),Ie=[],_n=[];for(let Je=0;Je<_.numberOfInputs;Je+=1)Ie.push(o(Ve,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),_n.push(s(Ve,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const yn=yield Promise.all(Array.from(v.parameters.values()).map(function(){var Je=Xe(function*(yt){const ne=r(Ve,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:yt.value});return yield f(Ve,yt,ne.offset),ne});return function(yt){return Je.apply(this,arguments)}}())),ae=i(Ve,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,P+B)});for(let Je=0;Je<_.numberOfInputs;Je+=1){Ie[Je].connect(_n[Je]);for(let yt=0;yt<_.channelCount;yt+=1)_n[Je].connect(ae,yt,Je*_.channelCount+yt)}for(const[Je,yt]of yn.entries())yt.connect(ae,0,P+Je),yt.start(0);return ae.connect(Ve.destination),yield Promise.all(Ie.map(Je=>p(v,Ve,Je))),g(Ve)});return function(){return Pe.apply(this,arguments)}}()(),D,_,M,y,c)}const $=yield E,F=t(D,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[U,T,k]=H;null!==$&&(F.buffer=$,F.start(0)),F.connect(U);for(let P=0,B=0;P<v.numberOfOutputs;P+=1){const re=T[P];for(let we=0;we<M[P];we+=1)U.connect(re,B+we,we);B+=M[P]}return k}if(z)for(const[$,F]of v.parameters.entries())yield n(D,F,R.parameters.get($));else for(const[$,F]of v.parameters.entries())yield f(D,F,R.parameters.get($));return yield p(v,D,R),R});return function(D,R){return S.apply(this,arguments)}}();return{render(S,v){a(v,S);const D=b.get(v);return void 0!==D?Promise.resolve(D):w(S,v)}}})(ws,Zk,rl,kr,ru,ol,Hn,mW,Xk,Av,bt,sl,sn,Cs,ln,xf),wW=(n=>e=>n.get(e))(Wk),CW=(n=>(e,t)=>{n.set(e,t)})(Qk),Kk=Gk?((n,e,t,i,s,r,o,a,l,c,u,h,d,f)=>class extends e{constructor(g,m,_){var y;const b=a(g),E=l(b),w=(n=>he(N({},n),{outputChannelCount:void 0!==n.outputChannelCount?n.outputChannelCount:1===n.numberOfInputs&&1===n.numberOfOutputs?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}))(N(N({},mq),_));(n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}})(w);const S=uv.get(b),v=null==S?void 0:S.get(m),D=E||"closed"!==b.state?b:null!==(y=o(b))&&void 0!==y?y:b,R=s(D,E?null:g.baseLatency,c,m,v,w);super(g,!0,R,E?i(m,w,v):null);const z=[];R.parameters.forEach(($,F)=>{const U=t(this,E,$);z.push([F,U])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new mk(z),E&&n(b,this);const{activeInputs:M}=r(this);h(R,M)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const m="function"==typeof g?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;const _=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==_&&_===m?g:_}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(gW,Nt,Zi,bW,vW,On,wW,_t,ut,sl,0,CW,0,il):void 0,Jk=((n,e)=>(t,i,s)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,i,s)}catch(r){throw"SyntaxError"===r.name?n():r}})(gn,sn),eI=((n,e,t,i,s,r,o,a)=>(l,c)=>t(l).render(l,c).then(()=>Promise.all(Array.from(i(c)).map(u=>t(u).render(u,c)))).then(()=>s(c)).then(u=>("function"!=typeof u.copyFromChannel?(o(u),fv(u)):e(r,()=>r(u))||a(u),n.add(u),u)))(Sv,oi,Cv,kv,xf,gf,Tv,xv),DW=((n,e,t,i,s)=>class extends n{constructor(o,a,l){let c;if("number"==typeof o&&void 0!==a&&void 0!==l)c={length:a,numberOfChannels:o,sampleRate:l};else{if("object"!=typeof o)throw new Error("The given parameters are not valid.");c=o}const{length:u,numberOfChannels:h,sampleRate:d}=N(N({},M$),c),f=i(h,u,d);e(Co,()=>Co(f))||f.addEventListener("statechange",(()=>{let p=0;const g=m=>{"running"===this._state&&(p>0?(f.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):p+=1)};return g})()),super(f,h),this._length=u,this._nativeOfflineAudioContext=f,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(t()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,mf(this)}))}_waitForThePromiseToSettle(o){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}})(Yk,oi,qt,Jk,eI),EW=((n,e)=>t=>{const i=n.get(t);return e(i)||e(t)})(ff,Dv),SW=((n,e)=>t=>n.has(t)||e(t))(av,Ev),TW=((n,e)=>t=>n.has(t)||e(t))(lv,Pk),xW=((n,e)=>t=>{const i=n.get(t);return e(i)||e(t)})(ff,ut);var n;function ge(n,e){if(!n)throw new Error(e)}function Ds(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function tI(n){!n.isOffline&&"running"!==n.state&&Ov('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Iv=console;function Ov(...n){Iv.warn(...n)}function ai(n){return void 0===n}function ke(n){return!ai(n)}function Es(n){return"number"==typeof n}function Ir(n){return"[object Object]"===Object.prototype.toString.call(n)&&n.constructor===Object}function nI(n){return"boolean"==typeof n}function zn(n){return Array.isArray(n)}function Ss(n){return"string"==typeof n}function Af(n){return Ss(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function IW(n,e,t){return new DW(n,e,t)}const Eo="object"==typeof self?self:null,OW=Eo&&(Eo.hasOwnProperty("AudioContext")||Eo.hasOwnProperty("webkitAudioContext"));function Xi(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}function Lt(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):function s(r){return r instanceof t?r:new t(function(o){o(r)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}class NW{constructor(e,t,i){this._callback=e,this._type=t,this._updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),i=new Worker(t);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function So(n){return TW(n)}function Or(n){return SW(n)}function If(n){return xW(n)}function al(n){return EW(n)}function oI(n){return n instanceof AudioBuffer}function LW(n,e){return"value"===n||So(e)||Or(e)||oI(e)}function To(n,...e){if(!e.length)return n;const t=e.shift();if(Ir(n)&&Ir(t))for(const i in t)LW(i,t[i])?n[i]=t[i]:Ir(t[i])?(n[i]||Object.assign(n,{[i]:{}}),To(n[i],t[i])):Object.assign(n,{[i]:t[i]});return To(n,...e)}function I(n,e,t=[],i){const s={},r=Array.from(e);if(Ir(r[0])&&i&&!Reflect.has(r[0],i)&&(Object.keys(r[0]).some(a=>Reflect.has(n,a))||(To(s,{[i]:r[0]}),t.splice(t.indexOf(i),1),r.shift())),1===r.length&&Ir(r[0]))To(s,r[0]);else for(let o=0;o<t.length;o++)ke(r[o])&&(s[t[o]]=r[o]);return To(n,s)}function Ts(n,e){return ai(n)?e:n}function Fv(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}let Rr=(()=>{class n{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Eo&&this.toString()===Eo.TONE_DEBUG_CLASS)&&function MW(...n){Iv.log(...n)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return n.version=ov,n})();const Pv=1e-6;function Of(n,e){return n>e+Pv}function Nv(n,e){return Of(n,e)||Qi(n,e)}function aI(n,e){return n+Pv<e}function Qi(n,e){return Math.abs(n-e)<Pv}class xs extends Rr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=I(xs.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ge(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length)ge(Nv(e.time,this._timeline[this.length-1].time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e);else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}return this.length>this.memory&&this._timeline.splice(0,this.length-this.memory),this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e,t="time"){const i=this._search(e,t);return-1!==i?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const i=this._search(e,t);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Qi(this._timeline[t].time,e)){for(let i=t;i>=0&&Qi(this._timeline[i].time,e);i--)t=i;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&Nv(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(0===this._timeline.length)return-1;let i=0;const s=this._timeline.length;let r=s;if(s>0&&this._timeline[s-1][t]<=e)return s-1;for(;i<r;){let o=Math.floor(i+(r-i)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Qi(a[t],e)){for(let c=o;c<this._timeline.length&&Qi(this._timeline[c][t],e);c++)o=c;return o}if(aI(a[t],e)&&Of(l[t],e))return o;Of(a[t],e)?r=o:i=o+1}return-1}_iterate(e,t=0,i=this._timeline.length-1){this._timeline.slice(t,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const i=this._search(e);return-1!==i&&this._iterate(t,0,i),this}forEachAfter(e,t){const i=this._search(e);return this._iterate(t,i+1),this}forEachBetween(e,t,i){let s=this._search(e),r=this._search(t);return-1!==s&&-1!==r?(this._timeline[s].time!==e&&(s+=1),this._timeline[r].time===t&&(r-=1),this._iterate(i,s,r)):-1===s&&this._iterate(i,0,r),this}forEachFrom(e,t){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(t,i+1),this}forEachAtTime(e,t){const i=this._search(e);if(-1!==i&&Qi(this._timeline[i].time,e)){let s=i;for(let r=i;r>=0&&Qi(this._timeline[r].time,e);r--)s=r;this._iterate(r=>{t(r)},s,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const lI=[];function Rf(n){lI.push(n)}const cI=[];function Ff(n){cI.push(n)}class lu extends Rr{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(s=>{ai(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(t)}),this}once(e,t){const i=(...s)=>{t(...s),this.off(e,i)};return this.on(e,i),this}off(e,t){return e.split(/\W+/).forEach(s=>{if(ai(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(ai(t))this._events[e]=[];else{const r=this._events[e];for(let o=r.length-1;o>=0;o--)r[o]===t&&r.splice(o,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let s=0,r=i.length;s<r;s++)i[s].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const i=Object.getOwnPropertyDescriptor(lu.prototype,t);Object.defineProperty(e.prototype,t,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class uI extends lu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class cu extends uI{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new xs,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=I(cu.getDefaults(),arguments,["context"]);this._context=e.context?e.context:function kW(n){return new pW(n)}({latencyHint:e.latencyHint}),this._ticker=new NW(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(function HW(n){lI.forEach(e=>e(n))}(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,i){return this._context.createBuffer(e,t,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,i){return this._context.createPeriodicWave(e,t,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ge(al(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ge(al(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ge(al(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ge(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ge(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ge(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ge(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function RW(n,e,t){return ge(ke(Kk),"This node only works in a secure context (https or localhost)"),new Kk(n,e,t)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return Lt(this,void 0,void 0,function*(){ge(ke(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)})}workletsAreReady(){return Lt(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(t=>e.push(t)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,Ss(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return al(this._context)?this._context.resume():Promise.resolve()}close(){return Lt(this,void 0,void 0,function*(){al(this._context)&&(yield this._context.close()),this._initialized&&function zW(n){cI.forEach(e=>e(n))}(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),i=t.getChannelData(0);for(let r=0;r<i.length;r++)i[r]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=t,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const i=++this._timeoutIds,s=()=>{const r=this.now();this._timeouts.add({callback:()=>{e(),s()},id:i,time:r+t})};return s(),i}}function Ge(n,e){zn(e)?e.forEach(t=>Ge(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function hI(n,e){zn(e)?e.forEach(t=>hI(n,t)):Object.defineProperty(n,e,{writable:!0})}const it=()=>{};let Zs=(()=>{class n extends Rr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=it;const t=I(n.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&oI(t.url)||t.url instanceof n?this.set(t.url):Ss(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:it,onload:it,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Di().sampleRate}set(t){return t instanceof n?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Lt(this,void 0,void 0,function*(){const i=n.load(t).then(s=>{this.set(s),this.onload(this)});n.downloads.push(i);try{yield i}finally{const s=n.downloads.indexOf(i);n.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const i=zn(t)&&t[0].length>0,s=i?t.length:1,r=i?t[0].length:t.length,o=Di(),a=o.createBuffer(s,r,o.sampleRate),l=i||1!==s?t:[t];for(let c=0;c<s;c++)a.copyToChannel(l[c],c);return this._buffer=a,this}toMono(t){if(Es(t))this.fromArray(this.toArray(t));else{let i=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const o=this.toArray(r);for(let a=0;a<o.length;a++)i[a]+=o[a]}i=i.map(r=>r/s),this.fromArray(i)}return this}toArray(t){if(Es(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const i=[];for(let s=0;s<this.numberOfChannels;s++)i[s]=this.getChannelData(s);return i}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,i=this.duration){const s=Math.floor(t*this.sampleRate),r=Math.floor(i*this.sampleRate);ge(s<r,"The start time must be less than the end time");const o=r-s,a=Di().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let l=0;l<this.numberOfChannels;l++)a.copyToChannel(this.getChannelData(l).subarray(s,r),l);return new n(a)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new n).fromArray(t)}static fromUrl(t){return Lt(this,void 0,void 0,function*(){return yield(new n).load(t)})}static load(t){return Lt(this,void 0,void 0,function*(){const i=t.match(/\[([^\]\[]+\|.+)\]$/);if(i){const l=i[1].split("|");let c=l[0];for(const u of l)if(n.supportsType(u)){c=u;break}t=t.replace(i[0],c)}const s=""===n.baseUrl||n.baseUrl.endsWith("/")?n.baseUrl:n.baseUrl+"/",r=yield fetch(s+t);if(!r.ok)throw new Error(`could not load url: ${t}`);const o=yield r.arrayBuffer();return yield Di().decodeAudioData(o)})}static supportsType(t){const i=t.split("."),s=i[i.length-1];return""!==document.createElement("audio").canPlayType("audio/"+s)}static loaded(){return Lt(this,void 0,void 0,function*(){for(yield Promise.resolve();n.downloads.length;)yield n.downloads[0]})}}return n.baseUrl="",n.downloads=[],n})();class Pf extends cu{constructor(){super({clockSource:"offline",context:If(arguments[0])?arguments[0]:IW(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:If(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=If(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Lt(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const i=Math.floor(this.sampleRate/128);e&&t%i==0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return Lt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Zs(t)})}close(){return Promise.resolve()}}const dI=new class UW extends uI{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return Lt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let ll=dI;function Di(){return ll===dI&&OW&&function qW(n){ll=al(n)?new cu(n):If(n)?new Pf(n):n}(new cu),ll}if(Eo&&!Eo.TONE_SILENCE_LOGGING){console.log(`%c * Tone.js ${"v"}${ov} * `,"background: #000; color: #fff")}function fI(n){return Math.pow(2,n/12)}let Nf=440;function xo(n){return Math.round(pI(n))}function pI(n){return 69+12*Math.log2(n/Nf)}function gI(n){return Nf*Math.pow(2,(n-69)/12)}class Lv extends Rr{constructor(e,t,i){super(),this.defaultUnits="s",this._val=t,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const i=parseInt(e,10),s="."===t?1.5:1;return 1===i?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/i)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,i)=>{let s=0;return e&&"0"!==e&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s+=this._beatsToUnits(parseFloat(t))),i&&"0"!==i&&(s+=this._beatsToUnits(parseFloat(i)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Lv&&this.fromType(this._val),ai(this._val))return this._noArg();if(Ss(this._val)&&ai(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Ir(this._val)){let e=0;for(const t in this._val)if(ke(this._val[t])){const i=this._val[t];e+=new this.constructor(this.context,t).valueOf()*i}return e}if(ke(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return Ss(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Ei extends Lv{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Ei(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const i=new this.constructor(this.context,e).valueOf(),s=this.valueOf();return s+(Math.round(s/i)*i-s)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let r=1;r<9;r++){const o=Math.pow(2,r);t.push(o+"n."),t.push(o+"n"),t.push(o+"t")}t.push("0");let i=t[0],s=new Ei(this.context,t[0]).toSeconds();return t.forEach(r=>{const o=new Ei(this.context,r).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(i=r,s=o)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const i=Math.floor(t/this._getTimeSignature());let s=t%1*4;t=Math.floor(t)%this._getTimeSignature();const r=s.toString();return r.length>3&&(s=parseFloat(parseFloat(r).toFixed(3))),[i,t,s].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return xo(this.toFrequency())}_now(){return this.context.now()}}class Un extends Ei{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return function WW(){return Nf}()}static set A4(e){!function YW(n){Nf=n}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:Un.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const s=ZW[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?s:Un.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,i){let s=1;return e&&"0"!==e&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s*=this._beatsToUnits(parseFloat(t))),i&&"0"!==i&&(s*=this._beatsToUnits(parseFloat(i)/4)),s}}})}transpose(e){return new Un(this.context,this.valueOf()*fI(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return xo(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Un.A4);let i=Math.round(12*t)+57;const s=Math.floor(i/12);return s<0&&(i+=-12*s),XW[i%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return gI(e)}static ftom(e){return xo(e)}}const ZW={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},XW=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Mo extends Ei{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class mn extends Rr{constructor(){super();const e=I(mn.getDefaults(),arguments,["context"]);this.context=this.defaultContext?this.defaultContext:e.context}static getDefaults(){return{context:Di()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Ei(this.context,e).toSeconds()}toFrequency(e){return new Un(this.context,e).toFrequency()}toTicks(e){return new Mo(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(i=>{ai(e[i])&&delete t[i]}),t}get(){const e=function BW(n){return n.constructor.getDefaults()}(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const i=this[t];ke(i)&&ke(i.value)&&ke(i.setValueAtTime)?e[t]=i.value:i instanceof mn?e[t]=i._getPartialProperties(e[t]):zn(i)||Es(i)||Ss(i)||nI(i)?e[t]=i:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&ke(this[t])&&(this[t]&&ke(this[t].value)&&ke(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof mn?this[t].set(e[t]):this[t]=e[t])}),this}}class uu extends xs{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,i){return Ds(t,0),this.add(Object.assign({},i,{state:e,time:t})),this}getLastState(e,t){for(let s=this._search(t);s>=0;s--){const r=this._timeline[s];if(r.state===e)return r}}getNextState(e,t){const i=this._search(t);if(-1!==i)for(let s=i;s<this._timeline.length;s++){const r=this._timeline[s];if(r.state===e)return r}}}class ze extends mn{constructor(){super(I(ze.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=I(ze.getDefaults(),arguments,["param","units","convert"]);for(ge(ke(e.param)&&(So(e.param)||e.param instanceof ze),"param must be an AudioParam");!So(e.param);)e.param=e.param._param;this._swappable=!!ke(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new xs(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ke(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(mn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ke(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return ke(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return ke(this.maxValue)&&ke(this.minValue)&&Ds(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?function $W(n){return Math.pow(10,n/20)}(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?function GW(n){return Math.log(n)/Math.LN10*20}(e):e}setValueAtTime(e,t){const i=this.toSeconds(t),s=this._fromType(e);return ge(isFinite(s)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,i),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),i=this._events.getAfter(t),s=this._events.get(t);let r=this._initialValue;if(null===s)r=this._initialValue;else if("setTargetAtTime"!==s.type||null!==i&&"setValueAtTime"!==i.type)if(null===i)r=s.value;else if("linearRampToValueAtTime"===i.type||"exponentialRampToValueAtTime"===i.type){let o=s.value;if("setTargetAtTime"===s.type){const a=this._events.getBefore(s.time);o=null===a?this._initialValue:a.value}r="linearRampToValueAtTime"===i.type?this._linearInterpolate(s.time,o,i.time,i.value,t):this._exponentialInterpolate(s.time,o,i.time,i.value,t)}else r=s.value;else{const o=this._events.getBefore(s.time);let a;a=null===o?this._initialValue:o.value,"setTargetAtTime"===s.type&&(r=this._exponentialApproach(s.time,a,s.value,s.constant,t))}return this._toType(r)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const i=this._fromType(e),s=this.toSeconds(t);return ge(isFinite(i)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(i),this._events.add({time:s,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(i,s),this}exponentialRampToValueAtTime(e,t){let i=this._fromType(e);i=Qi(i,0)?this._minOutput:i,this._assertRange(i);const s=this.toSeconds(t);return ge(isFinite(i)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(i,s),this}exponentialRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(t)),this}linearRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(t)),this}targetRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,t),this}exponentialApproachValueAtTime(e,t,i){t=this.toSeconds(t),i=this.toSeconds(i);const s=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,t,s),this.cancelAndHoldAtTime(t+.9*i),this.linearRampToValueAtTime(e,t+i),this}setTargetAtTime(e,t,i){const s=this._fromType(e);ge(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(t);return this._assertRange(s),ge(isFinite(s)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:i,time:r,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,r,i),this._param.setTargetAtTime(s,r,i),this}setValueCurveAtTime(e,t,i,s=1){i=this.toSeconds(i),t=this.toSeconds(t);const r=this._fromType(e[0])*s;this.setValueAtTime(this._toType(r),t);const o=i/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),t+a*o)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return ge(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),i=this._fromType(this.getValueAtTime(t));ge(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+i);const s=this._events.get(t),r=this._events.getAfter(t);return s&&Qi(s.time,t)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(i),t):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(i),t)),this._events.add({time:t,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,t),this}rampTo(e,t=.1,i){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,i):this.linearRampTo(e,t,i),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const i=this._events.get(t);if(i&&"setTargetAtTime"===i.type){const s=this._events.getAfter(i.time),r=s?s.time:t+2,o=(r-t)/10;for(let a=t;a<r;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{"cancelScheduledValues"===s.type?e.cancelScheduledValues(s.time):"setTargetAtTime"===s.type?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){ge(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,i,s,r){return i+(t-i)*Math.exp(-(r-e)/s)}_linearInterpolate(e,t,i,s,r){return t+(r-e)/(i-e)*(s-t)}_exponentialInterpolate(e,t,i,s,r){return t*Math.pow(s/t,(r-e)/(i-e))}}class oe extends mn{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return ke(this.input)?So(this.input)||this.input instanceof ze?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ke(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ke(e)&&(e instanceof oe||Or(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ge(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,i=0){return Ki(this,e,t,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ov("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,i=0){return mI(this,e,t,i),this}chain(...e){return cl(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),ke(this.input)&&(this.input instanceof oe?this.input.dispose():Or(this.input)&&this.input.disconnect()),ke(this.output)&&(this.output instanceof oe?this.output.dispose():Or(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function cl(...n){const e=n.shift();n.reduce((t,i)=>(t instanceof oe?t.connect(i):Or(t)&&Ki(t,i),i),e)}function Ki(n,e,t=0,i=0){for(ge(ke(n),"Cannot connect from undefined node"),ge(ke(e),"Cannot connect to undefined node"),(e instanceof oe||Or(e))&&ge(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ge(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof oe||e instanceof ze;)ke(e.input)&&(e=e.input);for(;n instanceof oe;)ke(n.output)&&(n=n.output);So(e)?n.connect(e,t):n.connect(e,t,i)}function mI(n,e,t=0,i=0){if(ke(e))for(;e instanceof oe;)e=e.input;for(;!Or(n);)ke(n.output)&&(n=n.output);So(e)?n.disconnect(e,t):Or(e)?n.disconnect(e,t,i):n.disconnect()}class ht extends oe{constructor(){super(I(ht.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=I(ht.getDefaults(),arguments,["gain","units"]);this.gain=new ze({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ge(this,"gain")}static getDefaults(){return Object.assign(oe.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ul extends oe{constructor(e){super(e),this.onended=it,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ht({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const i=this.toSeconds(t);return-1!==this._startTime&&i>=this._startTime&&(-1===this._stopTime||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(oe.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:it})}_startGain(e,t=1){ge(-1===this._startTime,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+i):this._gainNode.gain.exponentialApproachValueAtTime(t,e,i)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ge(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i="exponential"===this._curve?2*t:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==it&&(this.onended(this),this.onended=it,!this.context.isOffline)){const e=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ge(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Lf extends ul{constructor(){super(I(Lf.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=I(Lf.getDefaults(),arguments,["offset"]);Ki(this._source,this._gainNode),this.offset=new ze({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ul.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class pt extends oe{constructor(){super(I(pt.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=I(pt.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Lf({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(oe.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,i=0){return Vf(this,e,t,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,i){return this._param.exponentialRampTo(e,t,i),this}linearRampTo(e,t,i){return this._param.linearRampTo(e,t,i),this}targetRampTo(e,t,i){return this._param.targetRampTo(e,t,i),this}exponentialApproachValueAtTime(e,t,i){return this._param.exponentialApproachValueAtTime(e,t,i),this}setTargetAtTime(e,t,i){return this._param.setTargetAtTime(e,t,i),this}setValueCurveAtTime(e,t,i,s){return this._param.setValueCurveAtTime(e,t,i,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,i){return this._param.rampTo(e,t,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Vf(n,e,t,i){(e instanceof ze||So(e)||e instanceof pt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof pt&&(e.overridden=!0)),Ki(n,e,t,i)}class Bf extends ze{constructor(){super(I(Bf.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new xs(1/0),this._multiplier=1;const e=I(Bf.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ze.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,i){t=this.toSeconds(t),this.setRampPoint(t);const s=this._fromType(e),r=this._events.get(t),o=Math.round(Math.max(1/i,1));for(let a=0;a<=o;a++){const l=i*a+t,c=this._exponentialApproach(r.time,r.value,s,i,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,t){const i=this.toSeconds(t);super.setValueAtTime(e,t);const s=this._events.get(i),r=this._events.previousEvent(s),o=this._getTicksUntilEvent(r,i);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,t){const i=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const s=this._events.get(i),r=this._events.previousEvent(s),o=this._getTicksUntilEvent(r,i);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const i=this._fromType(e),s=this._events.get(t),r=Math.round(Math.max(10*(t-s.time),1)),o=(t-s.time)/r;for(let a=0;a<=r;a++){const l=o*a+s.time,c=this._exponentialInterpolate(s.time,s.value,t,i,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ai(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(t));const r=this._events.get(t);return r&&r.time===t&&"setValueAtTime"===r.type&&(s=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(i+s)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),i=this._events.get(t);return Math.max(this._getTicksUntilEvent(i,t),0)}getDurationOfTicks(e,t){const i=this.toSeconds(t),s=this.getTicksAtTime(t);return this.getTimeOfTick(s+e)-i}getTimeOfTick(e){const t=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&i&&"linearRampToValueAtTime"===i.type&&t.value!==i.value){const s=this._fromType(this.getValueAtTime(t.time)),o=(this._fromType(this.getValueAtTime(i.time))-s)/(i.time-t.time),a=Math.sqrt(Math.pow(s,2)-2*o*(t.ticks-e)),l=(-s+a)/o,c=(-s-a)/o;return(l>0?l:c)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const i=this.toSeconds(t),s=this.toSeconds(e),r=this.getTicksAtTime(i);return this.getTicksAtTime(i+s)-r}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class jf extends pt{constructor(){super(I(jf.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=I(jf.getDefaults(),arguments,["value"]);this.input=this._param=new Bf({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(pt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Hf extends mn{constructor(){super(I(Hf.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new uu,this._tickOffset=new xs;const e=I(Hf.getDefaults(),arguments,["frequency"]);this.frequency=new jf({context:this.context,units:e.units,value:e.frequency}),Ge(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},mn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const i=this.toSeconds(e);return"started"!==this._state.getValueAtTime(i)&&(this._state.setStateAtTime("started",i),ke(t)&&this.setTicksAtTime(t,i)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const i=this._state.get(t);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),i=this._state.getLastState("stopped",t),s={state:"paused",time:t};this._state.add(s);let r=i,o=0;return this._state.forEachBetween(i.time,t+this.sampleTime,a=>{let l=r.time;const c=this._tickOffset.get(a.time);c&&c.time>=r.time&&(o=c.ticks,l=c.time),"started"===r.state&&"started"!==a.state&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(l)),r=a}),this._state.remove(s),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),i=this.frequency.timeToTicks(e,t);this.setTicksAtTime(i,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);let s=t,r=0;return this._state.forEachBetween(t.time,e+this.sampleTime,o=>{let a=s.time;const l=this._tickOffset.get(o.time);l&&l.time>=s.time&&(r=l.seconds,a=l.time),"started"===s.state&&"started"!==o.state&&(r+=o.time-a),s=o}),this._state.remove(i),r}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const i=this._tickOffset.get(t),s=this._state.get(t),r=Math.max(i.time,s.time),o=this.frequency.getTicksAtTime(r)+e-i.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,t,i){let s=this._state.get(e);this._state.forEachBetween(e,t,o=>{s&&"started"===s.state&&"started"!==o.state&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,i),s=o});let r=null;if(s&&"started"===s.state){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),c=a-this.frequency.getTicksAtTime(s.time);let u=Math.ceil(c)-c;u=Qi(u,1)?0:u;let h=this.frequency.getTimeOfTick(a+u);for(;h<t;){try{i(h,Math.round(this.getTicksAtTime(h)))}catch(d){r=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class hu extends mn{constructor(){super(I(hu.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=it,this._lastUpdate=0,this._state=new uu("stopped"),this._boundLoop=this._loop.bind(this);const e=I(hu.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Hf({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ge(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(mn.getDefaults(),{callback:it,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){tI(this.context);const i=this.toSeconds(e);return this.log("start",i),"started"!==this._state.getValueAtTime(i)&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,t),i<this._lastUpdate&&this.emit("start",i,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const i=this.toSeconds(t),s=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(s+e,i)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,i=>{switch(i.state){case"started":const s=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,s);break;case"stopped":0!==i.time&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time)}}),this._tickSource.forEachTickBetween(e,t,(i,s)=>{this.callback(i,s)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}lu.mixin(hu);class hl extends oe{constructor(){super(I(hl.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=I(hl.getDefaults(),arguments,["delayTime","maxDelay"]),t=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(t,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(t),this.delayTime=new ze({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Ge(this,"delayTime")}static getDefaults(){return Object.assign(oe.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Vv extends Rr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=I(Vv.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++,this.add(t,e.urls[t],this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:it,onload:it,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ge(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,i=it,s=it){return Ss(t)?this._buffers.set(e.toString(),new Zs(this.baseUrl+t,i,s)):this._buffers.set(e.toString(),new Zs(t,i,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class du extends Un{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return xo(super._frequencyToUnits(e))}_ticksToUnits(e){return xo(super._ticksToUnits(e))}_beatsToUnits(e){return xo(super._beatsToUnits(e))}_secondsToUnits(e){return xo(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return gI(this.toMidi())}transpose(e){return new du(this.context,this.toMidi()+e)}}class Tt extends Mo{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class QW extends mn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Rf(n=>{n.draw=new QW({context:n})}),Ff(n=>{n.draw.dispose()});class KW extends Rr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ge(ke(e.time),"Events must have a time property"),ge(ke(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new JW(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const i of t)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let i,s=null;if(e.getBalance()>0)if(null===e.left.right)i=e.left,i.right=e.right,s=i;else{for(i=e.left.right;null!==i.right;)i=i.right;i.parent&&(i.parent.right=i.left,s=i.parent,i.left=e.left,i.right=e.right)}else if(null===e.right.left)i=e.right,i.left=e.left,s=i;else{for(i=e.right.left;null!==i.left;)i=i.left;i.parent&&(i.parent.left=i.right,s=i.parent,i.left=e.left,i.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const t=e.parent,i=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),null!==t?i?t.left=s:t.right=s:this._setRoot(s)}_rotateRight(e){const t=e.parent,i=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),null!==t?i?t.left=s:t.right=s:this._setRoot(s)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let i=t[0];for(let s=1;s<t.length;s++)t[s].low>i.low&&(i=t[s]);return i.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse(i=>t.push(i)),t.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,t){if(null!==this._root){const i=[];this._root.search(e,i),i.forEach(s=>{s.event&&t(s.event)})}return this}forEachFrom(e,t){if(null!==this._root){const i=[];this._root.searchAfter(e,i),i.forEach(s=>{s.event&&t(s.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class JW{constructor(e,t,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ao extends oe{constructor(){super(I(Ao.getDefaults(),arguments,["volume"])),this.name="Volume";const e=I(Ao.getDefaults(),arguments,["volume"]);this.input=this.output=new ht({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ge(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class zf extends oe{constructor(){super(I(zf.getDefaults(),arguments)),this.name="Destination",this.input=new Ao({context:this.context}),this.output=new ht({context:this.context}),this.volume=this.input.volume;const e=I(zf.getDefaults(),arguments);cl(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),cl(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Rf(n=>{n.destination=new zf({context:n})}),Ff(n=>{n.destination.dispose()});class eY extends Rr{constructor(e){super(),this.name="TimelineValue",this._timeline=new xs({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}let Uf=(()=>{class n{constructor(t,i){this.id=n._eventId++;const s=Object.assign(n.getDefaults(),i);this.transport=t,this.callback=s.callback,this._once=s.once,this.time=s.time}static getDefaults(){return{callback:it,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}return n._eventId=0,n})();class Bv extends Uf{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Bv.getDefaults(),t);this.duration=new Tt(e.context,i.duration).valueOf(),this._interval=new Tt(e.context,i.interval).valueOf(),this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Uf.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Tt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Tt(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Tt(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class fu extends mn{constructor(){super(I(fu.getDefaults(),arguments)),this.name="Transport",this._loop=new eY(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xs,this._repeatedEvents=new KW,this._syncedSignals=[],this._swingAmount=0;const e=I(fu.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new hu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ge(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(mn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){const s=Math.sin(t%(2*this._swingTicks)/(2*this._swingTicks)*Math.PI)*this._swingAmount;e+=new Tt(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(t,i=>i.invoke(e))}schedule(e,t){const i=new Uf(this,{callback:e,time:new Mo(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,t,i,s=1/0){const r=new Bv(this,{callback:e,duration:new Ei(this.context,s).toTicks(),interval:new Ei(this.context,t).toTicks(),time:new Mo(this.context,i).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(e,t){const i=new Uf(this,{callback:e,once:!0,time:new Mo(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(t,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new Tt(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let i;return ke(t)&&(i=this.toTicks(t)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){zn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ei(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ei(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Tt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Tt(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),i=this._clock.frequency.timeToTicks(e,t);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const i=this._clock.getTicksAtTime(t),r=t+this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,t);this.emit("stop",r),this._clock.setTicksAtTime(e,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),i=this.getTicksAtTime(t);return this._clock.nextTickTime(e-i%e,t)}}syncSignal(e,t){if(!t){const s=this.now();if(0!==e.getValueAtTime(s)){const o=1/(60/this.bpm.getValueAtTime(s)/this.PPQ);t=e.getValueAtTime(s)/o}else t=0}const i=new ht(t);return this.bpm.connect(i),i.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:i,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const i=this._syncedSignals[t];i.signal===e&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),hI(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}lu.mixin(fu),Rf(n=>{n.transport=new fu({context:n})}),Ff(n=>{n.transport.dispose()});class Rn extends oe{constructor(e){super(e),this.input=void 0,this._state=new uu("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=it,this._syncedStop=it,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ao({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ge(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,onstop:it,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,i){let s=ai(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const r=this._state.get(s);r&&(r.offset=this.toSeconds(Ts(t,0)),r.duration=i?this.toSeconds(i):void 0);const o=this.context.transport.schedule(a=>{this._start(a,t,i)},s);this._scheduled.push(o),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else tI(this.context),this._start(s,t,i);else ge(Of(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,t,i);return this}stop(e){let t=ai(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||ke(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const i=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(i)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,i){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const i=this._state.get(t);if(i&&"started"===i.state&&i.time!==t){const s=t-this.toSeconds(i.time);let r;i.duration&&(r=this.toSeconds(i.duration)-s),this._start(e,this.toSeconds(i.offset)+s,r)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=it,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class dl extends ul{constructor(){super(I(dl.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=I(dl.getDefaults(),arguments,["url","onload"]);Ki(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ze({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Zs(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ul.getDefaults(),{url:new Zs,loop:!1,loopEnd:0,loopStart:0,onload:it,onerror:it,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,i,s=1){ge(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(e);this._startGain(r,s),t=Ts(t,this.loop?this.loopStart:0);let o=Math.max(this.toSeconds(t),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;Nv(o,a)&&(o=(o-l)%c+l),Qi(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,aI(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,o)),ke(i)){let a=this.toSeconds(i);a=Math.max(a,0),this.stop(r+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class pu extends Rn{constructor(){super(I(pu.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=I(pu.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Rn.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(ge(e in _I,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=_I[this._type];this._source=new dl({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const fl=220500,Xs={brown:null,pink:null,white:null},_I={get brown(){if(!Xs.brown){const n=[];for(let e=0;e<2;e++){const t=new Float32Array(fl);n[e]=t;let i=0;for(let s=0;s<fl;s++){const r=2*Math.random()-1;t[s]=(i+.02*r)/1.02,i=t[s],t[s]*=3.5}}Xs.brown=(new Zs).fromArray(n)}return Xs.brown},get pink(){if(!Xs.pink){const n=[];for(let e=0;e<2;e++){const t=new Float32Array(fl);let i,s,r,o,a,l,c;n[e]=t,i=s=r=o=a=l=c=0;for(let u=0;u<fl;u++){const h=2*Math.random()-1;i=.99886*i+.0555179*h,s=.99332*s+.0750759*h,r=.969*r+.153852*h,o=.8665*o+.3104856*h,a=.55*a+.5329522*h,l=-.7616*l-.016898*h,t[u]=i+s+r+o+a+l+c+.5362*h,t[u]*=.11,c=.115926*h}}Xs.pink=(new Zs).fromArray(n)}return Xs.pink},get white(){if(!Xs.white){const n=[];for(let e=0;e<2;e++){const t=new Float32Array(fl);n[e]=t;for(let i=0;i<fl;i++)t[i]=2*Math.random()-1}Xs.white=(new Zs).fromArray(n)}return Xs.white}};function ko(n,e){return Lt(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,i=new Pf(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class qf extends ul{constructor(){super(I(qf.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=I(qf.getDefaults(),arguments,["frequency","type"]);Ki(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ze({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ze({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ge(this,["frequency","detune"])}static getDefaults(){return Object.assign(ul.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}let qn=(()=>{class n extends Rn{constructor(){super(I(n.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=I(n.getDefaults(),arguments,["frequency","type"]);this.frequency=new pt({context:this.context,units:"frequency",value:t.frequency}),Ge(this,"frequency"),this.detune=new pt({context:this.context,units:"cents",value:t.detune}),Ge(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Rn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const i=this.toSeconds(t),s=new qf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(t){const i=this.toSeconds(t);this._oscillator&&this._oscillator.stop(i)}_restart(t){const i=this.toSeconds(t);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return n._periodicWaveCache.find(i=>i.phase===this._phase&&function VW(n,e){return n.length===e.length&&n.every((t,i)=>e[i]===t)}(i.partials,this._partials));{const t=n._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const i=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&i)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const s=this._getCachedPeriodicWave();if(ke(s)){const{partials:r,wave:o}=s;this._wave=o,this._partials=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,o]=this._getRealImaginary(t,this._phase),a=this.context.createPeriodicWave(r,o);this._wave=a,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),n._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),n._periodicWaveCache.length>100&&n._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.type=this.partialCount&&"custom"!==this._type&&"custom"!==t?t+this.partialCount:t}get partialCount(){return this._partialCount}set partialCount(t){Ds(t,0);let i=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(i=s[1]),"custom"!==this._type)this.type=0===t?i:i+t.toString();else{const r=new Float32Array(t);this._partials.forEach((o,a)=>r[a]=o),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(t,i){let r=2048;const o=new Float32Array(r),a=new Float32Array(r);let l=1;if("custom"===t){if(l=this._partials.length+1,this._partialCount=this._partials.length,r=l,0===this._partials.length)return[o,a]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);c?(l=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),t=c[1],l=Math.max(l,2),r=l):this._partialCount=0,this._partials=[]}for(let c=1;c<r;++c){const u=2/(c*Math.PI);let h;switch(t){case"sine":h=c<=l?1:0,this._partials[c-1]=h;break;case"square":h=1&c?2*u:0,this._partials[c-1]=h;break;case"sawtooth":h=u*(1&c?1:-1),this._partials[c-1]=h;break;case"triangle":h=1&c?u*u*2*(c-1>>1&1?-1:1):0,this._partials[c-1]=h;break;case"custom":h=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==h?(o[c]=-h*Math.sin(i*c),a[c]=h*Math.cos(i*c)):(o[c]=0,a[c]=0)}return[o,a]}_inverseFFT(t,i,s){let r=0;const o=t.length;for(let a=0;a<o;a++)r+=t[a]*Math.cos(a*s)+i[a]*Math.sin(a*s);return r}getInitialValue(){const[t,i]=this._getRealImaginary(this._type,0);let s=0;const r=2*Math.PI;for(let a=0;a<32;a++)s=Math.max(this._inverseFFT(t,i,a/32*r),s);return function jW(n,e,t){return Math.max(Math.min(n,t),e)}(-this._inverseFFT(t,i,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Lt(this,void 0,void 0,function*(){return ko(this,t)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return n._periodicWaveCache=[],n})();class Fr extends oe{constructor(){super(Object.assign(I(Fr.getDefaults(),arguments,["context"])))}connect(e,t=0,i=0){return Vf(this,e,t,i),this}}class Io extends Fr{constructor(){super(Object.assign(I(Io.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=I(Io.getDefaults(),arguments,["mapping","length"]);zn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):function AW(n){return"function"==typeof n}(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(pt.getDefaults(),{length:1024})}setMap(e,t=1024){const i=new Float32Array(t);for(let s=0,r=t;s<r;s++)i[s]=e(s/(r-1)*2-1,s);return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){ge(["none","2x","4x"].some(i=>i.includes(e)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class yI extends Fr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Io({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Pr extends pt{constructor(){super(Object.assign(I(Pr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=I(Pr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ht({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(pt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class mu extends Rn{constructor(){super(I(mu.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new yI({context:this.context}),this._modulationNode=new ht({context:this.context});const e=I(mu.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new qn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new qn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Pr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ge(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(qn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Lt(this,void 0,void 0,function*(){return ko(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class _u extends Rn{constructor(){super(I(_u.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ht({context:this.context,gain:0});const e=I(_u.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new qn({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new pt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new qn({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Pr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Pr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ge(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(qn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Lt(this,void 0,void 0,function*(){return ko(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class pl extends Rn{constructor(){super(I(pl.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ht({context:this.context,gain:0}),this._thresh=new Io({context:this.context,mapping:t=>t<=0?-1:1});const e=I(pl.getDefaults(),arguments,["frequency","width"]);this.width=new pt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new qn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ge(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Rn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Lt(this,void 0,void 0,function*(){return ko(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class yu extends Rn{constructor(){super(I(yu.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=I(yu.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new pt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ge(this,["frequency","detune"])}static getDefaults(){return Object.assign(qn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,i=e/(this._oscillators.length-1);this._forEach((s,r)=>s.detune.value=t+i*r)}}get count(){return this._oscillators.length}set count(e){if(Ds(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const i=new qn({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):it});"custom"===this.type&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[t]=i}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,i)=>t.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Lt(this,void 0,void 0,function*(){return ko(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class vu extends Rn{constructor(){super(I(vu.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Pr({context:this.context,value:2});const e=I(vu.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new pl({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new qn({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ge(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Rn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Lt(this,void 0,void 0,function*(){return ko(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const vI={am:mu,fat:yu,fm:_u,oscillator:qn,pulse:pl,pwm:vu};class bu extends Rn{constructor(){super(I(bu.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=I(bu.getDefaults(),arguments,["frequency","type"]);this.frequency=new pt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new pt({context:this.context,units:"cents",value:e.detune}),Ge(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(qn.getDefaults(),_u.getDefaults(),mu.getDefaults(),yu.getDefaults(),pl.getDefaults(),vu.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=vI[e],i=this.now();if(this._oscillator){const s=this._oscillator;s.stop(i),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof vI[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&"pulse"!==e&&"pwm"!==e&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Es(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Es(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ss(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Lt(this,void 0,void 0,function*(){return ko(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Hv extends pt{constructor(){super(Object.assign(I(Hv.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new ht({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,cl(this._constantSource,this._sum)}static getDefaults(){return Object.assign(pt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class $f extends Fr{constructor(){super(Object.assign(I($f.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=I($f.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Pr({context:this.context,value:e.max-e.min}),this._add=this.output=new Hv({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Fr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class zv extends Fr{constructor(){super(Object.assign(I(zv.getDefaults(),arguments))),this.name="Zero",this._gain=new ht({context:this.context}),this.output=this._gain,this.input=void 0,Ki(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),mI(this.context.getConstant(0),this._gain),this}}class wu extends oe{constructor(){super(I(wu.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ze.prototype._fromType,this._toType=ze.prototype._toType,this._is=ze.prototype._is,this._clampValue=ze.prototype._clampValue;const e=I(wu.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new qn(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ht({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new pt({context:this.context,units:"audioRange",value:0}),this._zeros=new zv({context:this.context}),this._a2g=new yI({context:this.context}),this._scaler=this.output=new $f({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ge(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(qn.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const t=this.min,i=this.max;this._units=e,this.min=t,this.max=i}get state(){return this._oscillator.state}connect(e,t,i){return(e instanceof ze||e instanceof pt)&&(this.convert=e.convert,this.units=e.units),Vf(this,e,t,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function bI(n,e=1/0){const t=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(r){Ds(r,n,e),t.set(this,r)}})}}function Qs(n,e=1/0){const t=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(r){Ds(this.toSeconds(r),n,e),t.set(this,r)}})}}class Cu extends Rn{constructor(){super(I(Cu.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=I(Cu.getDefaults(),arguments,["url","onload"]);this._buffer=new Zs({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Rn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:it,onerror:it,playbackRate:1,reverse:!1})}load(e){return Lt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=it){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0===this._activeSources.size&&!this._synced&&"started"===this._state.getValueAtTime(this.now())&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,i){return super.start(e,t,i),this}_start(e,t,i){t=Ts(t,this._loop?this._loopStart:0);const s=this.toSeconds(t),r=i;i=Ts(i,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(i);o/=this._playbackRate,e=this.toSeconds(e);const a=new dl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ai(r)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(t))}restart(e,t,i){return super.restart(e,t,i),this}_restart(e,t,i){this._stop(e),this._start(e,t,i)}seek(e,t){const i=this.toSeconds(t);if("started"===this._state.getValueAtTime(i)){const s=this.toSeconds(e);this._stop(i),this._start(i,s)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ds(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ds(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),i=this._state.getNextState("stopped",t);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Xi([Qs(0)],Cu.prototype,"fadeIn",void 0),Xi([Qs(0)],Cu.prototype,"fadeOut",void 0);class tY extends Fr{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Io({context:this.context,mapping:e=>2*Math.abs(e)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ks extends oe{constructor(){super(I(Ks.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new pt({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=I(Ks.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(oe.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Ss(e))return e;{let i;for(i in Gf)if(Gf[i][t]===e)return i;return e}}_setCurve(e,t,i){if(Ss(i)&&Reflect.has(Gf,i)){const s=Gf[i];Ir(s)?"_decayCurve"!==e&&(this[e]=s[t]):this[e]=s}else{if(!zn(i)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+i);this[e]=i}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){ge(["linear","exponential"].some(t=>t===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0&&(s=(1-o)/(1/s)),s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,s,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,t)}if(r&&this.sustain<1){const a=t*this.sustain,l=e+s;this.log("decay",l),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(a,r+l):this._sig.exponentialApproachValueAtTime(a,l,r)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,i,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,i,e):(ge(zn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,i=1){return t=this.toSeconds(t),this.triggerAttack(t,i),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,i=0){return Vf(this,e,t,i),this}asArray(e=1024){return Lt(this,void 0,void 0,function*(){const t=e/this.context.sampleRate,i=new Pf(1,t,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=s+this.toSeconds(this.release),o=.1*r,a=r+o,l=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/a,decay:t*this.toSeconds(this.decay)/a,release:t*this.toSeconds(this.release)/a,context:i}));return l._sig.toDestination(),l.triggerAttackRelease(t*(s+o)/a,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Xi([Qs(0)],Ks.prototype,"attack",void 0),Xi([Qs(0)],Ks.prototype,"decay",void 0),Xi([bI(0,1)],Ks.prototype,"sustain",void 0),Xi([Qs(0)],Ks.prototype,"release",void 0);const Gf=(()=>{const n=128;let e,t;const i=[];for(e=0;e<n;e++)i[e]=Math.sin(e/127*(Math.PI/2));const s=[];for(e=0;e<127;e++){t=e/127;const d=Math.sin(t*(2*Math.PI)*6.4-Math.PI/2)+1;s[e]=d/10+.83*t}s[127]=1;const o=[];for(e=0;e<n;e++)o[e]=Math.ceil(e/127*5)/5;const l=[];for(e=0;e<n;e++)t=e/127,l[e]=.5*(1-Math.cos(Math.PI*t));const c=[];for(e=0;e<n;e++){t=e/127;const d=4*Math.pow(t,3)+.2,f=Math.cos(d*Math.PI*2*t);c[e]=Math.abs(f*(1-t))}function u(d){const f=new Array(d.length);for(let p=0;p<d.length;p++)f[p]=1-d[p];return f}return{bounce:{In:u(c),Out:c},cosine:{In:i,Out:function h(d){return d.slice(0).reverse()}(i)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:l,Out:u(l)},step:{In:o,Out:u(o)}}})();class Js extends oe{constructor(){super(I(Js.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=I(Js.getDefaults(),arguments);this._volume=this.output=new Ao({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ge(this,"volume")}static getDefaults(){return Object.assign(oe.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const i=this["_original_"+e]=this[e];this[e]=(...s)=>{const o=this.context.transport.schedule(a=>{s[t]=a,i.apply(this,s)},s[t]);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,i,s){const r=this.toSeconds(i),o=this.toSeconds(t);return this.triggerAttack(e,r,s),this.triggerRelease(r+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Oo extends Js{constructor(){super(I(Oo.getDefaults(),arguments));const e=I(Oo.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Js.getDefaults(),{detune:0,onsilence:it,portamento:0})}triggerAttack(e,t,i=1){this.log("triggerAttack",e,t,i);const s=this.toSeconds(t);return this._triggerEnvelopeAttack(s,i),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const i=this.toSeconds(t),s=e instanceof Un?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const r=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,r,i)}else this.frequency.setValueAtTime(s,i);return this}}Xi([Qs(0)],Oo.prototype,"portamento",void 0);class Yv extends Ks{constructor(){super(I(Yv.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ht({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Nr extends Oo{constructor(){super(I(Nr.getDefaults(),arguments)),this.name="Synth";const e=I(Nr.getDefaults(),arguments);this.oscillator=new bu(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Yv(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ge(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Oo.getDefaults(),{envelope:Object.assign(Fv(Ks.getDefaults(),Object.keys(oe.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Fv(bu.getDefaults(),[...Object.keys(Rn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const i=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Du extends Nr{constructor(){super(I(Du.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=I(Du.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ge(this,["oscillator","envelope"])}static getDefaults(){return To(Oo.getDefaults(),Nr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const i=this.toSeconds(t),s=this.toFrequency(e instanceof Un?e.toFrequency():e);return this.oscillator.frequency.setValueAtTime(s*this.octaves,i),this.oscillator.frequency.exponentialRampToValueAtTime(s,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xi([bI(0)],Du.prototype,"octaves",void 0),Xi([Qs(0)],Du.prototype,"pitchDecay",void 0);const r0=new Set;function o0(n){r0.add(n)}function SI(n,e){r0.add(`registerProcessor("${n}", ${e})`)}o0('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),o0("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),o0("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),SI("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Eu extends Js{constructor(){super(I(Eu.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const e=I(Eu.getDefaults(),arguments,["voice","options"]);ge(!Es(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Js.getDefaults(),{maxPolyphony:32,options:{},voice:Nr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return e.connect(this.output),this._voices.push(e),e}Ov("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,i){e.forEach(s=>{const r=new du(this.context,s).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(s,t,i),this._activeVoices.push({midi:r,voice:o,released:!1}),this.log("triggerAttack",s,t))})}_triggerRelease(e,t){e.forEach(i=>{const s=new du(this.context,i).toMidi(),r=this._activeVoices.find(({midi:o,released:a})=>o===s&&!a);r&&(r.voice.triggerRelease(t),r.released=!0,this.log("triggerRelease",i,t))})}_scheduleEvent(e,t,i,s){ge(!this.disposed,"Synth was already disposed"),i<=this.now()?"attack"===e?this._triggerAttack(t,i,s):this._triggerRelease(t,i):this.context.setTimeout(()=>{this._scheduleEvent(e,t,i,s)},i-this.now())}triggerAttack(e,t,i){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("attack",e,s,i),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const i=this.toSeconds(t);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,t,i,s){const r=this.toSeconds(i);if(this.triggerAttack(e,r,s),zn(t)){ge(zn(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=t[Math.min(o,t.length-1)],l=this.toSeconds(a);ge(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],r+l)}}else{const o=this.toSeconds(t);ge(o>0,"The duration must be greater than 0"),this.triggerRelease(e,r+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(e){const t=Fv(e,["onsilence","context"]);return this.options=To(this.options,t),this._voices.forEach(i=>i.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Su extends Js{constructor(){super(I(Su.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=I(Su.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach(i=>{const s=parseInt(i,10);if(ge(Af(i)||Es(s)&&isFinite(s),`url key is neither a note or midi pitch: ${i}`),Af(i)){const r=new Un(this.context,i).toMidi();t[r]=e.urls[i]}else Es(s)&&isFinite(s)&&(t[s]=e.urls[s])}),this._buffers=new Vv({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Js.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:it,onerror:it,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,i=1){return this.log("triggerAttack",e,t,i),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=pI(new Un(this.context,s).toFrequency()),o=Math.round(r),a=r-o,l=this._findClosest(o),u=this._buffers.get(o-l),h=fI(l+a),d=new dl({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(t,0,u.duration/h,i),zn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),p=f.indexOf(d);-1!==p&&f.splice(p,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(i=>{const s=new Un(this.context,i).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const r=this._activeSources.get(s);t=this.toSeconds(t),r.forEach(o=>{o.stop(t)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,i,s=1){const r=this.toSeconds(i);return this.triggerAttack(e,r,s),zn(t)?(ge(zn(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=t[Math.min(a,t.length-1)];this.triggerRelease(o,r+this.toSeconds(l))})):this.triggerRelease(e,r+this.toSeconds(t)),this}add(e,t,i){if(ge(Af(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Af(e)){const s=new Un(this.context,e).toMidi();this._buffers.add(s,t,i)}else this._buffers.add(e,t,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Xi([Qs(0)],Su.prototype,"attack",void 0),Xi([Qs(0)],Su.prototype,"release",void 0);class Ro extends mn{constructor(){super(I(Ro.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new uu("stopped"),this._startOffset=0;const e=I(Ro.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(mn.getDefaults(),{callback:it,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,t=>{let i;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const s=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Es(this._loop)&&this._loop>1){i=1/0,Es(this._loop)&&(i=this._loop*this._getLoopDuration());const r=this._state.getAfter(s);null!==r&&(i=Math.min(i,r.time-s)),i!==1/0&&(this._state.setStateAtTime("stopped",s+i+1,{id:-1}),i=new Tt(this.context,i));const o=new Tt(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new Tt(this.context,s),i)}else t.id=this.context.transport.schedule(this._tick.bind(this),new Tt(this.context,s))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return"stopped"===this._state.getValueAtTime(t)&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if("started"===this._state.getValueAtTime(t)){this._state.setStateAtTime("stopped",t,{id:-1});const i=this._state.getBefore(t);let s=t;null!==i&&(s=i.time),this._rescheduleEvents(s)}return this}cancel(e){e=Ts(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,i=>{this.context.transport.clear(i.id)}),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&"started"===this._state.getValueAtTime(t)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let i=.02;nI(this.humanize)||(i=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*i}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Tt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Tt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(null!==t&&"started"===t.state){const i=this._getLoopDuration();return(e-t.time)%i/i}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class gl extends Ro{constructor(){super(I(gl.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new uu("stopped"),this._events=new Set;const e=I(gl.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach(t=>{zn(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(Ro.getDefaults(),{events:[]})}start(e,t){const i=this.toTicks(e);if("started"!==this._state.getValueAtTime(i)){t=Ts(t,this._loop?this._loopStart:0),t=Ts(t,this._loop?this._loopStart:0);const s=this.toTicks(t);this._state.add({id:-1,offset:s,state:"started",time:i}),this._forEach(r=>{this._startNote(r,i,s)})}return this}_startNote(e,t,i){t-=i,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<i&&(t+=this._getLoopDuration()),e.start(new Tt(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=i&&(e.loop=!1,e.start(new Tt(this.context,t))):e.startOffset>=i&&e.start(new Tt(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach(i=>{i.stop(e)}),this}at(e,t){const i=new Mo(this.context,e).toTicks(),s=new Tt(this.context,1).toSeconds(),r=this._events.values();let o=r.next();for(;!o.done;){const a=o.value;if(Math.abs(i-a.startOffset)<s)return ke(t)&&(a.value=t),a;o=r.next()}return ke(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(e=(t=e).time);const i=this.toTicks(e);let s;return t instanceof Ro?(s=t,s.callback=this._tick.bind(this)):s=new Ro({callback:this._tick.bind(this),context:this.context,value:t}),s.startOffset=i,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach(t=>{"started"===t.state?this._startNote(e,t.time,t.offset):e.stop(new Tt(this.context,t.time))})}remove(e,t){return Ir(e)&&e.hasOwnProperty("time")&&(e=(t=e).time),e=this.toTicks(e),this._events.forEach(i=>{i.startOffset===e&&(ai(t)||ke(t)&&i.value===t)&&(this._events.delete(i),i.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(t=>t.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(t=>{t instanceof gl?t._forEach(e):e(t)}),this}_setAll(e,t){this._forEach(i=>{i[e]=t})}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):"stopped"===e.state&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)})}get loopEnd(){return new Tt(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopEnd=e,this._testLoopBoundries(t)})}get loopStart(){return new Tt(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class xu extends oe{constructor(){super(Object.assign(I(xu.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new tY({context:this.context}),this.a=new ht({context:this.context,gain:0}),this.b=new ht({context:this.context,gain:0}),this.output=new ht({context:this.context}),this._internalChannels=[this.a,this.b];const e=I(xu.getDefaults(),arguments,["fade"]);this.fade=new pt({context:this.context,units:"normalRange",value:e.fade}),Ge(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Ki(this._split,this.a.gain,0),Ki(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(oe.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Wf extends oe{constructor(e){super(e),this.name="Effect",this._dryWet=new xu({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ht({context:this.context}),this.effectReturn=new ht({context:this.context}),this.input=new ht({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ge(this,"wet")}static getDefaults(){return Object.assign(oe.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Yf extends oe{constructor(){super(Object.assign(I(Yf.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=I(Yf.getDefaults(),arguments,["pan"]);this.pan=new ze({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ge(this,"pan")}static getDefaults(){return Object.assign(oe.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}SI("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Mu extends oe{constructor(){super(I(Mu.getDefaults(),arguments,["channels"])),this.name="Split";const e=I(Mu.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(oe.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class _l extends oe{constructor(){super(I(_l.getDefaults(),arguments,["channels"])),this.name="Merge";const e=I(_l.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(oe.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Xf extends oe{constructor(e){super(e),this.name="StereoEffect",this.input=new ht({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new xu({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new Mu({context:this.context,channels:2}),this._merge=new _l({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ge(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),cl(...e),Ki(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),cl(...e),Ki(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(oe.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class cY extends Xf{constructor(e){super(e),this.feedback=new pt({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new ht({context:this.context}),this._feedbackR=new ht({context:this.context}),this._feedbackSplit=new Mu({context:this.context,channels:2}),this._feedbackMerge=new _l({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ge(this,["feedback"])}static getDefaults(){return Object.assign(Xf.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Fo extends Wf{constructor(){super(I(Fo.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=I(Fo.getDefaults(),arguments,["distortion"]);this._shaper=new Io({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Wf.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const t=100*e,i=Math.PI/180;this._shaper.setMap(s=>Math.abs(s)<.001?0:(3+t)*s*20*i/(Math.PI+t*Math.abs(s)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class kI extends cY{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ge(this,["feedback"])}}class Qf extends kI{constructor(){super(I(Qf.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=I(Qf.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new hl({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new hl({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new hl({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new pt({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ge(this,["delayTime"])}static getDefaults(){return Object.assign(kI.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Kf extends Xf{constructor(){super(I(Kf.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const e=I(Kf.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new wu({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new wu({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this.Q=new pt({context:this.context,value:e.Q,units:"positive"}),this._filtersL=this._makeFilters(e.stages,this._lfoL),this._filtersR=this._makeFilters(e.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),Ge(this,["frequency","Q"])}static getDefaults(){return Object.assign(Xf.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,t){const i=[];for(let s=0;s<e;s++){const r=this.context.createBiquadFilter();r.type="allpass",this.Q.connect(r.Q),t.connect(r.frequency),i.push(r)}return i}get octaves(){return this._octaves}set octaves(e){this._octaves=e;const t=this._baseFrequency*Math.pow(2,e);this._lfoL.max=t,this._lfoR.max=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(e=>e.disconnect()),this._filtersR.forEach(e=>e.disconnect()),this.frequency.dispose(),this}}class Jf extends Wf{constructor(){super(I(Jf.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=I(Jf.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Wf.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){Ds(e=this.toSeconds(e),.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){Ds(e=this.toSeconds(e),0),this._preDelay=e,this.generate()}generate(){return Lt(this,void 0,void 0,function*(){const e=this.ready,t=new Pf(2,this._decay+this._preDelay,this.context.sampleRate),i=new pu({context:t}),s=new pu({context:t}),r=new _l({context:t});i.connect(r,0,0),s.connect(r,0,1);const o=new ht({context:t}).toDestination();r.connect(o),i.start(0),s.start(0),o.gain.setValueAtTime(0,0),o.gain.setValueAtTime(1,this._preDelay),o.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const a=t.render();return this.ready=a.then(it),yield e,this._convolver.buffer=(yield a).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Vt extends oe{constructor(){super(I(Vt.getDefaults(),arguments,["solo"])),this.name="Solo";const e=I(Vt.getDefaults(),arguments,["solo"]);this.input=this.output=new ht({context:this.context}),Vt._allSolos.has(this.context)||Vt._allSolos.set(this.context,new Set),Vt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(oe.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Vt._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){Vt._soloed.has(this.context)||Vt._soloed.set(this.context,new Set),Vt._soloed.get(this.context).add(this)}_removeSolo(){Vt._soloed.has(this.context)&&Vt._soloed.get(this.context).delete(this)}_isSoloed(){return Vt._soloed.has(this.context)&&Vt._soloed.get(this.context).has(this)}_noSolos(){return!Vt._soloed.has(this.context)||Vt._soloed.has(this.context)&&0===Vt._soloed.get(this.context).size}_updateSolo(){this.input.gain.value=this._isSoloed()||this._noSolos()?1:0}dispose(){return super.dispose(),Vt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Vt._allSolos=new Map,Vt._soloed=new Map;class ep extends oe{constructor(){super(I(ep.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=I(ep.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Yf({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ao({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ge(this,["pan","volume"])}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Po extends oe{constructor(){super(I(Po.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=I(Po.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Vt({solo:e.solo,context:this.context}),this._panVol=this.output=new ep({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ge(this,["pan","volume"])}static getDefaults(){return Object.assign(oe.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Po.buses.has(e)||Po.buses.set(e,new ht({context:this.context})),Po.buses.get(e)}send(e,t=0){const i=this._getBus(e),s=new ht({context:this.context,units:"decibels",gain:t});return this.connect(s),s.connect(i),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Po.buses=new Map;class dY extends oe{constructor(){super(...arguments),this.name="Listener",this.positionX=new ze({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ze({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ze({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ze({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ze({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ze({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ze({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ze({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ze({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(oe.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Rf(n=>{n.listener=new dY({context:n})}),Ff(n=>{n.listener.dispose()});class np extends oe{constructor(){super(I(np.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=I(np.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new ze({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new ze({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new ze({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new ze({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new ze({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Ge(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(oe.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class ip extends oe{constructor(){super(Object.assign(I(ip.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=I(ip.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new np({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Ge(this,"threshold")}static getDefaults(){return Object.assign(oe.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}const yl=Di().transport;Di(),Di(),Di(),Di();const pY=Di();let NI=(()=>{class n{constructor(){this.bassMajorCollection=["C2","F2","G2","A3","C3"],this.melodyMajorCollection=["C4","D4","E4","F4","G4","A5","B5","C5"],this.bassMinorCollection=["A2","D3","E3","F3","A3"],this.melodyMinorCollection=["A3","B3","C4","D4","E4","F4","G4","A4"],this.verb=new Jf(9).toDestination(),this.lim=new ip(-1).toDestination,this.synth=new Eu(Nr,{oscillator:{volume:-21,count:2,spread:20,type:"fattriangle2"}}).toDestination(),this.bass=new Eu(Nr,{oscillator:{type:"sine3",volume:-19}}).toDestination(),this.bpm=0,this.pauseTime=0,this.noteSet=[],this.noteSetB=[],this.screenWidth=window.innerWidth,this.synth.connect(this.verb),this.bass.connect(this.verb);const t=new Date;if(this.timeOfDay=t.getHours()+1,this.timeOfDay<2){const i=new Fo(.5).toDestination(),s=new Fo(.2).toDestination();this.synth.connect(i),this.bass.connect(s),this.noteSet=this.melodyMinorCollection,this.noteSetB=this.bassMinorCollection}else if(this.timeOfDay<10)this.noteSet=this.melodyMajorCollection,this.noteSetB=this.bassMajorCollection;else if(this.timeOfDay<19){const i=new Qf("0.4s",.52).toDestination();this.synth.connect(i),this.noteSet=this.melodyMajorCollection,this.noteSetB=this.bassMajorCollection}else if(this.timeOfDay<23){const i=new Kf({frequency:10,octaves:2,baseFrequency:700}).toDestination();this.bass.connect(i),this.noteSet=this.melodyMinorCollection,this.noteSetB=this.bassMinorCollection}else{const i=new Fo(.5).toDestination(),s=new Fo(.2).toDestination();this.synth.connect(i),this.bass.connect(s),this.noteSet=this.melodyMinorCollection,this.noteSetB=this.bassMinorCollection}}getRandomInt(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t)+t)}playStars(t,i){console.log("PLAYTIME: "+i),yl.stop(),this.setTempo(i,this.screenWidth,50),yl.bpm.value=this.bpm,null!=this.melody&&null!=this.bassLine&&(this.melody.clear(),this.bassLine.clear()),console.log("playing star:",t);let s=t.connections,r=[];for(let l of s){let c=l.x1,u=l.x2;c>u&&(c=l.x2,u=l.x1);let h=Math.ceil((u-c)/4),d=Math.floor((c-5)/4);r.push({time:d+":"+(c-5)%4,note:this.noteSetB[this.getRandomInt(0,5)],duration:h+"m",velocity:.6})}this.bassLine=new gl((l,c)=>{this.bass.triggerAttackRelease(c.note,c.duration,l,c.velocity)},r).start(0);let o=t.stars,a=[];for(let l of o){let c=Math.floor(l.getX()/4),u=l.getX()%4;a.push({time:c+":"+u,note:this.noteSet[this.getRandomInt(0,8)],duration:"16n",velocity:.5})}this.melody=new gl((l,c)=>{this.synth.triggerAttackRelease(c.note,"16n",l,c.velocity)},a).start(0),yl.start(),pY.resume()}setTempo(t,i,s){this.bpm=i*(60/t)}pause(){this.pauseTime=function fY(){return Di().now()}(),yl.pause()}play(){yl.start(this.pauseTime)}stop(){yl.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gY=["*",[["mat-toolbar-row"]]],mY=["*","mat-toolbar-row"],_Y=Kd(class{constructor(n){this._elementRef=n}});let yY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=se({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),vY=(()=>{class n extends _Y{constructor(t,i,s){super(t),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C($i),C(Se))},n.\u0275cmp=rn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,s){if(1&t&&mr(s,yY,5),2&t){let r;xn(r=Mn())&&(i._toolbarRows=r)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&Sn("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[je],ngContentSelectors:mY,decls:2,vars:0,template:function(t,i){1&t&&(xa(gY),fr(0),fr(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),bY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[nn],nn]}),n})();const CY=["button"],DY=["*"],LI=new W("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),VI=new W("MatButtonToggleGroup");let BI=0;class jI{constructor(e,t){this.source=e,this.value=t}}const TY=MM(class{});let HI=(()=>{class n extends TY{constructor(t,i,s,r,o,a){super(),this._changeDetectorRef=i,this._elementRef=s,this._focusMonitor=r,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new pe;const l=Number(o);this.tabIndex=l||0===l?l:null,this.buttonToggleGroup=t,this.appearance=a&&a.appearance?a.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=Bn(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Bn(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+BI++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new jI(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(C(VI,8),C(_r),C(ct),C(Sd),cr("tabindex"),C(LI,8))},n.\u0275cmp=rn({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&gr(CY,5),2&t){let s;xn(s=Mn())&&(i._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&We("focus",function(){return i.focus()}),2&t&&(at("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),Sn("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[je],ngContentSelectors:DY,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(xa(),K(0,"button",0,1),We("click",function(){return i._onButtonClick()}),K(2,"span",2),fr(3),J(),J(),He(4,"span",3),He(5,"span",4)),2&t){const s=Sa(1);xe("id",i.buttonId)("disabled",i.disabled||null),at("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i.name||null)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),Ae(5),xe("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)}},directives:[Oy],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),n})(),xY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[nn,OM],nn]}),n})();const MY=["mat-button",""],AY=["*"],IY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],OY=Kd(xM(MM(class{constructor(n){this._elementRef=n}})));let RY=(()=>{class n extends OY{constructor(t,i,s){super(t),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of IY)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(Sd),C(_o,8))},n.\u0275cmp=rn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&gr(Oy,5),2&t){let s;xn(s=Mn())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(at("disabled",i.disabled||null),Sn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[je],attrs:MY,ngContentSelectors:AY,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(xa(),K(0,"span",0),fr(1),J(),He(2,"span",1),He(3,"span",2)),2&t&&(Ae(2),Sn("mat-button-ripple-round",i.isRoundButton||i.isIconButton),xe("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Oy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),zI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[OM,nn],nn]}),n})();const FY=["sliderWrapper"],Si=lo({passive:!1}),BY={provide:Ci,useExisting:st(()=>UI),multi:!0};class jY{}const HY=YH(Kd(xM(class{constructor(n){this._elementRef=n}}),"accent"));let UI=(()=>{class n extends HY{constructor(t,i,s,r,o,a,l,c){super(t),this._focusMonitor=i,this._changeDetectorRef=s,this._dir=r,this._ngZone=a,this._animationMode=c,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new pe,this.input=new pe,this.valueChange=new pe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Me.EMPTY,this._pointerDown=u=>{this.disabled||this._isSliding||!Au(u)&&0!==u.button||this._ngZone.run(()=>{this._touchId=Au(u)?function zY(n,e){for(let t=0;t<n.touches.length;t++){const i=n.touches[t].target;if(e===i||e.contains(i))return n.touches[t].identifier}}(u,this._elementRef.nativeElement):void 0;const h=$I(u,this._touchId);if(h){const d=this.value;this._isSliding="pointer",this._lastPointerEvent=u,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(u),this._focusHostElement(),this._updateValueFromPosition(h),this._valueOnSlideStart=d,u.cancelable&&u.preventDefault(),d!=this.value&&this._emitInputEvent()}})},this._pointerMove=u=>{if("pointer"===this._isSliding){const h=$I(u,this._touchId);if(h){u.preventDefault();const d=this.value;this._lastPointerEvent=u,this._updateValueFromPosition(h),d!=this.value&&this._emitInputEvent()}}},this._pointerUp=u=>{"pointer"===this._isSliding&&(!Au(u)||"number"!=typeof this._touchId||j0(u.changedTouches,this._touchId))&&(u.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=l,this.tabIndex=parseInt(o)||0,a.runOutsideAngular(()=>{const u=t.nativeElement;u.addEventListener("mousedown",this._pointerDown,Si),u.addEventListener("touchstart",this._pointerDown,Si)})}get invert(){return this._invert}set invert(t){this._invert=Bn(t)}get max(){return this._max}set max(t){this._max=uo(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=uo(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=uo(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Bn(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?uo(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let i=uo(t,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Bn(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const t=this.percent,s=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${s})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,a={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const l=this._shouldInvertAxis();let c;c=this.vertical?l?"Bottom":"Top":l?"Right":"Left",a[`padding${c}`]=`${this._getThumbGap()}px`}return a}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,Si),t.removeEventListener("touchstart",this._pointerDown,Si),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||VT(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const i=this._document,s=Au(t),o=s?"touchend":"mouseup";i.addEventListener(s?"touchmove":"mousemove",this._pointerMove,Si),i.addEventListener(o,this._pointerUp,Si),s&&i.addEventListener("touchcancel",this._pointerUp,Si);const a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,Si),t.removeEventListener("mouseup",this._pointerUp,Si),t.removeEventListener("touchmove",this._pointerMove,Si),t.removeEventListener("touchend",this._pointerUp,Si),t.removeEventListener("touchcancel",this._pointerUp,Si);const i=this._getWindow();void 0!==i&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(t){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let o=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(o=1-o),0===o)this.value=this.min;else if(1===o)this.value=this.max;else{const a=this._calculateValue(o),l=Math.round((a-this.min)/this.step)*this.step+this.min;this.value=this._clamp(l,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=qI(t)?t:0}_createChangeEvent(t=this.value){let i=new jY;return i.source=this,i.value=t,i}_calculatePercentage(t){const i=((t||0)-this.min)/(this.max-this.min);return qI(i)?i:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,i=0,s=1){return Math.max(i,Math.min(t,s))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(Sd),C(_r),C(Pc,8),cr("tabindex"),C(Re),C(Se),C(_o,8))},n.\u0275cmp=rn({type:n,selectors:[["mat-slider"]],viewQuery:function(t,i){if(1&t&&gr(FY,5),2&t){let s;xn(s=Mn())&&(i._sliderWrapper=s.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,i){1&t&&We("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(r){return i._onKeydown(r)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(r){return r.preventDefault()}),2&t&&(Ah("tabIndex",i.tabIndex),at("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",null==i.valueText?i.displayValue:i.valueText)("aria-orientation",i.vertical?"vertical":"horizontal"),Sn("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[lt([BY]),je],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,i){1&t&&(K(0,"div",0,1),K(2,"div",2),He(3,"div",3),He(4,"div",4),J(),K(5,"div",5),He(6,"div",6),J(),K(7,"div",7),He(8,"div",8),He(9,"div",9),K(10,"div",10),K(11,"span",11),Et(12),J(),J(),J(),J()),2&t&&(Ae(3),xe("ngStyle",i._getTrackBackgroundStyles()),Ae(1),xe("ngStyle",i._getTrackFillStyles()),Ae(1),xe("ngStyle",i._getTicksContainerStyles()),Ae(1),xe("ngStyle",i._getTicksStyles()),Ae(1),xe("ngStyle",i._getThumbContainerStyles()),Ae(5),Kr(i.displayValue))},directives:[Km],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),n})();function qI(n){return!isNaN(n)&&isFinite(n)}function Au(n){return"t"===n.type[0]}function $I(n,e){let t;return t=Au(n)?"number"==typeof e?j0(n.touches,e)||j0(n.changedTouches,e):n.touches[0]||n.changedTouches[0]:n,t?{x:t.clientX,y:t.clientY}:void 0}function j0(n,e){for(let t=0;t<n.length;t++)if(n[t].identifier===e)return n[t]}let UY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[t_,nn],nn]}),n})();class H0{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class z0 extends H0{constructor(e,t,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s}}class GI extends H0{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class qY extends H0{constructor(e){super(),this.element=e instanceof ct?e.nativeElement:e}}class U0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof z0?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof GI?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof qY?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $Y extends U0{constructor(e,t,i,s,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector||kt.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let WI=(()=>{class n extends U0{constructor(t,i,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new pe,this.attachDomPortal=r=>{const o=r.element,a=this._document.createComment("dom-portal");r.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(r,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(C(pr),C(ni),C(Se))},n.\u0275dir=se({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[je]}),n})(),YI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({}),n})();const ZI=Nj();class GY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ut(-this._previousScrollPosition.left),e.style.top=Ut(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,s=this._document.body.style,r=i.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ZI&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZI&&(i.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class WY{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class XI{enable(){}disable(){}attach(){}}function q0(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function QI(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class YY{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();q0(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZY=(()=>{class n{constructor(t,i,s,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new XI,this.close=o=>new WY(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new GY(this._viewportRuler,this._document),this.reposition=o=>new YY(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}}return n.\u0275fac=function(t){return new(t||n)(x(G6),x($_),x(Re),x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KI{constructor(e){if(this.scrollStrategy=new XI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class XY{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class QY{constructor(e,t,i,s,r,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new j,this._attachments=new j,this._detachments=new j,this._locationChanges=Me.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new j,this._outsidePointerEvents=new j,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ut(this._config.width),e.height=Ut(this._config.height),e.minWidth=Ut(this._config.minWidth),e.minHeight=Ut(this._config.minHeight),e.maxWidth=Ut(this._config.maxWidth),e.maxHeight=Ut(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const s=LT(t||[]).filter(r=>!!r);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(_s(ns(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let $0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||V_()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(t),V_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(x(Se),x($i))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JI="cdk-overlay-connected-position-bounding-box",KY=/([A-Za-z%]+)$/;class JY{constructor(e,t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j,this._resizeSubscription=Me.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(JI),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,s,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?r.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(r.length){let a=null,l=-1;for(const c of r){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&No(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let s,r;if("center"==i.originX)s=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;s="start"==i.originX?o:a}return t.left<0&&(s-=t.left),r="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(r-=t.top),{x:s,y:r}}_getOverlayPoint(e,t,i){let s,r;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+r}}_getOverlayFit(e,t,i,s){const r=tO(t);let{x:o,y:a}=e,l=this._getOffset(s,"x"),c=this._getOffset(s,"y");l&&(o+=l),c&&(a+=c);let d=0-a,f=a+r.height-i.height,p=this._subtractOverflows(r.width,0-o,o+r.width-i.width),g=this._subtractOverflows(r.height,d,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:r.width*r.height===m,fitsInViewportVertically:g===r.height,fitsInViewportHorizontally:p==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,r=i.right-t.x,o=eO(this._overlayRef.getConfig().minHeight),a=eO(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=r;return(e.fitsInViewportVertically||null!=o&&o<=s)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=tO(t),r=this._viewportRect,o=Math.max(e.x+s.width-r.width,0),a=Math.max(e.y+s.height-r.height,0),l=Math.max(r.top-i.top-e.y,0),c=Math.max(r.left-i.left-e.x,0);let u=0,h=0;return u=s.width<=r.width?c||-o:e.x<this._viewportMargin?r.left-i.left-e.x:0,h=s.height<=r.height?l||-a:e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new XY(e,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let r,o,a,u,h,d;if("top"===t.overlayY)o=e.y,r=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;r=2*f,o=e.y-f,r>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)d=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)h=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,h=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-p/2)}return{top:o,left:h,bottom:a,right:d,width:u,height:r}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=Ut(i.height),s.top=Ut(i.top),s.bottom=Ut(i.bottom),s.width=Ut(i.width),s.left=Ut(i.left),s.right=Ut(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Ut(r)),o&&(s.maxWidth=Ut(o))}this._lastBoundingBoxSize=i,No(this._boundingBox.style,s)}_resetBoundingBoxStyles(){No(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){No(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const u=this._viewportRuler.getViewportScrollPosition();No(i,this._getExactOverlayY(t,e,u)),No(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(s?i.maxHeight=Ut(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=Ut(o.maxWidth):r&&(i.maxWidth="")),No(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Ut(r.y),s}_getExactOverlayX(e,t,i){let o,s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Ut(r.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QI(e,i),isOriginOutsideView:q0(e,i),isOverlayClipped:QI(t,i),isOverlayOutsideView:q0(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&LT(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ct)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function No(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function eO(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(KY);return t&&"px"!==t?null:parseFloat(e)}return n||null}function tO(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nO="cdk-global-overlay-wrapper";class eZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(nO),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:a}=i,l=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(nO),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tZ=(()=>{class n{constructor(t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new eZ}flexibleConnectedTo(t){return new JY(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(x($_),x(Se),x($i),x($0))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iO=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(x(Se))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nZ=(()=>{class n extends iO{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){const a=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(s)):a.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(x(Se),x(Re,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iZ=(()=>{class n extends iO{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Gi(r)},this._clickListener=r=>{const o=Gi(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(x(Se),x($i),x(Re,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sZ=0,sp=(()=>{class n{constructor(t,i,s,r,o,a,l,c,u,h,d){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),o=new KI(t);return o.direction=o.direction||this._directionality.value,new QY(r,i,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+sZ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Pa)),new $Y(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(x(ZY),x($0),x(pr),x(tZ),x(nZ),x(kt),x(Re),x(Se),x(Pc),x(mc),x(iZ))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})();const aZ={provide:new W("cdk-connected-overlay-scroll-strategy"),deps:[sp],useFactory:function oZ(n){return()=>n.scrollStrategies.reposition()}};let lZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[sp,aZ],imports:[[Nc,YI,tx],tx]}),n})();function cZ(n,e){}class G0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const uZ={dialogContainer:ey("dialogContainer",[Ya("void, exit",ys({opacity:0,transform:"scale(0.7)"})),Ya("enter",ys({transform:"none"})),zc("* => enter",Mx([Hc("150ms cubic-bezier(0, 0, 0.2, 1)",ys({transform:"none",opacity:1})),Ix("@*",kx(),{optional:!0})])),zc("* => void, * => exit",Mx([Hc("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ys({opacity:0})),Ix("@*",kx(),{optional:!0})]))])};let hZ=(()=>{class n extends U0{constructor(t,i,s,r,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=s,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new pe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=L_())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(i)}_focusByCssSelector(t,i){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=L_(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=L_();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(C(ct),C(g6),C(_r),C(Se,8),C(G0),C(HT),C(Re),C(Sd))},n.\u0275dir=se({type:n,viewQuery:function(t,i){if(1&t&&gr(WI,7),2&t){let s;xn(s=Mn())&&(i._portalOutlet=s.first)}},features:[je]}),n})(),dZ=(()=>{class n extends hZ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Cn(n)))(i||n)}}(),n.\u0275cmp=rn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&em("@dialogContainer.start",function(r){return i._onAnimationStart(r)})("@dialogContainer.done",function(r){return i._onAnimationDone(r)}),2&t&&(Ah("id",i._id),at("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),sm("@dialogContainer",i._state))},features:[je],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&En(0,cZ,0,0,"ng-template",0)},directives:[WI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[uZ.dialogContainer]}}),n})(),fZ=0;class sO{constructor(e,t,i="mat-dialog-"+fZ++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new j,this._afterClosed=new j,this._beforeClosed=new j,this._state=0,t._id=i,t._animationStateChanged.pipe(en(s=>"opened"===s.state),Gn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(en(s=>"closed"===s.state),Gn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(en(s=>27===s.keyCode&&!this.disableClose&&!VT(s))).subscribe(s=>{s.preventDefault(),rO(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():rO(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(en(t=>"closing"===t.state),Gn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function rO(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const pZ=new W("MatDialogData"),gZ=new W("mat-dialog-default-options"),oO=new W("mat-dialog-scroll-strategy"),_Z={provide:oO,deps:[sp],useFactory:function mZ(n){return()=>n.scrollStrategies.block()}};let yZ=(()=>{class n{constructor(t,i,s,r,o,a,l,c,u,h){this._overlay=t,this._injector=i,this._defaultOptions=s,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new j,this._afterOpenedAtThisLevel=new j,this._ariaHiddenElements=new Map,this.afterAllClosed=h_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ad(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function vZ(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new G0),i.id&&this.getDialogById(i.id);const s=this._createOverlay(i),r=this._attachDialogContainer(s,i),o=this._attachDialogContent(t,r,s,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new KI({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const r=kt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:G0,useValue:i}]}),o=new z0(this._dialogContainerType,i.viewContainerRef,r,i.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,i,s,r){const o=new this._dialogRefConstructor(s,i,r.id);if(t instanceof fs)i.attachTemplatePortal(new GI(t,null,{$implicit:r.data,dialogRef:o}));else{const a=this._createInjector(r,o,i),l=i.attachComponentPortal(new z0(t,r.viewContainerRef,a,r.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(t,i,s){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!r||!r.get(Pc,null,ve.Optional))&&o.push({provide:Pc,useValue:{value:t.direction,change:ce()}}),kt.create({parent:r||this._injector,providers:o})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,r)=>{s?r.setAttribute("aria-hidden",s):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let s=i.length-1;s>-1;s--){let r=i[s];r!==t&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){Th()},n.\u0275dir=se({type:n}),n})(),aO=(()=>{class n extends yZ{constructor(t,i,s,r,o,a,l,c){super(t,i,r,a,l,o,sO,dZ,pZ,c)}}return n.\u0275fac=function(t){return new(t||n)(x(sp),x(kt),x(mc,8),x(gZ,8),x(oO),x(n,12),x($0),x(_o,8))},n.\u0275prov=te({token:n,factory:n.\u0275fac}),n})(),bZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({providers:[aO,_Z],imports:[[lZ,YI,nn],nn]}),n})();const lO=".dialog[_ngcontent-%COMP%]{text-align:center}.dialog-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:500}.dialog-body[_ngcontent-%COMP%]{margin:25px;font-size:large}button[_ngcontent-%COMP%]{width:35%;font-size:x-large;border-radius:20px;background-color:#98aef7e8;color:#181818bf;font-style:bold;cursor:pointer}";let wZ=(()=>{class n{constructor(t){this.dialog=t,t.open(CZ)}}return n.\u0275fac=function(t){return new(t||n)(C(aO))},n.\u0275cmp=rn({type:n,selectors:[["app-dialog"]],decls:0,vars:0,template:function(t,i){},styles:[lO]}),n})(),CZ=(()=>{class n{constructor(t){this.dialogRef=t}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(C(sO))},n.\u0275cmp=rn({type:n,selectors:[["dialog-component-template"]],decls:20,vars:0,consts:[[1,"dialog"],["mat-dialog-title","",1,"dialog-title"],["mat-dialog-content","",1,"dialog-body"],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(K(0,"div",0),K(1,"h1",1),Et(2,"Welcome to Star-Compose!"),J(),K(3,"div",2),K(4,"p"),Et(5,"You can get started now by viewing the constellations in the menu by clicking"),He(6,"br"),Et(7," the button in the upper right corner"),J(),K(8,"p"),Et(9,"If you share your location, the constellations that can be seen today are marked with a star!"),J(),K(10,"p"),Et(11,"Place constellations on the screen by clicking on it."),J(),K(12,"p"),Et(13,"Customize your own sky by dragging, resizing, and rotating the constellations!"),J(),K(14,"p"),Et(15,"Press play to hear music as the bar touches the constellations!"),He(16,"br"),J(),J(),K(17,"div",3),K(18,"button",4),We("click",function(){return i.closeDialog()}),Et(19,"Get Started"),J(),J(),J())},styles:[lO]}),n})();const DZ=["*",[["mat-card-footer"]]],EZ=["*","mat-card-footer"];let SZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=se({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),TZ=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(C(_o,8))},n.\u0275cmp=rn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&Sn("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:EZ,decls:2,vars:0,template:function(t,i){1&t&&(xa(DZ),fr(0),fr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[nn],nn]}),n})();function MZ(n,e){1&n&&He(0,"app-dialog")}function AZ(n,e){if(1&n&&(Pi(),He(0,"circle",21,22)),2&n){const t=e.$implicit;at("cx",t.x/2)("cy",t.y/2)}}function kZ(n,e){if(1&n&&(Pi(),He(0,"line",23,24)),2&n){const t=e.$implicit;at("x1",t.x1/2)("y1",t.y1/2)("x2",t.x2/2)("y2",t.y2/2)}}const cO=function(){return{left:30,right:30}};function IZ(n,e){if(1&n){const t=tc();K(0,"mat-card",15),We("click",function(){const r=Xo(t).$implicit;return dr(2).onSelectedConstellation(r)}),K(1,"mat-card-content"),K(2,"mat-icon",16),Et(3,"stars"),J(),K(4,"span",17),Et(5),J(),K(6,"div"),Pi(),K(7,"svg",18),En(8,AZ,2,2,"circle",19),En(9,kZ,2,4,"line",20),J(),J(),J(),J()}if(2&n){const t=e.$implicit;Ae(5),Kr(t.name),Ae(2),xe("resizeSnapGrid",to(6,cO)),at("height",150)("width",150),Ae(1),xe("ngForOf",t.stars),Ae(1),xe("ngForOf",t.connections)}}function OZ(n,e){if(1&n&&(Pi(),He(0,"circle",21,22)),2&n){const t=e.$implicit;at("cx",t.x/2)("cy",t.y/2)}}function RZ(n,e){if(1&n&&(Pi(),He(0,"line",23,24)),2&n){const t=e.$implicit;at("x1",t.x1/2)("y1",t.y1/2)("x2",t.x2/2)("y2",t.y2/2)}}function FZ(n,e){if(1&n){const t=tc();K(0,"mat-card",15),We("click",function(){const r=Xo(t).$implicit;return dr(2).onSelectedConstellation(r)}),K(1,"mat-card-content"),Et(2),K(3,"div"),Pi(),K(4,"svg",18),En(5,OZ,2,2,"circle",19),En(6,RZ,2,4,"line",20),J(),J(),J(),J()}if(2&n){const t=e.$implicit;Ae(2),Mh(" ",t.name," "),Ae(2),xe("resizeSnapGrid",to(6,cO)),at("height",150)("width",150),Ae(1),xe("ngForOf",t.stars),Ae(1),xe("ngForOf",t.connections)}}function PZ(n,e){if(1&n&&(K(0,"div",13),En(1,IZ,10,7,"mat-card",14),En(2,FZ,7,7,"mat-card",14),J()),2&n){const t=dr();Ae(1),xe("ngForOf",t.locationConstellations),Ae(1),xe("ngForOf",t.constellations)}}let NZ=(()=>{class n{constructor(t){this.synth=t,this.buttonPressed=new pe,this.navbarOpened=!1,this.constellations=[],this.locationConstellations=[],this.renderAudio=new pe,this.onSelected=new pe,this.time=new pe,this.timeTemp=30,this.playStatus="Play",this.helpButton=!0}runConductor(){"Play"===this.playStatus?(this.playStatus="Stop",this.renderAudio.emit(!0),this.buttonPressed.emit(!0),this.hideIcons("hidden")):"Stop"===this.playStatus&&(this.playStatus="Play",this.renderAudio.emit(!1),this.buttonPressed.emit(!1),this.hideIcons("visible"))}onSelectedConstellation(t){let i=t.name;for(let s in this.constellations)this.constellations[s].name==i&&this.onSelected.emit(this.constellations[s]);for(let s in this.locationConstellations)this.locationConstellations[s].name==i&&this.onSelected.emit(this.locationConstellations[s])}playSound(){}ngOnInit(){}changeValue(t){this.timeTemp=t.value,console.log("Emitting value: ",t.value),this.time.emit(t.value)}toggleNavbar(){this.navbarOpened=!this.navbarOpened}hideIcons(t){document.getElementsByClassName("starButton")[0].setAttribute("disabled",""),this.navbarOpened=!1;let s=[];if(s.push(document.getElementsByClassName("outside")),s.push(document.getElementsByClassName("drag-icon")),s.push(document.getElementsByClassName("rotate-icon")),s.push(document.getElementsByClassName("delete-icon")),s.push(document.getElementsByClassName("resize-grip")),s.push(document.getElementsByClassName("constellation-name")),s.push(document.getElementsByClassName("custom-range  my-2")),null!=s[0])for(var r=0;r<s.length;r++)for(var o=0;o<s[r].length;o++)if(0==r)null==(a=s[r][o].getAttribute("style"))&&(a=""),s[r][o].setAttribute("style","hidden"==t?a+"border: solid 2px transparent;":a+"border: dotted #ccc 2px;");else{var a;null==(a=s[r][o].getAttribute("style"))&&(a=""),s[r][o].setAttribute("style",a+"visibility: "+t+";")}}}return n.\u0275fac=function(t){return new(t||n)(C(NI))},n.\u0275cmp=rn({type:n,selectors:[["app-menubar"]],hostVars:2,hostBindings:function(t,i){2&t&&Sn("navbar-opened",i.navbarOpened)},inputs:{constellations:"constellations",locationConstellations:"locationConstellations"},outputs:{buttonPressed:"buttonPressed",renderAudio:"renderAudio",onSelected:"onSelected",time:"time"},decls:23,vars:6,consts:[[1,"menubar"],["Style","color: white"],[1,"helpButton",3,"change","click"],[1,"spacer"],["mat-raised-button","",1,"constellationButton",3,"autofocus","click"],["btnFocus",""],[1,"timer"],["min","30","max","90","step","1","aria-label","tempo",3,"value","change"],["tempoSlider",""],[1,"time"],[4,"ngIf"],[1,"starButton",3,"click"],["class","constellationList",4,"ngIf"],[1,"constellationList"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"currentConstellations"],[1,"currConstellationText"],["mwlResizable","",1,"constSVG",3,"resizeSnapGrid"],["r","4","fill","black",4,"ngFor","ngForOf"],["style","stroke:black;stroke-width:2",4,"ngFor","ngForOf"],["r","4","fill","black"],["star",""],[2,"stroke","black","stroke-width","2"],["connection",""]],template:function(t,i){if(1&t&&(K(0,"mat-toolbar",0),K(1,"span",1),Et(2,"Star Compose"),J(),K(3,"mat-button-toggle",2),We("change",function(){return i.helpButton=!1})("click",function(){return i.helpButton=!i.helpButton}),K(4,"mat-icon"),Et(5,"help"),J(),J(),He(6,"span",3),K(7,"button",4,5),We("click",function(){return i.runConductor()}),Et(9),J(),He(10,"span",3),K(11,"mat-icon",6),Et(12,"timer"),J(),K(13,"mat-slider",7,8),We("change",function(r){return i.changeValue(r)}),J(),K(15,"span",9),Et(16),J(),En(17,MZ,1,0,"app-dialog",10),He(18,"span",3),K(19,"mat-button-toggle",11),We("click",function(){return i.toggleNavbar()}),K(20,"mat-icon"),Et(21,"auto_awesome"),J(),J(),J(),En(22,PZ,3,2,"div",12)),2&t){const s=Sa(8),r=Sa(14);Ae(7),xe("autofocus",s.focus()),Ae(2),Kr(i.playStatus),Ae(4),xe("value",i.timeTemp),Ae(3),Kr(r.value),Ae(1),xe("ngIf",i.helpButton),Ae(5),xe("ngIf",i.navbarOpened)}},directives:[vY,HI,GM,RY,UI,Zm,wZ,ed,TZ,SZ,J_],styles:[".menubar[_ngcontent-%COMP%]{height:5%;background-color:#2e2b2bbf}.constellationButton[_ngcontent-%COMP%]{height:20px;line-height:20px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.constellationList[_ngcontent-%COMP%]{position:absolute;right:0%;top:5%;width:400px;height:95%;background-color:#fff;overflow:auto;z-index:2}.helpButton[_ngcontent-%COMP%]{background-color:#fff;color:#000;zoom:70%;margin-left:15px}.starButton[_ngcontent-%COMP%]{background-color:#fff;color:#000;zoom:70%}.currentConstellations[_ngcontent-%COMP%]{color:#000}.currConstellationText[_ngcontent-%COMP%]{position:absolute;margin-top:5px;margin-left:5px}.constSVG[_ngcontent-%COMP%]{display:block;margin:auto}mat-button-toggle[_ngcontent-%COMP%]{background-color:#00000080}mat-card[_ngcontent-%COMP%]{margin:3px}.static[_ngcontent-%COMP%]{position:static}.timer[_ngcontent-%COMP%]{color:#fff}.time[_ngcontent-%COMP%]{color:#fff;min-width:25px}"]}),n})();const LZ=function(n){return{time:n}},VZ=function(n,e){return{value:n,params:e}};let BZ=(()=>{class n{constructor(){this.playTime=60,this.isPlaying=!1,this.height=0}play(t){this.isPlaying=t}ngOnInit(){this.height=window.innerHeight-.05*window.innerHeight,console.log(this.height)}onResize(t){this.height=window.innerHeight-.05*window.innerHeight}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rn({type:n,selectors:[["app-conductor"]],hostBindings:function(t,i){1&t&&We("resize",function(r){return i.onResize(r)},!1,Ib)},inputs:{playTime:"playTime"},decls:2,vars:8,consts:[["width","5",1,"conductor-view"],["x1","0","y1","0","x2","0","stroke","#1bff80","stroke-width","5px"]],template:function(t,i){1&t&&(Pi(),K(0,"svg",0),We("@play.done",function(){return"finished"}),He(1,"line",1),J()),2&t&&(xe("@play",qD(5,VZ,i.isPlaying?"finished":"waiting",pm(3,LZ,i.playTime))),at("height",i.height),Ae(1),at("y2",i.height))},styles:[".conductor-view[_ngcontent-%COMP%]{margin-left:0;position:absolute;top:5%;left:0px;z-index:2}"],data:{animation:[ey("play",[Ya("waiting",ys({left:"0px"})),Ya("finished",ys({left:"99%"})),zc("waiting => finished",[Hc("{{time}}s")],{params:{time:60}})])]}}),n})();function jZ(n,e){if(1&n&&He(0,"app-constellation",16),2&n){const t=e.$implicit;xe("draggableConstellations",dr().draggableConstellations)("aConst",t)}}const HZ=[{path:"",component:(()=>{class n{constructor(t){this.synth=t,this.getScreenCoords=new pe,this.playTime=15,this.locationConstellations=[],this.constellations=[],this.draggableConstellations=[],this.allConstellations=[],this.currStar=[],this.currConnection=[],this.boolChange=0,this.myLat=-1e5,this.currID=0,this.constellationList=kU,this.width=window.innerWidth}onSelectedConstellation(t){let i={height:t.height,width:t.width,name:t.name,stars:t.stars.map(s=>Object.assign({},s)),connections:t.connections.map(s=>Object.assign({},s)),leftBound:0,constellationID:this.currID};this.draggableConstellations.push(i),this.currID++,this.boolChange=1}changeStarPosition(){let t=window.innerHeight-.05*window.innerHeight,i=window.innerWidth-.2*window.innerWidth,s=Math.floor(Math.random()*(t-299-.05*window.innerHeight)+.05*window.innerHeight).toString()+"px",r=Math.floor(Math.random()*(i-299)).toString()+"px";t<300&&(s="0px"),i<300&&(r="0px");let o=document.getElementsByClassName("stars");null!=o&&o.length>0&&o[this.draggableConstellations.length-1].setAttribute("style","position: absolute; top:"+s+"; left:"+r+";"),this.boolChange=0}setPlayTime(t){this.playTime=t}getLocation(){navigator.geolocation.getCurrentPosition(t=>{console.log("i'm tracking you!"),this.myLat=t.coords.latitude,this.getConstellations()},t=>{t.code==t.PERMISSION_DENIED&&console.log("You denied support for geolocation :-("),this.getConstellations()})}getConstellations(){let i=(new Date).getMonth()+1;for(let s in this.constellationList){for(let o in this.constellationList[s].stars){let a=new FT(this.constellationList[s].stars[o][0],this.constellationList[s].stars[o][1]);this.currStar.push(a)}for(let o in this.constellationList[s].connections){let a=new PT(this.constellationList[s].connections[o][0],this.constellationList[s].connections[o][1],this.constellationList[s].connections[o][2],this.constellationList[s].connections[o][3]);this.currConnection.push(a)}let r={height:this.constellationList[s].height,width:this.constellationList[s].width,name:this.constellationList[s].name,stars:this.currStar,connections:this.currConnection,leftBound:0,constellationID:-1};this.constellationList[s].month==i&&this.constellationList[s].nLat>this.myLat&&this.constellationList[s].sLat<this.myLat?this.locationConstellations.push(r):this.constellations.push(r),this.currStar=[],this.currConnection=[],this.allConstellations.push(r),this.allConstellations.sort((o,a)=>o.name.localeCompare(a.name)),this.locationConstellations.sort((o,a)=>o.name.localeCompare(a.name)),this.constellations.sort((o,a)=>o.name.localeCompare(a.name))}}getTime(){let i=(new Date).getHours(),s=document.getElementsByClassName("night"),r=document.getElementsByClassName("day"),o=document.getElementsByTagName("body");0<=i&&i<=6?s[0].setAttribute("style","visibility:visible;"):6<i&&i<=12?(r[0].setAttribute("style","visibility:visible;"),o[0].setAttribute("style","background-image: linear-gradient(#9cb8ea, #5f8fe3);")):12<i&&i<=18?(r[0].setAttribute("style","visibility:visible;"),o[0].setAttribute("style","background-image: linear-gradient(#2F4090, #9284D1);")):18<i&&i<24&&s[0].setAttribute("style","visibility:visible;")}renderAudio(t){if(0==t)return void this.synth.stop();console.log("playing audio");let i={stars:[],connections:[]};this.consts.forEach((s,r)=>{i.stars.push(...s.getScreenCoord().stars),i.connections.push(...s.getScreenCoord().connections)}),console.log(i),this.synth.playStars(i,this.playTime)}ngOnInit(){this.getLocation(),this.getTime()}ngAfterViewChecked(){1==this.boolChange&&this.changeStarPosition()}}return n.\u0275fac=function(t){return new(t||n)(C(NI))},n.\u0275cmp=rn({type:n,selectors:[["app-sky"]],viewQuery:function(t,i){if(1&t&&gr(QA,5),2&t){let s;xn(s=Mn())&&(i.consts=s)}},outputs:{getScreenCoords:"getScreenCoords"},decls:20,vars:4,consts:[[3,"constellations","locationConstellations","time","renderAudio","onSelected","buttonPressed"],[1,"example-boundary"],[1,"night"],[1,"background-stars"],[1,"twinkling"],[1,"day"],["id","background-day"],[1,"x1"],[1,"cloud"],[1,"x2"],[1,"x3"],[1,"x4"],[1,"x5"],["class","stars",3,"draggableConstellations","aConst",4,"ngFor","ngForOf"],[3,"playTime"],["conductor",""],[1,"stars",3,"draggableConstellations","aConst"]],template:function(t,i){if(1&t){const s=tc();K(0,"app-menubar",0),We("time",function(o){return i.setPlayTime(o)})("renderAudio",function(o){return i.renderAudio(o)})("onSelected",function(o){return i.onSelectedConstellation(o)})("buttonPressed",function(o){return Xo(s),Sa(19).play(o)}),J(),K(1,"div",1),K(2,"div",2),He(3,"div",3),He(4,"div",4),J(),K(5,"div",5),K(6,"div",6),K(7,"div",7),He(8,"div",8),J(),K(9,"div",9),He(10,"div",8),J(),K(11,"div",10),He(12,"div",8),J(),K(13,"div",11),He(14,"div",8),J(),K(15,"div",12),He(16,"div",8),J(),J(),J(),En(17,jZ,1,2,"app-constellation",13),He(18,"app-conductor",14,15),J()}2&t&&(xe("constellations",i.constellations)("locationConstellations",i.locationConstellations),Ae(17),xe("ngForOf",i.draggableConstellations),Ae(1),xe("playTime",i.playTime))},directives:[NZ,ed,QA,BZ],styles:['.example-boundary[_ngcontent-%COMP%]{width:100%;height:95%;max-width:100%;z-index:2}mat-button-toggle[_ngcontent-%COMP%]{background-color:#00000080}mat-icon[_ngcontent-%COMP%]{color:#fff}.night[_ngcontent-%COMP%]{visibility:hidden}@keyframes move-twink-back{0%{background-position:0 0}to{background-position:-10000px 5000px}}.background-stars[_ngcontent-%COMP%], .twinkling[_ngcontent-%COMP%]{position:absolute;top:5%;left:0;right:0;bottom:0;width:100%;height:95%;display:block}.background-stars[_ngcontent-%COMP%]{background:#000 url(stars.a6e0379020b451ba.png) repeat top center;z-index:0}.twinkling[_ngcontent-%COMP%]{background:transparent url(twinkling.9b7817bf0ec44aee.png) repeat top center;z-index:1;animation:move-twink-back 200s linear infinite}.stars[_ngcontent-%COMP%]{z-index:2}.day[_ngcontent-%COMP%]{visibility:hidden}#background-day[_ngcontent-%COMP%]{bottom:0;left:0;padding-top:5%;position:fixed;right:0;top:5%;z-index:-1}@keyframes animateCloud{0%{margin-left:-1000px}to{margin-left:100%}}.x1[_ngcontent-%COMP%]{animation:animateCloud 35s linear infinite;transform:scale(.65)}.x2[_ngcontent-%COMP%]{animation:animateCloud 20s linear infinite;transform:scale(.3)}.x3[_ngcontent-%COMP%]{animation:animateCloud 30s linear infinite;transform:scale(.5)}.x4[_ngcontent-%COMP%]{animation:animateCloud 18s linear infinite;transform:scale(.4)}.x5[_ngcontent-%COMP%]{animation:animateCloud 25s linear infinite;transform:scale(.55)}.cloud[_ngcontent-%COMP%]{background:#fff;border-radius:100px;height:120px;position:relative;width:350px;opacity:.1}.cloud[_ngcontent-%COMP%]:after, .cloud[_ngcontent-%COMP%]:before{background:#fff;content:"";position:absolute;z-indeX:-1}.cloud[_ngcontent-%COMP%]:after{border-radius:100px;height:100px;left:50px;top:-50px;width:100px}.cloud[_ngcontent-%COMP%]:before{border-radius:200px;width:180px;height:180px;right:50px;top:-90px}']}),n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}];let zZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[IT.forRoot(HZ)],IT]}),n})(),UZ=(()=>{class n{constructor(){this.title="star-compose"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&He(0,"router-outlet")},directives:[S_],styles:[""]}),n})(),$Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=nt({imports:[[t_,nn,Lc],Lc,nn]}),n})(),GZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n,bootstrap:[UZ]}),n.\u0275inj=nt({providers:[],imports:[[DS,zZ,$H,u9,xY,Dz,bY,zI,$Z,xZ,wU,UY,y9,zI,bZ]]}),n})();(function PV(){FE=!1})(),s8().bootstrapModule(GZ).catch(n=>console.error(n))},21:function(ie,Be,me){!function(q,et,Ke,Dt){"use strict";function Me(j){return j&&"object"==typeof j&&"default"in j?j:{default:j}}var li=Me(et),Ji=Me(Ke),Lo=Me(Dt),es=function(Q,_e,L){return{endTime:_e,insertTime:L,type:"exponentialRampToValue",value:Q}},Vr=function(Q,_e,L){return{endTime:_e,insertTime:L,type:"linearRampToValue",value:Q}},Vo=function(Q,_e){return{startTime:_e,type:"setValue",value:Q}},er=function(Q,_e,L){return{duration:L,startTime:_e,type:"setValueCurve",values:Q}},Fu=function(Q,_e,L){var V=L.target;return V+(_e-V)*Math.exp((L.startTime-Q)/L.timeConstant)},tr=function(Q){return"exponentialRampToValue"===Q.type},Bo=function(Q){return"linearRampToValue"===Q.type},ci=function(Q){return tr(Q)||Bo(Q)},xi=function(Q){return"setValue"===Q.type},Fn=function(Q){return"setValueCurve"===Q.type},bl=function j(Q,_e,L,ee){var V=Q[_e];return void 0===V?ee:ci(V)||xi(V)?V.value:Fn(V)?V.values[V.values.length-1]:Fu(L,j(Q,_e-1,V.startTime,ee),V)},jo=function(Q,_e,L,ee,V){return void 0===L?[ee.insertTime,V]:ci(L)?[L.endTime,L.value]:xi(L)?[L.startTime,L.value]:Fn(L)?[L.startTime+L.duration,L.values[L.values.length-1]]:[L.startTime,bl(Q,_e-1,L.startTime,V)]},Br=function(Q){return"cancelAndHold"===Q.type},jr=function(Q){return"cancelScheduledValues"===Q.type},Mi=function(Q){return Br(Q)||jr(Q)?Q.cancelTime:tr(Q)||Bo(Q)?Q.endTime:Q.startTime},Ho=function(Q,_e,L,ee){var Ye=ee.value;return L===Ye?Ye:0<L&&0<Ye||L<0&&Ye<0?L*Math.pow(Ye/L,(Q-_e)/(ee.endTime-_e)):0},Pu=function(Q,_e,L,ee){return L+(Q-_e)/(ee.endTime-_e)*(ee.value-L)},ts=function(Q,_e){var V=_e.values;return function(Q,_e){var L=Math.floor(_e),ee=Math.ceil(_e);return L===ee?Q[L]:(1-(_e-L))*Q[L]+(1-(ee-_e))*Q[ee]}(V,(Q-_e.startTime)/_e.duration*(V.length-1))},Cl=function(Q){return"setTarget"===Q.type},Nu=function(j){function Q(_e){Ji.default(this,Q),this._automationEvents=[],this._currenTime=0,this._defaultValue=_e}return Lo.default(Q,[{key:j,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(L){var ee=Mi(L);if(Br(L)||jr(L)){var V=this._automationEvents.findIndex(function(Ai){return jr(L)&&Fn(Ai)?Ai.startTime+Ai.duration>=ee:Mi(Ai)>=ee}),Ye=this._automationEvents[V];if(-1!==V&&(this._automationEvents=this._automationEvents.slice(0,V)),Br(L)){var Ce=this._automationEvents[this._automationEvents.length-1];if(void 0!==Ye&&ci(Ye)){if(Cl(Ce))throw new Error("The internal list is malformed.");var Hr=Fn(Ce)?Ce.startTime+Ce.duration:Mi(Ce),zo=Fn(Ce)?Ce.values[Ce.values.length-1]:Ce.value,Dl=tr(Ye)?Ho(ee,Hr,zo,Ye):Pu(ee,Hr,zo,Ye),Vu=tr(Ye)?es(Dl,ee,this._currenTime):Vr(Dl,ee,this._currenTime);this._automationEvents.push(Vu)}void 0!==Ce&&Cl(Ce)&&this._automationEvents.push(Vo(this.getValue(ee),ee)),void 0!==Ce&&Fn(Ce)&&Ce.startTime+Ce.duration>ee&&(this._automationEvents[this._automationEvents.length-1]=er(new Float32Array([6,7]),Ce.startTime,ee-Ce.startTime))}}else{var nr=this._automationEvents.findIndex(function(Ai){return Mi(Ai)>ee}),As=-1===nr?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[nr-1];if(void 0!==As&&Fn(As)&&Mi(As)+As.duration>ee)return!1;var El=tr(L)?es(L.value,L.endTime,this._currenTime):Bo(L)?Vr(L.value,ee,this._currenTime):L;if(-1===nr)this._automationEvents.push(El);else{if(Fn(L)&&ee+L.duration>Mi(this._automationEvents[nr]))return!1;this._automationEvents.splice(nr,0,El)}}return!0}},{key:"flush",value:function(L){var ee=this._automationEvents.findIndex(function(Ce){return Mi(Ce)>L});if(ee>1){var V=this._automationEvents.slice(ee-1),Ye=V[0];Cl(Ye)&&V.unshift(Vo(bl(this._automationEvents,ee-2,Ye.startTime,this._defaultValue),Ye.startTime)),this._automationEvents=V}}},{key:"getValue",value:function(L){if(0===this._automationEvents.length)return this._defaultValue;var ee=this._automationEvents.findIndex(function(Y0){return Mi(Y0)>L}),V=this._automationEvents[ee],Ye=(-1===ee?this._automationEvents.length:ee)-1,Ce=this._automationEvents[Ye];if(void 0!==Ce&&Cl(Ce)&&(void 0===V||!ci(V)||V.insertTime>L))return Fu(L,bl(this._automationEvents,Ye-1,Ce.startTime,this._defaultValue),Ce);if(void 0!==Ce&&xi(Ce)&&(void 0===V||!ci(V)))return Ce.value;if(void 0!==Ce&&Fn(Ce)&&(void 0===V||!ci(V)||Ce.startTime+Ce.duration>L))return L<Ce.startTime+Ce.duration?ts(L,Ce):Ce.values[Ce.values.length-1];if(void 0!==Ce&&ci(Ce)&&(void 0===V||!ci(V)))return Ce.value;if(void 0!==V&&tr(V)){var Hr=jo(this._automationEvents,Ye,Ce,V,this._defaultValue),zo=li.default(Hr,2);return Ho(L,zo[0],zo[1],V)}if(void 0!==V&&Bo(V)){var nr=jo(this._automationEvents,Ye,Ce,V,this._defaultValue),As=li.default(nr,2);return Pu(L,As[0],As[1],V)}return this._defaultValue}}]),Q}(Symbol.iterator);q.AutomationEventList=Nu,q.createCancelAndHoldAutomationEvent=function(Q){return{cancelTime:Q,type:"cancelAndHold"}},q.createCancelScheduledValuesAutomationEvent=function(Q){return{cancelTime:Q,type:"cancelScheduledValues"}},q.createExponentialRampToValueAutomationEvent=function(Q,_e){return{endTime:_e,type:"exponentialRampToValue",value:Q}},q.createLinearRampToValueAutomationEvent=function(Q,_e){return{endTime:_e,type:"linearRampToValue",value:Q}},q.createSetTargetAutomationEvent=function(Q,_e,L){return{startTime:_e,target:Q,timeConstant:L,type:"setTarget"}},q.createSetValueAutomationEvent=Vo,q.createSetValueCurveAutomationEvent=er,Object.defineProperty(q,"__esModule",{value:!0})}(Be,me(428),me(785),me(919))},915:ie=>{ie.exports=function Be(me,q){(null==q||q>me.length)&&(q=me.length);for(var et=0,Ke=new Array(q);et<q;et++)Ke[et]=me[et];return Ke},ie.exports.__esModule=!0,ie.exports.default=ie.exports},572:ie=>{ie.exports=function Be(me){if(Array.isArray(me))return me},ie.exports.__esModule=!0,ie.exports.default=ie.exports},785:ie=>{ie.exports=function Be(me,q){if(!(me instanceof q))throw new TypeError("Cannot call a class as a function")},ie.exports.__esModule=!0,ie.exports.default=ie.exports},919:ie=>{function Be(q,et){for(var Ke=0;Ke<et.length;Ke++){var Dt=et[Ke];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(q,Dt.key,Dt)}}ie.exports=function me(q,et,Ke){return et&&Be(q.prototype,et),Ke&&Be(q,Ke),Object.defineProperty(q,"prototype",{writable:!1}),q},ie.exports.__esModule=!0,ie.exports.default=ie.exports},617:ie=>{ie.exports=function Be(me,q){var et=null==me?null:"undefined"!=typeof Symbol&&me[Symbol.iterator]||me["@@iterator"];if(null!=et){var li,Ji,Ke=[],Dt=!0,Me=!1;try{for(et=et.call(me);!(Dt=(li=et.next()).done)&&(Ke.push(li.value),!q||Ke.length!==q);Dt=!0);}catch(Lo){Me=!0,Ji=Lo}finally{try{!Dt&&null!=et.return&&et.return()}finally{if(Me)throw Ji}}return Ke}},ie.exports.__esModule=!0,ie.exports.default=ie.exports},600:ie=>{ie.exports=function Be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},ie.exports.__esModule=!0,ie.exports.default=ie.exports},428:(ie,Be,me)=>{var q=me(572),et=me(617),Ke=me(105),Dt=me(600);ie.exports=function Me(li,Ji){return q(li)||et(li,Ji)||Ke(li,Ji)||Dt()},ie.exports.__esModule=!0,ie.exports.default=ie.exports},105:(ie,Be,me)=>{var q=me(915);ie.exports=function et(Ke,Dt){if(Ke){if("string"==typeof Ke)return q(Ke,Dt);var Me=Object.prototype.toString.call(Ke).slice(8,-1);if("Object"===Me&&Ke.constructor&&(Me=Ke.constructor.name),"Map"===Me||"Set"===Me)return Array.from(Ke);if("Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return q(Ke,Dt)}},ie.exports.__esModule=!0,ie.exports.default=ie.exports}},ie=>{ie(ie.s=441)}]);